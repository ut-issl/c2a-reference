<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>C2A_Core: src/src_core/Drivers/Super/driver_super.c ソースファイル</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">C2A_Core
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 構築: Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'検索');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','検索');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('driver__super_8c_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">driver_super.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="driver__super_8c.html">[詳解]</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#pragma section REPRO</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160; </div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="driver__super_8h.html">driver_super.h</a>&quot;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;../../Library/print.h&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &lt;string.h&gt;</span>     <span class="comment">// for memsetなどのmem系</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &lt;stddef.h&gt;</span>     <span class="comment">// for NULL</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160; </div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">// #define DS_DEBUG                       // 適切なときにコメントアウトする</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">// #define DS_DEBUG_SHOW_REC_DATA         // 適切なときにコメントアウトする</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160; </div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="keyword">static</span> <a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165">DS_ERR_CODE</a> <a class="code" href="driver__super_8c.html#a842941ac8ad9d371e21b973188a50c37">DS_send_cmd_</a>(<a class="code" href="struct_driver_super.html">DriverSuper</a>* p_super, <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> stream);</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span>      <a class="code" href="driver__super_8c.html#ab223b76629636378c61745e0fc47313d">DS_tx_</a>(<a class="code" href="struct_driver_super.html">DriverSuper</a>* p_super, <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> stream);</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span>      <a class="code" href="driver__super_8c.html#a60c364a73c9e59802dd758e8ce57b3ce">DS_rx_</a>(<a class="code" href="struct_driver_super.html">DriverSuper</a>* p_super);</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span>     <a class="code" href="driver__super_8c.html#a813429b169d4c05cce10cff391dd901c">DS_analyze_rx_buffer_</a>(<a class="code" href="struct_driver_super.html">DriverSuper</a>* p_super,</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;                                      <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> stream,</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;                                      <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> rec_data_len);</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="keyword">static</span> <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> <a class="code" href="driver__super_8c.html#aa1808ed031c65cfd936fa3c2cc9bae66">DS_analyze_rx_buffer_prepare_buffer_</a>(<a class="code" href="struct_driver_super.html">DriverSuper</a>* p_super,</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;                                                     <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> stream,</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;                                                     <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>* rx_buffer,</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;                                                     <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> rec_data_len);</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="keyword">static</span> <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> <a class="code" href="driver__super_8c.html#adb55026a05103c4bf63d2354134864c7">DS_analyze_rx_buffer_pickup_</a>(<a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config,</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;                                             <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>* rx_buffer,</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;                                             <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> rec_data_len);</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span>     <a class="code" href="driver__super_8c.html#a315021431cc376fea12509fd0962e0cc">DS_analyze_rx_buffer_carry_over_buffer_</a>(<a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config,</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;                                                        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>* rx_buffer,</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;                                                        <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> total_processed_data_len,</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;                                                        <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> rec_data_len);</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="keyword">static</span> <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> <a class="code" href="driver__super_8c.html#a307c2f714ae48261cd20926db4add15c">DS_analyze_rx_buffer_fixed_pickup_</a>(<a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config,</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;                                                   <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>* rx_buffer,</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;                                                   <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> total_processed_data_len,</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;                                                   <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> rec_data_len);</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="keyword">static</span> <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> <a class="code" href="driver__super_8c.html#ae3822bd6031c1023b5eac98cc3bf8e57">DS_analyze_rx_buffer_variable_pickup_with_rx_frame_size_</a>(<a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config,</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;                                                                         <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>* rx_buffer,</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;                                                                         <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> total_processed_data_len,</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;                                                                         <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> rec_data_len);</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="keyword">static</span> <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> <a class="code" href="driver__super_8c.html#aba44a396fa200beaf48099d2f50bfb12">DS_analyze_rx_buffer_variable_pickup_with_footer_</a>(<a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config,</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;                                                                  <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>* rx_buffer,</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;                                                                  <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> total_processed_data_len,</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;                                                                  <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> rec_data_len);</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="keyword">static</span> <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> <a class="code" href="driver__super_8c.html#af3cb3191ff23514897baa564e95fee12">DS_analyze_rx_buffer_finding_header_</a>(<a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config,</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;                                                     <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>* rx_buffer,</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;                                                     <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> total_processed_data_len,</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;                                                     <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> rec_data_len);</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="keyword">static</span> <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> <a class="code" href="driver__super_8c.html#a3d6d6c60302ac1a8f96666f4fed34f7d">DS_analyze_rx_buffer_receiving_header_</a>(<a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config,</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;                                                       <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>* rx_buffer,</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;                                                       <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> total_processed_data_len);</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="keyword">static</span> <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> <a class="code" href="driver__super_8c.html#ac03ce9459ce22d22218665a0a14c3b79">DS_analyze_rx_buffer_receiving_footer_</a>(<a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config,</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;                                                       <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>* rx_buffer,</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;                                                       <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> total_processed_data_len,</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;                                                       <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> rx_frame_size);</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="keyword">static</span> <a class="code" href="stdint_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a> <a class="code" href="driver__super_8c.html#afd6a7ce3042412d75d326aa44a140d7c">DS_analyze_rx_buffer_get_framelength_</a>(<a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config);</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160; </div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="keyword">static</span> <a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165">DS_ERR_CODE</a> <a class="code" href="driver__super_8c.html#a8f518ac0c2785b0b5b3de8d226dc91b6">DS_reset_stream_config_</a>(<a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config);</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="keyword">static</span> <a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165">DS_ERR_CODE</a> <a class="code" href="driver__super_8c.html#ad1bdc8947460e5efe01f9970684d06dc">DS_validate_stream_config_</a>(<a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config);</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160; </div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment">// ダミー関数</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment">// EQUだと関数ポインタの初期値をNULLにしていたためにぬるぽで事故ったので</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="keyword">static</span> <a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165">DS_ERR_CODE</a> <a class="code" href="driver__super_8c.html#a8183efca88aff7a47cd50b16e83a66ca">DS_load_init_setting_dummy_</a>(<a class="code" href="struct_driver_super.html">DriverSuper</a>* p_super);</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="keyword">static</span> <a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165">DS_ERR_CODE</a> <a class="code" href="driver__super_8c.html#a17276ca37e76a016ddc12766fda7309f">DS_data_analyzer_dummy_</a>(<a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config, <span class="keywordtype">void</span>* p_driver);</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160; </div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160; </div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment">// ###### DriverSuper基本関数 ######</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160; </div>
<div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="driver__super_8h.html#ae53312061d6acbd24edd316d126c7dea">   73</a></span>&#160;<a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165">DS_ERR_CODE</a> <a class="code" href="driver__super_8c.html#ae53312061d6acbd24edd316d126c7dea">DS_init</a>(<a class="code" href="struct_driver_super.html">DriverSuper</a>* p_super, <span class="keywordtype">void</span>* if_config, <a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165">DS_ERR_CODE</a> (*load_init_setting)(<a class="code" href="struct_driver_super.html">DriverSuper</a>* p_super))</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;{</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="driver__super_8c.html#a7f4bb1ea81bf8d3a89752a0fc875afce">DS_reset</a>(p_super) != <a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165a9a38fe6c4618e1519e0d218bac5d60c2">DS_ERR_CODE_OK</a>) <span class="keywordflow">return</span> <a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165a757cf24e5dd8eaaeb1e0554ad1a3203a">DS_ERR_CODE_ERR</a>;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160; </div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  p_super-&gt;<a class="code" href="struct_driver_super.html#af946e67e11862521885fd51af8c1d602">if_config</a> = if_config;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160; </div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  p_super-&gt;<a class="code" href="struct_driver_super.html#af62b09fc1a66536e8dcd5a29879782b0">config</a>.<a class="code" href="struct_d_s___config.html#ab54e18abe98413930f6ad268f4c2fd39">load_init_setting</a> = load_init_setting;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <span class="keywordflow">if</span> (p_super-&gt;<a class="code" href="struct_driver_super.html#af62b09fc1a66536e8dcd5a29879782b0">config</a>.<a class="code" href="struct_d_s___config.html#ab54e18abe98413930f6ad268f4c2fd39">load_init_setting</a>(p_super) != <a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165a9a38fe6c4618e1519e0d218bac5d60c2">DS_ERR_CODE_OK</a>) <span class="keywordflow">return</span> <a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165a757cf24e5dd8eaaeb1e0554ad1a3203a">DS_ERR_CODE_ERR</a>;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160; </div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="driver__super_8c.html#a54c663378f78e30014495b4957a575ff">DS_validate_config</a>(p_super) != <a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165a9a38fe6c4618e1519e0d218bac5d60c2">DS_ERR_CODE_OK</a>) <span class="keywordflow">return</span> <a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165a757cf24e5dd8eaaeb1e0554ad1a3203a">DS_ERR_CODE_ERR</a>;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160; </div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  <span class="comment">// IFの初期化</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  <span class="comment">// 一旦シンプルにIF_initのエラーコードは無視する（実機でここでエラー出る場合はコードがおかしいので．必要があれば将来実装．）</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  <span class="keywordflow">if</span> ( (*<a class="code" href="if__list_8c.html#a76c66cc5f505840553fcf03deaa67ede">IF_init</a>[p_super-&gt;<a class="code" href="struct_driver_super.html#a156dfb094536309694466e26cc78410d">interface</a>])(p_super-&gt;<a class="code" href="struct_driver_super.html#af946e67e11862521885fd51af8c1d602">if_config</a>) != 0 ) <span class="keywordflow">return</span> <a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165a757cf24e5dd8eaaeb1e0554ad1a3203a">DS_ERR_CODE_ERR</a>;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160; </div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165a9a38fe6c4618e1519e0d218bac5d60c2">DS_ERR_CODE_OK</a>;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;}</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160; </div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160; </div>
<div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="driver__super_8h.html#a7f4bb1ea81bf8d3a89752a0fc875afce">   92</a></span>&#160;<a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165">DS_ERR_CODE</a> <a class="code" href="driver__super_8c.html#a7f4bb1ea81bf8d3a89752a0fc875afce">DS_reset</a>(<a class="code" href="struct_driver_super.html">DriverSuper</a>* p_super)</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;{</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> stream;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160; </div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  p_super-&gt;<a class="code" href="struct_driver_super.html#a156dfb094536309694466e26cc78410d">interface</a> = <a class="code" href="if__list_8h.html#ab5f5f490541a10960ef592a061c74408a0af9761a69e0a7d2c7b881a09c4fe5c3">IF_LIST_MAX</a>; <span class="comment">// FIXME: (*IF_init[p_super-&gt;interface])(p_super-&gt;if_config) の様な使い方をするのでセグフォが起こる可能性があり</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  p_super-&gt;<a class="code" href="struct_driver_super.html#af946e67e11862521885fd51af8c1d602">if_config</a> = NULL;        <span class="comment">// FIXME: NULLポインタはこの関数がReset単体で使われるとマズい</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160; </div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  memset(p_super-&gt;<a class="code" href="struct_driver_super.html#af62b09fc1a66536e8dcd5a29879782b0">config</a>.<a class="code" href="struct_d_s___config.html#afb79a99606225117f79d0028cee944b5">rx_buffer_</a>, 0x00, <span class="keyword">sizeof</span>(p_super-&gt;<a class="code" href="struct_driver_super.html#af62b09fc1a66536e8dcd5a29879782b0">config</a>.<a class="code" href="struct_d_s___config.html#afb79a99606225117f79d0028cee944b5">rx_buffer_</a>));</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160; </div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  p_super-&gt;<a class="code" href="struct_driver_super.html#af62b09fc1a66536e8dcd5a29879782b0">config</a>.<a class="code" href="struct_d_s___config.html#ab54e18abe98413930f6ad268f4c2fd39">load_init_setting</a> = <a class="code" href="driver__super_8c.html#a8183efca88aff7a47cd50b16e83a66ca">DS_load_init_setting_dummy_</a>;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160; </div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  p_super-&gt;<a class="code" href="struct_driver_super.html#af62b09fc1a66536e8dcd5a29879782b0">config</a>.<a class="code" href="struct_d_s___config.html#a58d900a563f500804b18637e373fb1c6">rec_status_</a>.<a class="code" href="struct_d_s___rec_status.html#ab7c5097dd4b1f2d8b43ee9e6d1849107">ret_from_if_rx</a>       = 0;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  p_super-&gt;<a class="code" href="struct_driver_super.html#af62b09fc1a66536e8dcd5a29879782b0">config</a>.<a class="code" href="struct_d_s___config.html#a58d900a563f500804b18637e373fb1c6">rec_status_</a>.<a class="code" href="struct_d_s___rec_status.html#a996122cbb61146f48db29acf13fbd9d1">rx_disruption_status</a> = <a class="code" href="driver__super_8h.html#ae2cc6e08ec5fab4997ba383ac7da05c7af457cbb2cdac79661ce6dffe444a35a8">DS_RX_DISRUPTION_STATUS_OK</a>;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160; </div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  p_super-&gt;<a class="code" href="struct_driver_super.html#af62b09fc1a66536e8dcd5a29879782b0">config</a>.<a class="code" href="struct_d_s___config.html#a7a70fd58861ceac15a5ec34396a71fb2">rx_count_</a>      = 0;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  p_super-&gt;<a class="code" href="struct_driver_super.html#af62b09fc1a66536e8dcd5a29879782b0">config</a>.<a class="code" href="struct_d_s___config.html#a8851441bcec2964fac1fd60221989793">rx_call_count_</a> = 0;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  p_super-&gt;<a class="code" href="struct_driver_super.html#af62b09fc1a66536e8dcd5a29879782b0">config</a>.<a class="code" href="struct_d_s___config.html#a24adf564678b3834c4b5532af372f279">rx_time_</a>       = <a class="code" href="time__manager_8c.html#a9d04b4d9b622cbe5a90cf65e58b828bc">TMGR_get_master_clock</a>();</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160; </div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  p_super-&gt;<a class="code" href="struct_driver_super.html#af62b09fc1a66536e8dcd5a29879782b0">config</a>.<a class="code" href="struct_d_s___config.html#a0e6315f613f40d1debf8c3814f0a25c5">should_monitor_for_rx_disruption_</a> = 0;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  p_super-&gt;<a class="code" href="struct_driver_super.html#af62b09fc1a66536e8dcd5a29879782b0">config</a>.<a class="code" href="struct_d_s___config.html#a2688e515642a822ef0ca1de956043198">time_threshold_for_rx_disruption_</a> = 60 * 1000;      <span class="comment">// この値はよく考えること</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160; </div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <span class="keywordflow">for</span> (stream = 0; stream &lt; <a class="code" href="driver__super_8h.html#a6de2adaf747f15e857f8270e62ee7a1e">DS_STREAM_MAX</a>; ++stream)</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  {</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165">DS_ERR_CODE</a> ret = <a class="code" href="driver__super_8c.html#a8f518ac0c2785b0b5b3de8d226dc91b6">DS_reset_stream_config_</a>(&amp;p_super-&gt;<a class="code" href="struct_driver_super.html#a68921a2117dd6f95d878b6c201729bc9">stream_config</a>[stream]);</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="keywordflow">if</span> (ret != <a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165a9a38fe6c4618e1519e0d218bac5d60c2">DS_ERR_CODE_OK</a>) <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  }</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165a9a38fe6c4618e1519e0d218bac5d60c2">DS_ERR_CODE_OK</a>;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;}</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160; </div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160; </div>
<div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="driver__super_8h.html#a54c663378f78e30014495b4957a575ff">  122</a></span>&#160;<a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165">DS_ERR_CODE</a> <a class="code" href="driver__super_8c.html#a54c663378f78e30014495b4957a575ff">DS_validate_config</a>(<a class="code" href="struct_driver_super.html">DriverSuper</a>* p_super)</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;{</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> stream;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160; </div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <span class="keywordflow">if</span> (p_super-&gt;<a class="code" href="struct_driver_super.html#a156dfb094536309694466e26cc78410d">interface</a> &lt; 0 || p_super-&gt;<a class="code" href="struct_driver_super.html#a156dfb094536309694466e26cc78410d">interface</a> &gt;= <a class="code" href="if__list_8h.html#ab5f5f490541a10960ef592a061c74408a0af9761a69e0a7d2c7b881a09c4fe5c3">IF_LIST_MAX</a>) <span class="keywordflow">return</span> <a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165a757cf24e5dd8eaaeb1e0554ad1a3203a">DS_ERR_CODE_ERR</a>;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <span class="keywordflow">if</span> (p_super-&gt;<a class="code" href="struct_driver_super.html#af946e67e11862521885fd51af8c1d602">if_config</a> == NULL) <span class="keywordflow">return</span> <a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165a757cf24e5dd8eaaeb1e0554ad1a3203a">DS_ERR_CODE_ERR</a>;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160; </div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  <span class="keywordflow">for</span> (stream = 0; stream &lt; <a class="code" href="driver__super_8h.html#a6de2adaf747f15e857f8270e62ee7a1e">DS_STREAM_MAX</a>; ++stream)</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  {</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165">DS_ERR_CODE</a> ret = <a class="code" href="driver__super_8c.html#ad1bdc8947460e5efe01f9970684d06dc">DS_validate_stream_config_</a>(&amp;p_super-&gt;<a class="code" href="struct_driver_super.html#a68921a2117dd6f95d878b6c201729bc9">stream_config</a>[stream]);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keywordflow">if</span> (ret != <a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165a9a38fe6c4618e1519e0d218bac5d60c2">DS_ERR_CODE_OK</a>) <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  }</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160; </div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165a9a38fe6c4618e1519e0d218bac5d60c2">DS_ERR_CODE_OK</a>;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;}</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160; </div>
<div class="line"><a name="l00138"></a><span class="lineno"><a class="line" href="driver__super_8h.html#ad21e295eb43520f915b923c0d2eb5c94">  138</a></span>&#160;<a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165">DS_ERR_CODE</a> <a class="code" href="driver__super_8c.html#ad21e295eb43520f915b923c0d2eb5c94">DS_clear_rx_buffer</a>(<a class="code" href="struct_driver_super.html">DriverSuper</a>* p_super)</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;{</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> stream;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160; </div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <span class="comment">// 以下，各種 buffer を memsetで念の為0クリアしておくが，</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <span class="comment">// 情報は carry_over_buffer_size_ にあるので，動作上意味はない．</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  memset(p_super-&gt;<a class="code" href="struct_driver_super.html#af62b09fc1a66536e8dcd5a29879782b0">config</a>.<a class="code" href="struct_d_s___config.html#afb79a99606225117f79d0028cee944b5">rx_buffer_</a>, 0x00, <span class="keyword">sizeof</span>(p_super-&gt;<a class="code" href="struct_driver_super.html#af62b09fc1a66536e8dcd5a29879782b0">config</a>.<a class="code" href="struct_d_s___config.html#afb79a99606225117f79d0028cee944b5">rx_buffer_</a>));</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160; </div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <span class="keywordflow">for</span> (stream = 0; stream &lt; <a class="code" href="driver__super_8h.html#a6de2adaf747f15e857f8270e62ee7a1e">DS_STREAM_MAX</a>; ++stream)</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  {</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    p_super-&gt;<a class="code" href="struct_driver_super.html#a68921a2117dd6f95d878b6c201729bc9">stream_config</a>[stream].<a class="code" href="struct_d_s___stream_config.html#ac921c9a2900af72cc2acfeb7966bc2e3">rx_frame_rec_len_</a> = 0;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    p_super-&gt;<a class="code" href="struct_driver_super.html#a68921a2117dd6f95d878b6c201729bc9">stream_config</a>[stream].<a class="code" href="struct_d_s___stream_config.html#ad1995ad0637ebb96232767c3fc731e55">is_rx_buffer_carry_over_</a> = 0;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    p_super-&gt;<a class="code" href="struct_driver_super.html#a68921a2117dd6f95d878b6c201729bc9">stream_config</a>[stream].<a class="code" href="struct_d_s___stream_config.html#a1f1f355089d571eac84c8993cf951fce">carry_over_buffer_size_</a>  = 0;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160; </div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    memset(p_super-&gt;<a class="code" href="struct_driver_super.html#a68921a2117dd6f95d878b6c201729bc9">stream_config</a>[stream].<a class="code" href="struct_d_s___stream_config.html#a3728f3399352384324aa54908fd754da">rx_frame_</a>,</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;           0x00,</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;           <span class="keyword">sizeof</span>(p_super-&gt;<a class="code" href="struct_driver_super.html#a68921a2117dd6f95d878b6c201729bc9">stream_config</a>[stream].<a class="code" href="struct_d_s___stream_config.html#a3728f3399352384324aa54908fd754da">rx_frame_</a>));</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    memset(p_super-&gt;<a class="code" href="struct_driver_super.html#a68921a2117dd6f95d878b6c201729bc9">stream_config</a>[stream].<a class="code" href="struct_d_s___stream_config.html#a7062764ae0bcc0674736b49238520ca6">rx_buffer_for_carry_over_</a>,</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;           0x00,</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;           <span class="keyword">sizeof</span>(p_super-&gt;<a class="code" href="struct_driver_super.html#a68921a2117dd6f95d878b6c201729bc9">stream_config</a>[stream].<a class="code" href="struct_d_s___stream_config.html#a7062764ae0bcc0674736b49238520ca6">rx_buffer_for_carry_over_</a>));</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  }</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160; </div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165a9a38fe6c4618e1519e0d218bac5d60c2">DS_ERR_CODE_OK</a>;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;}</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160; </div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160; </div>
<div class="line"><a name="l00164"></a><span class="lineno"><a class="line" href="driver__super_8h.html#acadaccbff239185ebda242d39d4942bd">  164</a></span>&#160;<a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165">DS_ERR_CODE</a> <a class="code" href="driver__super_8c.html#acadaccbff239185ebda242d39d4942bd">DS_receive</a>(<a class="code" href="struct_driver_super.html">DriverSuper</a>* p_super)</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;{</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>  stream;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> rec_data_len;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <span class="keywordtype">int</span>      ret_rx;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160; </div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  p_super-&gt;<a class="code" href="struct_driver_super.html#af62b09fc1a66536e8dcd5a29879782b0">config</a>.<a class="code" href="struct_d_s___config.html#a8851441bcec2964fac1fd60221989793">rx_call_count_</a>++;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160; </div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  <span class="comment">// 各Driverで物理的に接続されている wire は１本なので，それをここで受信する．</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  <span class="comment">// 後段の stream では，その受信したビット列に対して，複数のフレーム種類に対して，フレーム探索，確定処理を走らす．</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  ret_rx = <a class="code" href="driver__super_8c.html#a60c364a73c9e59802dd758e8ce57b3ce">DS_rx_</a>(p_super);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  p_super-&gt;<a class="code" href="struct_driver_super.html#af62b09fc1a66536e8dcd5a29879782b0">config</a>.<a class="code" href="struct_d_s___config.html#a58d900a563f500804b18637e373fb1c6">rec_status_</a>.<a class="code" href="struct_d_s___rec_status.html#ab7c5097dd4b1f2d8b43ee9e6d1849107">ret_from_if_rx</a> = ret_rx;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160; </div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  <span class="keywordflow">if</span> (ret_rx &gt; 0)</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  {</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="comment">// なにかしらの受信データあり</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    p_super-&gt;<a class="code" href="struct_driver_super.html#af62b09fc1a66536e8dcd5a29879782b0">config</a>.<a class="code" href="struct_d_s___config.html#a7a70fd58861ceac15a5ec34396a71fb2">rx_count_</a>++;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    p_super-&gt;<a class="code" href="struct_driver_super.html#af62b09fc1a66536e8dcd5a29879782b0">config</a>.<a class="code" href="struct_d_s___config.html#a24adf564678b3834c4b5532af372f279">rx_time_</a> = <a class="code" href="time__manager_8c.html#a9d04b4d9b622cbe5a90cf65e58b828bc">TMGR_get_master_clock</a>();</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  }</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160; </div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  <span class="comment">// 受信途絶判定</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <span class="comment">// テレメなどで見るときにノイズになるので，判定しないときは OK にしておく</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  p_super-&gt;<a class="code" href="struct_driver_super.html#af62b09fc1a66536e8dcd5a29879782b0">config</a>.<a class="code" href="struct_d_s___config.html#a58d900a563f500804b18637e373fb1c6">rec_status_</a>.<a class="code" href="struct_d_s___rec_status.html#a996122cbb61146f48db29acf13fbd9d1">rx_disruption_status</a> = <a class="code" href="driver__super_8h.html#ae2cc6e08ec5fab4997ba383ac7da05c7af457cbb2cdac79661ce6dffe444a35a8">DS_RX_DISRUPTION_STATUS_OK</a>;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <span class="keywordflow">if</span> (p_super-&gt;<a class="code" href="struct_driver_super.html#af62b09fc1a66536e8dcd5a29879782b0">config</a>.<a class="code" href="struct_d_s___config.html#a0e6315f613f40d1debf8c3814f0a25c5">should_monitor_for_rx_disruption_</a>)</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  {</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <a class="code" href="struct_obc_time.html">ObcTime</a> now = <a class="code" href="time__manager_8c.html#a9d04b4d9b622cbe5a90cf65e58b828bc">TMGR_get_master_clock</a>();</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <a class="code" href="stdint_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a> last_rx_ago = <a class="code" href="obc__time_8c.html#a51f2c2c48be7ec8985ec47f36bef1335">OBCT_diff_in_msec</a>(&amp;p_super-&gt;<a class="code" href="struct_driver_super.html#af62b09fc1a66536e8dcd5a29879782b0">config</a>.<a class="code" href="struct_d_s___config.html#a24adf564678b3834c4b5532af372f279">rx_time_</a>, &amp;now);</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160; </div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="keywordflow">if</span> (last_rx_ago &gt; p_super-&gt;<a class="code" href="struct_driver_super.html#af62b09fc1a66536e8dcd5a29879782b0">config</a>.<a class="code" href="struct_d_s___config.html#a2688e515642a822ef0ca1de956043198">time_threshold_for_rx_disruption_</a>)</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    {</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;      p_super-&gt;<a class="code" href="struct_driver_super.html#af62b09fc1a66536e8dcd5a29879782b0">config</a>.<a class="code" href="struct_d_s___config.html#a58d900a563f500804b18637e373fb1c6">rec_status_</a>.<a class="code" href="struct_d_s___rec_status.html#a996122cbb61146f48db29acf13fbd9d1">rx_disruption_status</a> = <a class="code" href="driver__super_8h.html#ae2cc6e08ec5fab4997ba383ac7da05c7a5e9dc351738e4070b2cecf2a68cbd77d">DS_RX_DISRUPTION_STATUS_LOST</a>;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    }</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  }</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160; </div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  <span class="keywordflow">for</span> (stream = 0; stream &lt; <a class="code" href="driver__super_8h.html#a6de2adaf747f15e857f8270e62ee7a1e">DS_STREAM_MAX</a>; ++stream)</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  {</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config = &amp;(p_super-&gt;<a class="code" href="struct_driver_super.html#a68921a2117dd6f95d878b6c201729bc9">stream_config</a>[stream]);</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="keywordflow">if</span> (!p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a5c96aa29a909ab069dbe8fca13bbea9d">is_enabled_</a>)</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    {</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;      p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a633af7911182146b7a603ca2ea931203">rec_status_</a>.<a class="code" href="struct_d_s___stream_rec_status.html#a2feedb4d92df6adf23d4c9c331ce6c96">status_code</a> = <a class="code" href="driver__super_8h.html#a3f1d9e8a08d67a25845b0f48d19ccaa8af0cb8fbd4cd954d1b9aed805ceb54f40">DS_STREAM_REC_STATUS_DISABLE</a>;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    }</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160; </div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="comment">// setter で validation かけると，初期化などで何度もかかることや，</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="comment">// そもそもこの validation は打ち上げ時というよりむしろ地上試験時に有用なので，ここに置く</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="keywordflow">if</span> (p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a03659e2304682a4e415c302ceaf9dc57">is_validation_needed_for_rec_</a>)</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    {</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;      <a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165">DS_ERR_CODE</a> ret = <a class="code" href="driver__super_8c.html#ad1bdc8947460e5efe01f9970684d06dc">DS_validate_stream_config_</a>(p_stream_config);</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;      <span class="keywordflow">if</span> (ret != <a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165a9a38fe6c4618e1519e0d218bac5d60c2">DS_ERR_CODE_OK</a>)</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;      {</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a633af7911182146b7a603ca2ea931203">rec_status_</a>.<a class="code" href="struct_d_s___stream_rec_status.html#a2feedb4d92df6adf23d4c9c331ce6c96">status_code</a> = <a class="code" href="driver__super_8h.html#a3f1d9e8a08d67a25845b0f48d19ccaa8a420657c143f5909c09b85f8ebd687c05">DS_STREAM_REC_STATUS_VALIDATE_ERR</a>;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;      }</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    }</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160; </div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="keywordflow">if</span> (ret_rx &lt; 0)     <span class="comment">// この共通処理が for の中にあるの，若干キモい．．．</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    {</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;      <span class="comment">// RX失敗</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;      p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a633af7911182146b7a603ca2ea931203">rec_status_</a>.<a class="code" href="struct_d_s___stream_rec_status.html#a2feedb4d92df6adf23d4c9c331ce6c96">status_code</a> = <a class="code" href="driver__super_8h.html#a3f1d9e8a08d67a25845b0f48d19ccaa8a11fdc22f16953d052a1be1ea31f55daf">DS_STREAM_REC_STATUS_RX_ERR</a>;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;      <span class="comment">// [TODO] ここに DriverSuper としての共通のアノマリ発行を入れるかは要議論</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;      <span class="comment">//        個別対応なので， Driver に実装する，ないしは， IF 側に実装するのが自然か？</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    }</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ret_rx == 0)</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    {</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;      <span class="comment">// 受信データなし</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;      <span class="comment">// 繰越データがあれば処理する</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;      <span class="keywordflow">if</span> (p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#ad1995ad0637ebb96232767c3fc731e55">is_rx_buffer_carry_over_</a>)</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;      {</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        <span class="comment">// 繰越があるので，ここで continue せずへ次へ</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;      }</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;      {</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        <span class="comment">// rec_status_.status_code 基本は更新せず</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        <span class="comment">// FIXED の場合はリセット</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        <span class="keywordflow">if</span> (p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a633af7911182146b7a603ca2ea931203">rec_status_</a>.<a class="code" href="struct_d_s___stream_rec_status.html#a2feedb4d92df6adf23d4c9c331ce6c96">status_code</a> == <a class="code" href="driver__super_8h.html#a3f1d9e8a08d67a25845b0f48d19ccaa8ad15d38cde20b8c9f75082e94c6035006">DS_STREAM_REC_STATUS_FIXED_FRAME</a>)</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        {</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;          p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a633af7911182146b7a603ca2ea931203">rec_status_</a>.<a class="code" href="struct_d_s___stream_rec_status.html#a2feedb4d92df6adf23d4c9c331ce6c96">status_code</a> = <a class="code" href="driver__super_8h.html#a3f1d9e8a08d67a25845b0f48d19ccaa8a25851f8a41f5dcabdd130e0bcaa1bf4e">DS_STREAM_REC_STATUS_FINDING_HEADER</a>;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        }</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;      }</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    }</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    {</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;      <span class="comment">// 何もしない</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    }</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160; </div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="comment">// ここまできたら受信データあり</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160; </div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    rec_data_len = (<a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a>)ret_rx;      <span class="comment">// ここまでくれば非負数</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <a class="code" href="driver__super_8c.html#a813429b169d4c05cce10cff391dd901c">DS_analyze_rx_buffer_</a>(p_super, stream, rec_data_len);</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160; </div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="comment">// フレーム確定処理</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="keywordflow">if</span> (p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a633af7911182146b7a603ca2ea931203">rec_status_</a>.<a class="code" href="struct_d_s___stream_rec_status.html#a2feedb4d92df6adf23d4c9c331ce6c96">status_code</a> == <a class="code" href="driver__super_8h.html#a3f1d9e8a08d67a25845b0f48d19ccaa8ad15d38cde20b8c9f75082e94c6035006">DS_STREAM_REC_STATUS_FIXED_FRAME</a>)</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    {</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;      p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#afd686e53ab568d5a50ae3ccb290c373d">rx_frame_fix_count_</a>++;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;      p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#ae7553688939b3f6274b7a7606db46309">rx_frame_fix_time_</a> = <a class="code" href="time__manager_8c.html#a9d04b4d9b622cbe5a90cf65e58b828bc">TMGR_get_master_clock</a>();</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;      p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#ad274f0933333c074d41c2283c848aa03">req_tlm_cmd_tx_count_after_last_tx_</a> = 0;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    }</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  }</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160; </div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <span class="comment">// streamのテレメ途絶判定（テレメフレーム確定途絶判定）</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  <span class="keywordflow">for</span> (stream = 0; stream &lt; <a class="code" href="driver__super_8h.html#a6de2adaf747f15e857f8270e62ee7a1e">DS_STREAM_MAX</a>; ++stream)</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  {</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config = &amp;(p_super-&gt;<a class="code" href="struct_driver_super.html#a68921a2117dd6f95d878b6c201729bc9">stream_config</a>[stream]);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <a class="code" href="struct_obc_time.html">ObcTime</a> now;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <a class="code" href="stdint_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a> last_tlm_fix_ago;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160; </div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <span class="comment">// テレメなどで見るときにノイズになるので，判定しないときは OK にしておく</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a633af7911182146b7a603ca2ea931203">rec_status_</a>.<a class="code" href="struct_d_s___stream_rec_status.html#aad4e28b3f8c697253eeb6a5938c23b8f">tlm_disruption_status</a> = <a class="code" href="driver__super_8h.html#a4d856578726e06c124ae25b20f486454af3ebc4159b314816e7ad3559ed9be65b">DS_STREAM_TLM_DISRUPTION_STATUS_OK</a>;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160; </div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="keywordflow">if</span> (!p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a5c96aa29a909ab069dbe8fca13bbea9d">is_enabled_</a> || !p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a2c8dc3e6f9272fef577298e205778962">should_monitor_for_tlm_disruption_</a>)</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    {</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    }</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160; </div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    now = <a class="code" href="time__manager_8c.html#a9d04b4d9b622cbe5a90cf65e58b828bc">TMGR_get_master_clock</a>();</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    last_tlm_fix_ago = <a class="code" href="obc__time_8c.html#a51f2c2c48be7ec8985ec47f36bef1335">OBCT_diff_in_msec</a>(&amp;p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#ae7553688939b3f6274b7a7606db46309">rx_frame_fix_time_</a>, &amp;now);</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160; </div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="keywordflow">if</span> (last_tlm_fix_ago &gt; p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#ae9d29a3ec5276a02fea8c33b62a0f65e">time_threshold_for_tlm_disruption_</a>)</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    {</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;      p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a633af7911182146b7a603ca2ea931203">rec_status_</a>.<a class="code" href="struct_d_s___stream_rec_status.html#aad4e28b3f8c697253eeb6a5938c23b8f">tlm_disruption_status</a> = <a class="code" href="driver__super_8h.html#a4d856578726e06c124ae25b20f486454af11a171fa4852304ec97b733a61f8d6a">DS_STREAM_TLM_DISRUPTION_STATUS_LOST</a>;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    }</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  }</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160; </div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  <span class="keywordflow">return</span> (ret_rx &lt; 0) ? <a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165a757cf24e5dd8eaaeb1e0554ad1a3203a">DS_ERR_CODE_ERR</a> : <a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165a9a38fe6c4618e1519e0d218bac5d60c2">DS_ERR_CODE_OK</a>;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;}</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160; </div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160; </div>
<div class="line"><a name="l00293"></a><span class="lineno"><a class="line" href="driver__super_8h.html#a5048adcd683afb1bb71d4277a0f673d7">  293</a></span>&#160;<a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165">DS_ERR_CODE</a> <a class="code" href="driver__super_8c.html#a5048adcd683afb1bb71d4277a0f673d7">DS_analyze_rec_data</a>(<a class="code" href="struct_driver_super.html">DriverSuper</a>* p_super, <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> stream, <span class="keywordtype">void</span>* p_driver)</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;{</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  <a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config = &amp;(p_super-&gt;<a class="code" href="struct_driver_super.html#a68921a2117dd6f95d878b6c201729bc9">stream_config</a>[stream]);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160; </div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a3f9e3efc57929a9d160a33e5a48848f5">ret_from_data_analyzer_</a> = p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#ad439f0c7a881b330ce25240ffedb9ff4">data_analyzer_</a>(p_stream_config, p_driver);</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160; </div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  <span class="keywordflow">return</span> p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a3f9e3efc57929a9d160a33e5a48848f5">ret_from_data_analyzer_</a>;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;}</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160; </div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160; </div>
<div class="line"><a name="l00303"></a><span class="lineno"><a class="line" href="driver__super_8h.html#aeba5ba2ebea1719d8bae74c274b0adfa">  303</a></span>&#160;<a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165">DS_ERR_CODE</a> <a class="code" href="driver__super_8c.html#aeba5ba2ebea1719d8bae74c274b0adfa">DS_send_general_cmd</a>(<a class="code" href="struct_driver_super.html">DriverSuper</a>* p_super, <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> stream)</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;{</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  <a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config = &amp;(p_super-&gt;<a class="code" href="struct_driver_super.html#a68921a2117dd6f95d878b6c201729bc9">stream_config</a>[stream]);</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160; </div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  <span class="keywordflow">if</span> (!p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a5c96aa29a909ab069dbe8fca13bbea9d">is_enabled_</a>)</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  {</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a5c1ef5acd3c5f784e61840004a57657c">send_status_</a>.<a class="code" href="struct_d_s___stream_send_status.html#ad6661ec32aa7c036399075dacb633b3b">status_code</a> = <a class="code" href="driver__super_8h.html#ae0e20317c0a0480f3e294e4383ff644aa505b5ee83b49b5607030fdf0d8802db7">DS_STREAM_SEND_STATUS_DISABLE</a>;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165a9a38fe6c4618e1519e0d218bac5d60c2">DS_ERR_CODE_OK</a>;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  }</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160; </div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a3a0024f4119de8f5729edbeec97d1b02">general_cmd_tx_count_</a>++;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a86cb05402320b51e4c93c84cf309d666">general_cmd_tx_time_</a> = <a class="code" href="time__manager_8c.html#a9d04b4d9b622cbe5a90cf65e58b828bc">TMGR_get_master_clock</a>();</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160; </div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="preprocessor">#ifdef DS_DEBUG</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  <a class="code" href="src__core_2_library_2print_8c.html#a4bc499fc724de87725ee7dc60ed1d106">Printf</a>(<span class="stringliteral">&quot;DS: send_general_cmd\n&quot;</span>);</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160; </div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="driver__super_8c.html#a842941ac8ad9d371e21b973188a50c37">DS_send_cmd_</a>(p_super, stream);</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;}</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160; </div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160; </div>
<div class="line"><a name="l00324"></a><span class="lineno"><a class="line" href="driver__super_8h.html#af380ebeb56493a0680e2e4c50e74b979">  324</a></span>&#160;<a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165">DS_ERR_CODE</a> <a class="code" href="driver__super_8c.html#af380ebeb56493a0680e2e4c50e74b979">DS_send_req_tlm_cmd</a>(<a class="code" href="struct_driver_super.html">DriverSuper</a>* p_super, <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> stream)</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;{</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  <a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config = &amp;(p_super-&gt;<a class="code" href="struct_driver_super.html#a68921a2117dd6f95d878b6c201729bc9">stream_config</a>[stream]);</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160; </div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  <span class="keywordflow">if</span> (!p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a5c96aa29a909ab069dbe8fca13bbea9d">is_enabled_</a>)</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  {</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a5c1ef5acd3c5f784e61840004a57657c">send_status_</a>.<a class="code" href="struct_d_s___stream_send_status.html#ad6661ec32aa7c036399075dacb633b3b">status_code</a> = <a class="code" href="driver__super_8h.html#ae0e20317c0a0480f3e294e4383ff644aa505b5ee83b49b5607030fdf0d8802db7">DS_STREAM_SEND_STATUS_DISABLE</a>;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165a9a38fe6c4618e1519e0d218bac5d60c2">DS_ERR_CODE_OK</a>;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  }</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160; </div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a10b16bacba530b45086e9c0d7592bb96">req_tlm_cmd_tx_count_</a>++;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#ad274f0933333c074d41c2283c848aa03">req_tlm_cmd_tx_count_after_last_tx_</a>++;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a7a777551f855f5061a786ced785c21ba">req_tlm_cmd_tx_time_</a> = <a class="code" href="time__manager_8c.html#a9d04b4d9b622cbe5a90cf65e58b828bc">TMGR_get_master_clock</a>();</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160; </div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="preprocessor">#ifdef DS_DEBUG</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  <a class="code" href="src__core_2_library_2print_8c.html#a4bc499fc724de87725ee7dc60ed1d106">Printf</a>(<span class="stringliteral">&quot;DS: send_req_tlm_cmd\n&quot;</span>);</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160; </div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="driver__super_8c.html#a842941ac8ad9d371e21b973188a50c37">DS_send_cmd_</a>(p_super, stream);</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;}</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160; </div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160; </div>
<div class="line"><a name="l00356"></a><span class="lineno"><a class="line" href="driver__super_8c.html#a842941ac8ad9d371e21b973188a50c37">  356</a></span>&#160;<span class="keyword">static</span> <a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165">DS_ERR_CODE</a> <a class="code" href="driver__super_8c.html#a842941ac8ad9d371e21b973188a50c37">DS_send_cmd_</a>(<a class="code" href="struct_driver_super.html">DriverSuper</a>* p_super, <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> stream)</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;{</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  <a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config = &amp;(p_super-&gt;<a class="code" href="struct_driver_super.html#a68921a2117dd6f95d878b6c201729bc9">stream_config</a>[stream]);</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160; </div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  <span class="comment">// setter で validation かけると，初期化などで何度もかかることや，</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  <span class="comment">// そもそもこの validation は打ち上げじというよりむしろ地上試験時に有用なので，ここに置く</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  <span class="keywordflow">if</span> (p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a9f03f387ca4cb3c92f74b2d22d388c81">is_validation_needed_for_send_</a>)</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;  {</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165">DS_ERR_CODE</a> ret = <a class="code" href="driver__super_8c.html#ad1bdc8947460e5efe01f9970684d06dc">DS_validate_stream_config_</a>(p_stream_config);</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <span class="keywordflow">if</span> (ret != <a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165a9a38fe6c4618e1519e0d218bac5d60c2">DS_ERR_CODE_OK</a>)</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    {</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;      p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a5c1ef5acd3c5f784e61840004a57657c">send_status_</a>.<a class="code" href="struct_d_s___stream_send_status.html#ad6661ec32aa7c036399075dacb633b3b">status_code</a> = <a class="code" href="driver__super_8h.html#ae0e20317c0a0480f3e294e4383ff644aa2790e9d3c5f353cb80c08971465f8551">DS_STREAM_SEND_STATUS_VALIDATE_ERR</a>;</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165a757cf24e5dd8eaaeb1e0554ad1a3203a">DS_ERR_CODE_ERR</a>;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    }</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  }</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160; </div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a5c1ef5acd3c5f784e61840004a57657c">send_status_</a>.<a class="code" href="struct_d_s___stream_send_status.html#a5ad90db62d70cbc7ee7d28f9d3127b4f">ret_from_if_tx</a> = <a class="code" href="driver__super_8c.html#ab223b76629636378c61745e0fc47313d">DS_tx_</a>(p_super, stream);</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160; </div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  <span class="keywordflow">if</span> (p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a5c1ef5acd3c5f784e61840004a57657c">send_status_</a>.<a class="code" href="struct_d_s___stream_send_status.html#a5ad90db62d70cbc7ee7d28f9d3127b4f">ret_from_if_tx</a> != 0)</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  {</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a5c1ef5acd3c5f784e61840004a57657c">send_status_</a>.<a class="code" href="struct_d_s___stream_send_status.html#ad6661ec32aa7c036399075dacb633b3b">status_code</a> = <a class="code" href="driver__super_8h.html#ae0e20317c0a0480f3e294e4383ff644aac8a13148c31e5a7232201aa8d10e53e7">DS_STREAM_SEND_STATUS_TX_ERR</a>;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165a757cf24e5dd8eaaeb1e0554ad1a3203a">DS_ERR_CODE_ERR</a>;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  }</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160; </div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a5c1ef5acd3c5f784e61840004a57657c">send_status_</a>.<a class="code" href="struct_d_s___stream_send_status.html#ad6661ec32aa7c036399075dacb633b3b">status_code</a> = <a class="code" href="driver__super_8h.html#ae0e20317c0a0480f3e294e4383ff644aaaea3773416bb19ad55042ed12004847b">DS_STREAM_SEND_STATUS_OK</a>;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165a9a38fe6c4618e1519e0d218bac5d60c2">DS_ERR_CODE_OK</a>;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;}</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160; </div>
<div class="line"><a name="l00392"></a><span class="lineno"><a class="line" href="driver__super_8c.html#ab223b76629636378c61745e0fc47313d">  392</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="driver__super_8c.html#ab223b76629636378c61745e0fc47313d">DS_tx_</a>(<a class="code" href="struct_driver_super.html">DriverSuper</a>* p_super, <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> stream)</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;{</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  <span class="keywordtype">int</span> ret;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  <a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config = &amp;(p_super-&gt;<a class="code" href="struct_driver_super.html#a68921a2117dd6f95d878b6c201729bc9">stream_config</a>[stream]);</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160; </div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;  <span class="keywordflow">if</span> (p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a97c4871475db02474ed9e15972ece679">tx_frame_size_</a> == 0) <span class="keywordflow">return</span> <a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165a9a38fe6c4618e1519e0d218bac5d60c2">DS_ERR_CODE_OK</a>;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  <span class="keywordflow">if</span> (p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a959f25f6129be08b39ae0a7d6e41ce30">tx_frame_</a> == NULL) <span class="keywordflow">return</span> <a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165a9a38fe6c4618e1519e0d218bac5d60c2">DS_ERR_CODE_OK</a>;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160; </div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;<span class="preprocessor">#ifdef DS_DEBUG</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  <a class="code" href="src__core_2_library_2print_8c.html#a4bc499fc724de87725ee7dc60ed1d106">Printf</a>(<span class="stringliteral">&quot;DS: tx_\n&quot;</span>);</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160; </div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  ret = (*<a class="code" href="if__list_8c.html#ae28da865a8fb442c8a6970302e06d179">IF_TX</a>[p_super-&gt;<a class="code" href="struct_driver_super.html#a156dfb094536309694466e26cc78410d">interface</a>])(p_super-&gt;<a class="code" href="struct_driver_super.html#af946e67e11862521885fd51af8c1d602">if_config</a>,</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                                     p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a959f25f6129be08b39ae0a7d6e41ce30">tx_frame_</a>,</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                                     (<span class="keywordtype">int</span>)p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a97c4871475db02474ed9e15972ece679">tx_frame_size_</a>);</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160; </div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  <span class="keywordflow">if</span> (ret != 0) <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165a9a38fe6c4618e1519e0d218bac5d60c2">DS_ERR_CODE_OK</a>;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;}</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160; </div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160; </div>
<div class="line"><a name="l00420"></a><span class="lineno"><a class="line" href="driver__super_8c.html#a60c364a73c9e59802dd758e8ce57b3ce">  420</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="driver__super_8c.html#a60c364a73c9e59802dd758e8ce57b3ce">DS_rx_</a>(<a class="code" href="struct_driver_super.html">DriverSuper</a>* p_super)</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;{</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  <span class="keywordtype">int</span> flag;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  <span class="keywordtype">int</span> rec_data_len;</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> stream;</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;<span class="preprocessor">#ifdef DS_DEBUG_SHOW_REC_DATA</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  <a class="code" href="stdint_8h.html#a269259c924dce846340ddbb810db2e3c">int16_t</a> i;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160; </div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  <span class="comment">// 少なくとも１つのstreamが有効でかつ，rx_frame_size_が0以外でないと受信処理はしない</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;  flag = 0;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  <span class="keywordflow">for</span> (stream = 0; stream &lt; <a class="code" href="driver__super_8h.html#a6de2adaf747f15e857f8270e62ee7a1e">DS_STREAM_MAX</a>; ++stream)</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;  {</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <span class="keywordflow">if</span> (! (p_super-&gt;<a class="code" href="struct_driver_super.html#a68921a2117dd6f95d878b6c201729bc9">stream_config</a>[stream].<a class="code" href="struct_d_s___stream_config.html#a5c96aa29a909ab069dbe8fca13bbea9d">is_enabled_</a>) ) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <span class="keywordflow">if</span> (p_super-&gt;<a class="code" href="struct_driver_super.html#a68921a2117dd6f95d878b6c201729bc9">stream_config</a>[stream].<a class="code" href="struct_d_s___stream_config.html#a40aa4056e27652e4349d06b39538d4df">rx_frame_size_</a> != 0)</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    {</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;      flag = 1;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    }</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  }</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;  <span class="keywordflow">if</span> (flag == 0) <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160; </div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  rec_data_len = (*<a class="code" href="if__list_8c.html#a695c21768b3a91f7c5fa17affcedce5b">IF_RX</a>[p_super-&gt;<a class="code" href="struct_driver_super.html#a156dfb094536309694466e26cc78410d">interface</a>])(p_super-&gt;<a class="code" href="struct_driver_super.html#af946e67e11862521885fd51af8c1d602">if_config</a>,</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                                              p_super-&gt;<a class="code" href="struct_driver_super.html#af62b09fc1a66536e8dcd5a29879782b0">config</a>.<a class="code" href="struct_d_s___config.html#afb79a99606225117f79d0028cee944b5">rx_buffer_</a>,</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;                                              <a class="code" href="driver__super_8h.html#a29dc76d4a0cae46236bfdef2e452128d">DS_RX_BUFFER_SIZE_MAX</a>);</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160; </div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;<span class="preprocessor">#ifdef DS_DEBUG</span></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  <a class="code" href="src__core_2_library_2print_8c.html#a4bc499fc724de87725ee7dc60ed1d106">Printf</a>(<span class="stringliteral">&quot;DS: rx_\n&quot;</span>);</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160; </div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;  <span class="keywordflow">if</span> (rec_data_len &lt;= 0) <span class="keywordflow">return</span> rec_data_len;     <span class="comment">// 負数はエラーコード</span></div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160; </div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;<span class="preprocessor">#ifdef DS_DEBUG_SHOW_REC_DATA</span></div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;  <a class="code" href="src__core_2_library_2print_8c.html#a4bc499fc724de87725ee7dc60ed1d106">Printf</a>(<span class="stringliteral">&quot;DS: Receive data size is %d bytes, as follow:\n&quot;</span>, rec_data_len);</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;  <span class="keywordflow">for</span> (i = 0; i &lt; rec_data_len; i++)</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;  {</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <a class="code" href="src__core_2_library_2print_8c.html#a4bc499fc724de87725ee7dc60ed1d106">Printf</a>(<span class="stringliteral">&quot;%02x &quot;</span>, p_super-&gt;<a class="code" href="struct_driver_super.html#af62b09fc1a66536e8dcd5a29879782b0">config</a>.<a class="code" href="struct_d_s___config.html#afb79a99606225117f79d0028cee944b5">rx_buffer_</a>[i]);</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <span class="keywordflow">if</span> (i % 4 == 3) <a class="code" href="src__core_2_library_2print_8c.html#a4bc499fc724de87725ee7dc60ed1d106">Printf</a>(<span class="stringliteral">&quot;   &quot;</span>);</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;  }</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;  <a class="code" href="src__core_2_library_2print_8c.html#a4bc499fc724de87725ee7dc60ed1d106">Printf</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160; </div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;  <span class="keywordflow">return</span> rec_data_len;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;}</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160; </div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160; </div>
<div class="line"><a name="l00472"></a><span class="lineno"><a class="line" href="driver__super_8c.html#a813429b169d4c05cce10cff391dd901c">  472</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="driver__super_8c.html#a813429b169d4c05cce10cff391dd901c">DS_analyze_rx_buffer_</a>(<a class="code" href="struct_driver_super.html">DriverSuper</a>* p_super,</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;                                  <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> stream,</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                                  <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> rec_data_len)</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;{</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;  <span class="comment">// 解析用受信バッファ</span></div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  <span class="comment">// 巨大なデータなので，staticで予め確保しておき，実行時のスタック枯渇を避ける</span></div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  <span class="keyword">static</span> <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> rx_buffer[<a class="code" href="driver__super_8h.html#a29dc76d4a0cae46236bfdef2e452128d">DS_RX_BUFFER_SIZE_MAX</a> * 2];</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;  <a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config = &amp;(p_super-&gt;<a class="code" href="struct_driver_super.html#a68921a2117dd6f95d878b6c201729bc9">stream_config</a>[stream]);</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;  <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> total_processed_data_len;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160; </div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;  rec_data_len = <a class="code" href="driver__super_8c.html#aa1808ed031c65cfd936fa3c2cc9bae66">DS_analyze_rx_buffer_prepare_buffer_</a>(p_super, stream, rx_buffer, rec_data_len);</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160; </div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  total_processed_data_len = <a class="code" href="driver__super_8c.html#adb55026a05103c4bf63d2354134864c7">DS_analyze_rx_buffer_pickup_</a>(p_stream_config, rx_buffer, rec_data_len);</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160; </div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  <a class="code" href="driver__super_8c.html#a315021431cc376fea12509fd0962e0cc">DS_analyze_rx_buffer_carry_over_buffer_</a>(p_stream_config, rx_buffer, total_processed_data_len, rec_data_len);</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;}</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160; </div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160; </div>
<div class="line"><a name="l00500"></a><span class="lineno"><a class="line" href="driver__super_8c.html#aa1808ed031c65cfd936fa3c2cc9bae66">  500</a></span>&#160;<span class="keyword">static</span> <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> <a class="code" href="driver__super_8c.html#aa1808ed031c65cfd936fa3c2cc9bae66">DS_analyze_rx_buffer_prepare_buffer_</a>(<a class="code" href="struct_driver_super.html">DriverSuper</a>* p_super,</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;                                                     <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> stream,</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;                                                     <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>* rx_buffer,</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;                                                     <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> rec_data_len)</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;{</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  <a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config = &amp;(p_super-&gt;<a class="code" href="struct_driver_super.html#a68921a2117dd6f95d878b6c201729bc9">stream_config</a>[stream]);</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;  <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> buffer_offset = 0;</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160; </div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  <span class="comment">// 繰越受信データのとりこみ</span></div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;  <span class="keywordflow">if</span> (p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#ad1995ad0637ebb96232767c3fc731e55">is_rx_buffer_carry_over_</a>)</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;  {</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    memcpy(rx_buffer,</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;           p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a7062764ae0bcc0674736b49238520ca6">rx_buffer_for_carry_over_</a>,</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;           (<span class="keywordtype">size_t</span>)p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a1f1f355089d571eac84c8993cf951fce">carry_over_buffer_size_</a>);</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    buffer_offset += p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a1f1f355089d571eac84c8993cf951fce">carry_over_buffer_size_</a>;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  }</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160; </div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;  <span class="comment">// 今回受信分のとりこみ</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;  memcpy(&amp;(rx_buffer[buffer_offset]),</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;         p_super-&gt;<a class="code" href="struct_driver_super.html#af62b09fc1a66536e8dcd5a29879782b0">config</a>.<a class="code" href="struct_d_s___config.html#afb79a99606225117f79d0028cee944b5">rx_buffer_</a>,</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;         (<span class="keywordtype">size_t</span>)rec_data_len);</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160; </div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  <span class="keywordflow">if</span> (p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#ad1995ad0637ebb96232767c3fc731e55">is_rx_buffer_carry_over_</a>)</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  {</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    rec_data_len += p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a1f1f355089d571eac84c8993cf951fce">carry_over_buffer_size_</a>;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;  }</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160; </div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;  <span class="keywordflow">return</span> rec_data_len;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;}</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160; </div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160; </div>
<div class="line"><a name="l00540"></a><span class="lineno"><a class="line" href="driver__super_8c.html#adb55026a05103c4bf63d2354134864c7">  540</a></span>&#160;<span class="keyword">static</span> <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> <a class="code" href="driver__super_8c.html#adb55026a05103c4bf63d2354134864c7">DS_analyze_rx_buffer_pickup_</a>(<a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config,</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;                                             <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>* rx_buffer,</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                                             <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> rec_data_len)</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;{</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;  <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> total_processed_data_len;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  <span class="comment">// 受信バッファのデータを走査し，必要なデータをフレームとしてpickupする関数</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> (*pickup_func)(<a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config,</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;                          <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>* rx_buffer,</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;                          <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> total_processed_data_len,</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;                          <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> rec_data_len);</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a48886a25a5e5aa4b58165cbd61eca6ba">rx_frame_head_pos_of_frame_candidate_</a> = 0;</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160; </div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;  <span class="comment">// TODO: ビッグデータ対応</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;  <span class="keywordflow">if</span> (p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a40aa4056e27652e4349d06b39538d4df">rx_frame_size_</a> &gt; 0 &amp;&amp; p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a40aa4056e27652e4349d06b39538d4df">rx_frame_size_</a> &lt; <a class="code" href="driver__super_8h.html#aaf12a87484f81e9c2978d9e0f2861945">DS_RX_FRAME_SIZE_MAX</a>)</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;  {</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    pickup_func = <a class="code" href="driver__super_8c.html#a307c2f714ae48261cd20926db4add15c">DS_analyze_rx_buffer_fixed_pickup_</a>;</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;  }</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a40aa4056e27652e4349d06b39538d4df">rx_frame_size_</a> &gt; 0)</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  {</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    <span class="comment">// DS_analyze_rx_buffer_fixed_bigdata_(void)</span></div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    pickup_func = NULL;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    <span class="keywordflow">return</span> rec_data_len;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;  }</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a40aa4056e27652e4349d06b39538d4df">rx_frame_size_</a> &lt; 0 &amp;&amp; p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a40aa4056e27652e4349d06b39538d4df">rx_frame_size_</a> &lt; <a class="code" href="driver__super_8h.html#aaf12a87484f81e9c2978d9e0f2861945">DS_RX_FRAME_SIZE_MAX</a>)</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  {</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <span class="comment">// フレームにフレーム長データが含まれているか？</span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <span class="keywordflow">if</span> (p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a31002044fc5cd2187f7acc1918757829">rx_framelength_pos_</a> &gt;= 0)</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    {</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;      pickup_func = <a class="code" href="driver__super_8c.html#ae3822bd6031c1023b5eac98cc3bf8e57">DS_analyze_rx_buffer_variable_pickup_with_rx_frame_size_</a>;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    }</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    {</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;      pickup_func = <a class="code" href="driver__super_8c.html#aba44a396fa200beaf48099d2f50bfb12">DS_analyze_rx_buffer_variable_pickup_with_footer_</a>;</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    }</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;  }</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;  {</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <span class="comment">// DS_analyze_rx_buffer_variable_bigdata_(void)</span></div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    pickup_func = NULL;</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <span class="keywordflow">return</span> rec_data_len;</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;  }</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160; </div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;  <span class="comment">// 受信バッファからデータをピックアップしていく</span></div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;  total_processed_data_len = p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#ab74d224e45b3d70c6f787a5b6e740bd6">carry_over_buffer_next_pos_</a>;</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;  <span class="keywordflow">while</span> (total_processed_data_len &lt; rec_data_len)</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;  {</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> processed_data_len = pickup_func(p_stream_config,</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;                                              rx_buffer,</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;                                              total_processed_data_len,</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                                              rec_data_len);</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    total_processed_data_len += processed_data_len;</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160; </div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <span class="keywordflow">if</span> (p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a633af7911182146b7a603ca2ea931203">rec_status_</a>.<a class="code" href="struct_d_s___stream_rec_status.html#a2feedb4d92df6adf23d4c9c331ce6c96">status_code</a> == <a class="code" href="driver__super_8h.html#a3f1d9e8a08d67a25845b0f48d19ccaa8ad15d38cde20b8c9f75082e94c6035006">DS_STREAM_REC_STATUS_FIXED_FRAME</a>)</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    {</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    }</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160; </div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    <span class="comment">// 不整合が起きたら，現在のframe候補の先頭 + 1バイト目に走査場所を戻す</span></div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <span class="keywordflow">if</span> (p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a633af7911182146b7a603ca2ea931203">rec_status_</a>.<a class="code" href="struct_d_s___stream_rec_status.html#a2feedb4d92df6adf23d4c9c331ce6c96">status_code</a> == <a class="code" href="driver__super_8h.html#a3f1d9e8a08d67a25845b0f48d19ccaa8a43237a4338faebb542a41953c4d2b593">DS_STREAM_REC_STATUS_HEADER_MISMATCH</a> ||</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a633af7911182146b7a603ca2ea931203">rec_status_</a>.<a class="code" href="struct_d_s___stream_rec_status.html#a2feedb4d92df6adf23d4c9c331ce6c96">status_code</a> == <a class="code" href="driver__super_8h.html#a3f1d9e8a08d67a25845b0f48d19ccaa8a1928d0485a87b2311bbc48c9c62eab08">DS_STREAM_REC_STATUS_FOOTER_MISMATCH</a> ||</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;        p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a633af7911182146b7a603ca2ea931203">rec_status_</a>.<a class="code" href="struct_d_s___stream_rec_status.html#a2feedb4d92df6adf23d4c9c331ce6c96">status_code</a> == <a class="code" href="driver__super_8h.html#a3f1d9e8a08d67a25845b0f48d19ccaa8a7e0d94a625a6600317ef975d9d2e8333">DS_STREAM_REC_STATUS_RX_FRAME_TOO_LONG</a> ||</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;        p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a633af7911182146b7a603ca2ea931203">rec_status_</a>.<a class="code" href="struct_d_s___stream_rec_status.html#a2feedb4d92df6adf23d4c9c331ce6c96">status_code</a> == <a class="code" href="driver__super_8h.html#a3f1d9e8a08d67a25845b0f48d19ccaa8a1a0962bc0df9659cd02ac56d3af20254">DS_STREAM_REC_STATUS_RX_FRAME_TOO_SHORT</a>)</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    {</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;      total_processed_data_len = (<a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a>)(p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a48886a25a5e5aa4b58165cbd61eca6ba">rx_frame_head_pos_of_frame_candidate_</a> + 1);</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160; </div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;      <span class="comment">// 他の部分での条件分岐のために，詳細エラー情報を現在のステータスに上書きする</span></div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;      p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a633af7911182146b7a603ca2ea931203">rec_status_</a>.<a class="code" href="struct_d_s___stream_rec_status.html#a2feedb4d92df6adf23d4c9c331ce6c96">status_code</a> = <a class="code" href="driver__super_8h.html#a3f1d9e8a08d67a25845b0f48d19ccaa8a25851f8a41f5dcabdd130e0bcaa1bf4e">DS_STREAM_REC_STATUS_FINDING_HEADER</a>;</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    }</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160; </div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    <span class="comment">// processed_data_len &gt; rec_data_lenなることはありえないが，念の為チャックする？？</span></div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;  }</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160; </div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;  <span class="keywordflow">return</span> total_processed_data_len;</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;}</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160; </div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160; </div>
<div class="line"><a name="l00624"></a><span class="lineno"><a class="line" href="driver__super_8c.html#a315021431cc376fea12509fd0962e0cc">  624</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="driver__super_8c.html#a315021431cc376fea12509fd0962e0cc">DS_analyze_rx_buffer_carry_over_buffer_</a>(<a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config,</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;                                                    <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>* rx_buffer,</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;                                                    <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> total_processed_data_len,</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;                                                    <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> rec_data_len)</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;{</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;  <span class="comment">// 受信データを次回呼び出しに引き継ぐ（いくつかのパターンあり）</span></div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;  <span class="comment">// フレーム確定した場合（未解析受信データがある可能性がある）</span></div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;  <span class="comment">//     厳格なフレーム探索が無効</span></div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;  <span class="comment">//          --&gt; フレーム確定したデータはOKとし，それ以後の解析できなかった受信データのみを次回に引き継ぐ</span></div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;  <span class="comment">//     厳格なフレーム探索が有効</span></div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;  <span class="comment">//          --&gt; 確定フレームがユーザー側で弾かれる可能性を考慮し，確定フレームの先頭 + 1 バイト目以降を次回に引き継ぐ</span></div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  <span class="comment">//              次回のヘッダ探索はそこから始まる</span></div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;  <span class="comment">// フレーム確定しなかった場合（未解析受信データはなし）</span></div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;  <span class="comment">//     DS_STREAM_REC_STATUS_FINDING_HEADER のとき</span></div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;  <span class="comment">//          --&gt; ヘッダがなかったということなので，引き継ぎデータはなし</span></div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;  <span class="comment">//     DS_STREAM_REC_STATUS_FINDING_HEADER でないとき</span></div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;  <span class="comment">//          --&gt; フレーム候補のフレーム先頭以降を次回に引き継ぐ</span></div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;  <span class="comment">//              これにより，フッタ不一致などの不整合が発生した場合にフレーム探索をやり直せる</span></div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160; </div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a1f1f355089d571eac84c8993cf951fce">carry_over_buffer_size_</a> = 0;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;  <span class="keywordflow">if</span> (p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a633af7911182146b7a603ca2ea931203">rec_status_</a>.<a class="code" href="struct_d_s___stream_rec_status.html#a2feedb4d92df6adf23d4c9c331ce6c96">status_code</a> == <a class="code" href="driver__super_8h.html#a3f1d9e8a08d67a25845b0f48d19ccaa8ad15d38cde20b8c9f75082e94c6035006">DS_STREAM_REC_STATUS_FIXED_FRAME</a>)</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;  {</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    <span class="keywordflow">if</span> (p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#af966a780ca9b47f990656cb371f41a21">is_strict_frame_search_</a>)</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    {</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;      <span class="comment">// 確定フレームの先頭 + 1 バイト目以降を次回に引き継ぐ</span></div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;      p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a1f1f355089d571eac84c8993cf951fce">carry_over_buffer_size_</a> = (<a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a>)(rec_data_len - p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a48886a25a5e5aa4b58165cbd61eca6ba">rx_frame_head_pos_of_frame_candidate_</a> - 1);</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;      <span class="comment">// 次回は，引き継いだデータの先頭から再びフレーム探索</span></div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;      p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#ab74d224e45b3d70c6f787a5b6e740bd6">carry_over_buffer_next_pos_</a> = 0;</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    }</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    {</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;      <span class="comment">// フレーム確定して，解析できなかった受信データがある場合，次回に引き継ぐ</span></div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;      p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a1f1f355089d571eac84c8993cf951fce">carry_over_buffer_size_</a> = (<a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a>)(rec_data_len - total_processed_data_len);</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;      <span class="comment">// 次回は，引き継いだデータの先頭から再びフレーム探索</span></div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;      p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#ab74d224e45b3d70c6f787a5b6e740bd6">carry_over_buffer_next_pos_</a> = 0;</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    }</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;  }</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;  {</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    <span class="keywordflow">if</span> (p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a633af7911182146b7a603ca2ea931203">rec_status_</a>.<a class="code" href="struct_d_s___stream_rec_status.html#a2feedb4d92df6adf23d4c9c331ce6c96">status_code</a> == <a class="code" href="driver__super_8h.html#a3f1d9e8a08d67a25845b0f48d19ccaa8a25851f8a41f5dcabdd130e0bcaa1bf4e">DS_STREAM_REC_STATUS_FINDING_HEADER</a>)</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    {</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;      <span class="comment">// 引き継ぎデータはなし</span></div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;      p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a1f1f355089d571eac84c8993cf951fce">carry_over_buffer_size_</a> = 0;</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;      <span class="comment">// 次回は，先頭から再びフレーム探索</span></div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;      p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#ab74d224e45b3d70c6f787a5b6e740bd6">carry_over_buffer_next_pos_</a> = 0;</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    }</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    {</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;      <span class="comment">// 確定フレームの先頭以降を次回に引き継ぐ</span></div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;      p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a1f1f355089d571eac84c8993cf951fce">carry_over_buffer_size_</a> = (<a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a>)(rec_data_len - p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a48886a25a5e5aa4b58165cbd61eca6ba">rx_frame_head_pos_of_frame_candidate_</a>);</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;      <span class="comment">// 次回は，引き継いだデータはスキップし，受信したものの先頭からフレーム</span></div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;      p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#ab74d224e45b3d70c6f787a5b6e740bd6">carry_over_buffer_next_pos_</a> = p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a1f1f355089d571eac84c8993cf951fce">carry_over_buffer_size_</a>;</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    }</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;  }</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160; </div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;  <span class="keywordflow">if</span> (p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a1f1f355089d571eac84c8993cf951fce">carry_over_buffer_size_</a> &gt; 0 &amp;&amp; p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a1f1f355089d571eac84c8993cf951fce">carry_over_buffer_size_</a> &lt;= <a class="code" href="driver__super_8h.html#a29dc76d4a0cae46236bfdef2e452128d">DS_RX_BUFFER_SIZE_MAX</a>)</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;  {</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> pos = (<a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a>)(rec_data_len - p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a1f1f355089d571eac84c8993cf951fce">carry_over_buffer_size_</a>);</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#ad1995ad0637ebb96232767c3fc731e55">is_rx_buffer_carry_over_</a> = 1;</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    memcpy(p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a7062764ae0bcc0674736b49238520ca6">rx_buffer_for_carry_over_</a>,</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;           &amp;(rx_buffer[pos]),</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;           (<span class="keywordtype">size_t</span>)p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a1f1f355089d571eac84c8993cf951fce">carry_over_buffer_size_</a>);</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;  }</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;  {</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    <span class="comment">// 引き継ぐサイズが DS_RX_BUFFER_SIZE_MAX を超えた場合，処理のキャパを超えてしまっているので，リセット．</span></div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    <span class="keywordflow">if</span> (p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a1f1f355089d571eac84c8993cf951fce">carry_over_buffer_size_</a> &gt; 0)</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    {</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;      p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a633af7911182146b7a603ca2ea931203">rec_status_</a>.<a class="code" href="struct_d_s___stream_rec_status.html#a9082f15a82ab54b1ada1fcb76893982c">count_of_carry_over_failures</a>++;</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    }</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#ad1995ad0637ebb96232767c3fc731e55">is_rx_buffer_carry_over_</a>    = 0;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a1f1f355089d571eac84c8993cf951fce">carry_over_buffer_size_</a>     = 0;</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#ab74d224e45b3d70c6f787a5b6e740bd6">carry_over_buffer_next_pos_</a> = 0;</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;  }</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160; </div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;  <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;}</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160; </div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160; </div>
<div class="line"><a name="l00713"></a><span class="lineno"><a class="line" href="driver__super_8c.html#a307c2f714ae48261cd20926db4add15c">  713</a></span>&#160;<span class="keyword">static</span> <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> <a class="code" href="driver__super_8c.html#a307c2f714ae48261cd20926db4add15c">DS_analyze_rx_buffer_fixed_pickup_</a>(<a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config,</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;                                                   <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>* rx_buffer,</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;                                                   <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> total_processed_data_len,</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;                                                   <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> rec_data_len)</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;{</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;  <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> unprocessed_data_len = (<a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a>)(rec_data_len - total_processed_data_len);      <span class="comment">// このキャストは若干危ない（コードが論理的に正しければ問題ないが）</span></div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;  <a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p = p_stream_config;  <span class="comment">// ちょっと変数名が長すぎて配列indexなどがみずらいので...</span></div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160; </div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;  <span class="keywordflow">if</span> (p-&gt;<a class="code" href="struct_d_s___stream_config.html#ac921c9a2900af72cc2acfeb7966bc2e3">rx_frame_rec_len_</a> == 0 &amp;&amp; p-&gt;<a class="code" href="struct_d_s___stream_config.html#af745a25396635c55741e438c52efb94a">rx_header_size_</a> != 0)</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;  {</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    <span class="comment">// まだヘッダの先頭すら未発見の場合（ヘッダなし時はここはスキップ）</span></div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="driver__super_8c.html#af3cb3191ff23514897baa564e95fee12">DS_analyze_rx_buffer_finding_header_</a>(p_stream_config,</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;                                                rx_buffer,</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;                                                total_processed_data_len,</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;                                                rec_data_len);</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;  }</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (p-&gt;<a class="code" href="struct_d_s___stream_config.html#ac921c9a2900af72cc2acfeb7966bc2e3">rx_frame_rec_len_</a> &lt; p-&gt;<a class="code" href="struct_d_s___stream_config.html#af745a25396635c55741e438c52efb94a">rx_header_size_</a>)</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;  {</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    <span class="comment">// ヘッダ受信中</span></div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="driver__super_8c.html#a3d6d6c60302ac1a8f96666f4fed34f7d">DS_analyze_rx_buffer_receiving_header_</a>(p_stream_config,</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;                                                  rx_buffer,</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;                                                  total_processed_data_len);</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;  }</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (p-&gt;<a class="code" href="struct_d_s___stream_config.html#ac921c9a2900af72cc2acfeb7966bc2e3">rx_frame_rec_len_</a> &lt; p-&gt;<a class="code" href="struct_d_s___stream_config.html#a40aa4056e27652e4349d06b39538d4df">rx_frame_size_</a> - p-&gt;<a class="code" href="struct_d_s___stream_config.html#a84ca04a72cd7770fc4ec8d46e8a0771c">rx_footer_size_</a>)</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;  {</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    <span class="comment">// データ受信中</span></div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    <span class="comment">// ここは高速化のために一括処理</span></div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> pickup_data_len;</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160; </div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    <span class="comment">// ヘッダなしの場合は，ここがフレーム先頭</span></div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    <span class="keywordflow">if</span> (p-&gt;<a class="code" href="struct_d_s___stream_config.html#ac921c9a2900af72cc2acfeb7966bc2e3">rx_frame_rec_len_</a> == 0)</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    {</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;      p-&gt;<a class="code" href="struct_d_s___stream_config.html#a48886a25a5e5aa4b58165cbd61eca6ba">rx_frame_head_pos_of_frame_candidate_</a> = total_processed_data_len;</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    }</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160; </div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    pickup_data_len = (<a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a>)(p-&gt;<a class="code" href="struct_d_s___stream_config.html#a40aa4056e27652e4349d06b39538d4df">rx_frame_size_</a> - p-&gt;<a class="code" href="struct_d_s___stream_config.html#a84ca04a72cd7770fc4ec8d46e8a0771c">rx_footer_size_</a> - p-&gt;<a class="code" href="struct_d_s___stream_config.html#ac921c9a2900af72cc2acfeb7966bc2e3">rx_frame_rec_len_</a>);</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160; </div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    <span class="comment">// 今回で全部受信しきらない場合</span></div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    <span class="keywordflow">if</span> (pickup_data_len &gt; unprocessed_data_len)</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    {</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;      pickup_data_len = unprocessed_data_len;</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    }</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160; </div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    memcpy(&amp;(p-&gt;<a class="code" href="struct_d_s___stream_config.html#a3728f3399352384324aa54908fd754da">rx_frame_</a>[p-&gt;<a class="code" href="struct_d_s___stream_config.html#ac921c9a2900af72cc2acfeb7966bc2e3">rx_frame_rec_len_</a>]),</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;           &amp;(rx_buffer[total_processed_data_len]),</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;           (<span class="keywordtype">size_t</span>)pickup_data_len);</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160; </div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    p-&gt;<a class="code" href="struct_d_s___stream_config.html#ac921c9a2900af72cc2acfeb7966bc2e3">rx_frame_rec_len_</a> += pickup_data_len;</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    p-&gt;<a class="code" href="struct_d_s___stream_config.html#a633af7911182146b7a603ca2ea931203">rec_status_</a>.<a class="code" href="struct_d_s___stream_rec_status.html#a2feedb4d92df6adf23d4c9c331ce6c96">status_code</a> = <a class="code" href="driver__super_8h.html#a3f1d9e8a08d67a25845b0f48d19ccaa8aaae4d31d44d5bdfcf5ad65cf4b460800">DS_STREAM_REC_STATUS_RECEIVING_DATA</a>;</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160; </div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    <span class="comment">// フッタがなく，data受信仕切った場合はフレーム確定</span></div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    <span class="comment">// これがないと，DS_analyze_rx_buffer_fixed_ で</span></div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    <span class="comment">// 今まさに受信したデータ長がぴったりフレーム末だった場合に，フレーム確定が１周期遅れることになるので</span></div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    <span class="keywordflow">if</span> (p-&gt;<a class="code" href="struct_d_s___stream_config.html#a84ca04a72cd7770fc4ec8d46e8a0771c">rx_footer_size_</a> == 0 &amp;&amp; p-&gt;<a class="code" href="struct_d_s___stream_config.html#ac921c9a2900af72cc2acfeb7966bc2e3">rx_frame_rec_len_</a> == p-&gt;<a class="code" href="struct_d_s___stream_config.html#a40aa4056e27652e4349d06b39538d4df">rx_frame_size_</a>)</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    {</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;      p-&gt;<a class="code" href="struct_d_s___stream_config.html#a633af7911182146b7a603ca2ea931203">rec_status_</a>.<a class="code" href="struct_d_s___stream_rec_status.html#a2feedb4d92df6adf23d4c9c331ce6c96">status_code</a> = <a class="code" href="driver__super_8h.html#a3f1d9e8a08d67a25845b0f48d19ccaa8ad15d38cde20b8c9f75082e94c6035006">DS_STREAM_REC_STATUS_FIXED_FRAME</a>;</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;      p-&gt;<a class="code" href="struct_d_s___stream_config.html#a633af7911182146b7a603ca2ea931203">rec_status_</a>.<a class="code" href="struct_d_s___stream_rec_status.html#a9962bac5b3ae9db6bd89750306bf0998">fixed_frame_len</a> = p-&gt;<a class="code" href="struct_d_s___stream_config.html#ac921c9a2900af72cc2acfeb7966bc2e3">rx_frame_rec_len_</a>;</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;      p-&gt;<a class="code" href="struct_d_s___stream_config.html#ac921c9a2900af72cc2acfeb7966bc2e3">rx_frame_rec_len_</a> = 0;</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    }</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160; </div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    <span class="keywordflow">return</span> pickup_data_len;</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;  }</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;  {</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    <span class="comment">// フッタ受信中 or フッタなしの場合はフレーム確定</span></div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="driver__super_8c.html#ac03ce9459ce22d22218665a0a14c3b79">DS_analyze_rx_buffer_receiving_footer_</a>(p_stream_config,</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;                                                  rx_buffer,</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;                                                  total_processed_data_len,</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;                                                  (<a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a>)(p-&gt;<a class="code" href="struct_d_s___stream_config.html#a40aa4056e27652e4349d06b39538d4df">rx_frame_size_</a>));</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;  }</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;}</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160; </div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160; </div>
<div class="line"><a name="l00797"></a><span class="lineno"><a class="line" href="driver__super_8c.html#ae3822bd6031c1023b5eac98cc3bf8e57">  797</a></span>&#160;<span class="keyword">static</span> <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> <a class="code" href="driver__super_8c.html#ae3822bd6031c1023b5eac98cc3bf8e57">DS_analyze_rx_buffer_variable_pickup_with_rx_frame_size_</a>(<a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config,</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;                                                                         <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>* rx_buffer,</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;                                                                         <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> total_processed_data_len,</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;                                                                         <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> rec_data_len)</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;{</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;  <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> unprocessed_data_len = (<a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a>)(rec_data_len - total_processed_data_len);      <span class="comment">// このキャストは若干危ない（コードが論理的に正しければ問題ないが）</span></div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;  <a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p = p_stream_config;  <span class="comment">// ちょっと変数名が長すぎて配列indexなどがみずらいので...</span></div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;  <a class="code" href="stdint_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a> rx_frame_size = <a class="code" href="driver__super_8c.html#afd6a7ce3042412d75d326aa44a140d7c">DS_analyze_rx_buffer_get_framelength_</a>(p_stream_config);      <span class="comment">// まだ受信していない場合は不定値が入ることに留意すること！！</span></div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160; </div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;  <span class="keywordflow">if</span> (p-&gt;<a class="code" href="struct_d_s___stream_config.html#ac921c9a2900af72cc2acfeb7966bc2e3">rx_frame_rec_len_</a> == 0 &amp;&amp; p-&gt;<a class="code" href="struct_d_s___stream_config.html#af745a25396635c55741e438c52efb94a">rx_header_size_</a> != 0)</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;  {</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    <span class="comment">// まだヘッダの先頭すら未発見の場合（ヘッダなし時はここはスキップ）</span></div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="driver__super_8c.html#af3cb3191ff23514897baa564e95fee12">DS_analyze_rx_buffer_finding_header_</a>(p_stream_config,</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;                                                rx_buffer,</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;                                                total_processed_data_len,</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;                                                rec_data_len);</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;  }</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (p-&gt;<a class="code" href="struct_d_s___stream_config.html#ac921c9a2900af72cc2acfeb7966bc2e3">rx_frame_rec_len_</a> &lt; p-&gt;<a class="code" href="struct_d_s___stream_config.html#af745a25396635c55741e438c52efb94a">rx_header_size_</a>)</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;  {</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    <span class="comment">// ヘッダ受信中</span></div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="driver__super_8c.html#a3d6d6c60302ac1a8f96666f4fed34f7d">DS_analyze_rx_buffer_receiving_header_</a>(p_stream_config,</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;                                                  rx_buffer,</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;                                                  total_processed_data_len);</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;  }</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (p-&gt;<a class="code" href="struct_d_s___stream_config.html#ac921c9a2900af72cc2acfeb7966bc2e3">rx_frame_rec_len_</a> &lt; p-&gt;<a class="code" href="struct_d_s___stream_config.html#a31002044fc5cd2187f7acc1918757829">rx_framelength_pos_</a> + p-&gt;<a class="code" href="struct_d_s___stream_config.html#a14339f890773e061e1dc3fa862f7209d">rx_framelength_type_size_</a>)</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;  {</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    <span class="comment">// フレームサイズ探索中</span></div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;    <span class="comment">// ここは高速化のために一括処理</span></div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> pickup_data_len;</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160; </div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    <span class="comment">// ヘッダなしの場合は，ここがフレーム先頭</span></div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    <span class="keywordflow">if</span> (p-&gt;<a class="code" href="struct_d_s___stream_config.html#ac921c9a2900af72cc2acfeb7966bc2e3">rx_frame_rec_len_</a> == 0)</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    {</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;      p-&gt;<a class="code" href="struct_d_s___stream_config.html#a48886a25a5e5aa4b58165cbd61eca6ba">rx_frame_head_pos_of_frame_candidate_</a> = total_processed_data_len;</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    }</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160; </div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    pickup_data_len = (<a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a>)(p-&gt;<a class="code" href="struct_d_s___stream_config.html#a31002044fc5cd2187f7acc1918757829">rx_framelength_pos_</a> + p-&gt;<a class="code" href="struct_d_s___stream_config.html#a14339f890773e061e1dc3fa862f7209d">rx_framelength_type_size_</a> - p-&gt;<a class="code" href="struct_d_s___stream_config.html#ac921c9a2900af72cc2acfeb7966bc2e3">rx_frame_rec_len_</a>);</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160; </div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    <span class="comment">// 今回で全部受信しきらない場合</span></div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    <span class="keywordflow">if</span> (pickup_data_len &gt; unprocessed_data_len)</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    {</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;      pickup_data_len = unprocessed_data_len;</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    }</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160; </div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    memcpy(&amp;(p-&gt;<a class="code" href="struct_d_s___stream_config.html#a3728f3399352384324aa54908fd754da">rx_frame_</a>[p-&gt;<a class="code" href="struct_d_s___stream_config.html#ac921c9a2900af72cc2acfeb7966bc2e3">rx_frame_rec_len_</a>]),</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;           &amp;(rx_buffer[total_processed_data_len]),</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;           (<span class="keywordtype">size_t</span>)pickup_data_len);</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160; </div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    p-&gt;<a class="code" href="struct_d_s___stream_config.html#ac921c9a2900af72cc2acfeb7966bc2e3">rx_frame_rec_len_</a> += pickup_data_len;</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    p-&gt;<a class="code" href="struct_d_s___stream_config.html#a633af7911182146b7a603ca2ea931203">rec_status_</a>.<a class="code" href="struct_d_s___stream_rec_status.html#a2feedb4d92df6adf23d4c9c331ce6c96">status_code</a> = <a class="code" href="driver__super_8h.html#a3f1d9e8a08d67a25845b0f48d19ccaa8adcb7771fd87c61ca76bc02e72d899d24">DS_STREAM_REC_STATUS_RECEIVING_FRAMELENGTH</a>;</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160; </div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    <span class="comment">// フレーム長を受信し終わった場合，チェックする</span></div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    <span class="keywordflow">if</span> (p-&gt;<a class="code" href="struct_d_s___stream_config.html#ac921c9a2900af72cc2acfeb7966bc2e3">rx_frame_rec_len_</a> &gt;= p-&gt;<a class="code" href="struct_d_s___stream_config.html#a31002044fc5cd2187f7acc1918757829">rx_framelength_pos_</a> + p-&gt;<a class="code" href="struct_d_s___stream_config.html#a14339f890773e061e1dc3fa862f7209d">rx_framelength_type_size_</a>)</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    {</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;      rx_frame_size = <a class="code" href="driver__super_8c.html#afd6a7ce3042412d75d326aa44a140d7c">DS_analyze_rx_buffer_get_framelength_</a>(p_stream_config);</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160; </div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;      <span class="comment">// バッファー超えはエラーを出す！</span></div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;      <span class="keywordflow">if</span> (rx_frame_size &gt; <a class="code" href="driver__super_8h.html#aaf12a87484f81e9c2978d9e0f2861945">DS_RX_FRAME_SIZE_MAX</a>)</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;      {</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;        p-&gt;<a class="code" href="struct_d_s___stream_config.html#a633af7911182146b7a603ca2ea931203">rec_status_</a>.<a class="code" href="struct_d_s___stream_rec_status.html#a2feedb4d92df6adf23d4c9c331ce6c96">status_code</a> = <a class="code" href="driver__super_8h.html#a3f1d9e8a08d67a25845b0f48d19ccaa8a7e0d94a625a6600317ef975d9d2e8333">DS_STREAM_REC_STATUS_RX_FRAME_TOO_LONG</a>;</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;        p-&gt;<a class="code" href="struct_d_s___stream_config.html#ac921c9a2900af72cc2acfeb7966bc2e3">rx_frame_rec_len_</a> = 0;</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;<span class="preprocessor">#ifdef DS_DEBUG</span></div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;        <a class="code" href="src__core_2_library_2print_8c.html#a4bc499fc724de87725ee7dc60ed1d106">Printf</a>(<span class="stringliteral">&quot;DS: RX frame size is too long\n&quot;</span>);</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;        <span class="keywordflow">return</span> 0;       <span class="comment">// TODO: ここで何を返すかはもうすこし考えても良いかも？</span></div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;      }</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160; </div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;      <span class="comment">// bodyサイズがは0以上を要請</span></div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;      <span class="keywordflow">if</span> (rx_frame_size &lt; p-&gt;rx_header_size_ + p-&gt;<a class="code" href="struct_d_s___stream_config.html#a84ca04a72cd7770fc4ec8d46e8a0771c">rx_footer_size_</a>)</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;      {</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;        p-&gt;<a class="code" href="struct_d_s___stream_config.html#a633af7911182146b7a603ca2ea931203">rec_status_</a>.<a class="code" href="struct_d_s___stream_rec_status.html#a2feedb4d92df6adf23d4c9c331ce6c96">status_code</a> = <a class="code" href="driver__super_8h.html#a3f1d9e8a08d67a25845b0f48d19ccaa8a1a0962bc0df9659cd02ac56d3af20254">DS_STREAM_REC_STATUS_RX_FRAME_TOO_SHORT</a>;</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;        p-&gt;<a class="code" href="struct_d_s___stream_config.html#ac921c9a2900af72cc2acfeb7966bc2e3">rx_frame_rec_len_</a> = 0;</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;<span class="preprocessor">#ifdef DS_DEBUG</span></div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;        <a class="code" href="src__core_2_library_2print_8c.html#a4bc499fc724de87725ee7dc60ed1d106">Printf</a>(<span class="stringliteral">&quot;DS: RX frame size is too short\n&quot;</span>);</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;        <span class="keywordflow">return</span> 0;       <span class="comment">// TODO: ここで何を返すかはもうすこし考えても良いかも？</span></div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;      }</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    }</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160; </div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    <span class="keywordflow">return</span> pickup_data_len;</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;  }</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (p-&gt;<a class="code" href="struct_d_s___stream_config.html#ac921c9a2900af72cc2acfeb7966bc2e3">rx_frame_rec_len_</a> &lt; rx_frame_size - p-&gt;<a class="code" href="struct_d_s___stream_config.html#a84ca04a72cd7770fc4ec8d46e8a0771c">rx_footer_size_</a>)</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;  {</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    <span class="comment">// データ受信中</span></div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    <span class="comment">// ここは高速化のために一括処理</span></div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160; </div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> pickup_data_len = (<a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a>)(rx_frame_size - p-&gt;<a class="code" href="struct_d_s___stream_config.html#a84ca04a72cd7770fc4ec8d46e8a0771c">rx_footer_size_</a> - p-&gt;<a class="code" href="struct_d_s___stream_config.html#ac921c9a2900af72cc2acfeb7966bc2e3">rx_frame_rec_len_</a>);    <span class="comment">// TODO: 現在，フレーム長がuint16_tを超えることは想定していない！</span></div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160; </div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    <span class="comment">// 今回で全部受信しきらない場合</span></div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    <span class="keywordflow">if</span> (pickup_data_len &gt; unprocessed_data_len)</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    {</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;      pickup_data_len = unprocessed_data_len;</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    }</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160; </div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;    memcpy(&amp;(p-&gt;<a class="code" href="struct_d_s___stream_config.html#a3728f3399352384324aa54908fd754da">rx_frame_</a>[p-&gt;<a class="code" href="struct_d_s___stream_config.html#ac921c9a2900af72cc2acfeb7966bc2e3">rx_frame_rec_len_</a>]),</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;           &amp;(rx_buffer[total_processed_data_len]),</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;           (<span class="keywordtype">size_t</span>)pickup_data_len);</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160; </div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    p-&gt;<a class="code" href="struct_d_s___stream_config.html#ac921c9a2900af72cc2acfeb7966bc2e3">rx_frame_rec_len_</a> += pickup_data_len;</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    p-&gt;<a class="code" href="struct_d_s___stream_config.html#a633af7911182146b7a603ca2ea931203">rec_status_</a>.<a class="code" href="struct_d_s___stream_rec_status.html#a2feedb4d92df6adf23d4c9c331ce6c96">status_code</a> = <a class="code" href="driver__super_8h.html#a3f1d9e8a08d67a25845b0f48d19ccaa8aaae4d31d44d5bdfcf5ad65cf4b460800">DS_STREAM_REC_STATUS_RECEIVING_DATA</a>;</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160; </div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    <span class="comment">// フッタがなく，data受信仕切った場合はフレーム確定</span></div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    <span class="comment">// これがないと，DS_analyze_rx_buffer_fixed_ で今まさに受信したデータ長がぴったりフレーム末だった場合に，フレーム確定が１周期遅れることになるので</span></div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    <span class="keywordflow">if</span> (p-&gt;<a class="code" href="struct_d_s___stream_config.html#a84ca04a72cd7770fc4ec8d46e8a0771c">rx_footer_size_</a> == 0 &amp;&amp; p-&gt;<a class="code" href="struct_d_s___stream_config.html#ac921c9a2900af72cc2acfeb7966bc2e3">rx_frame_rec_len_</a> == rx_frame_size)</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    {</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;      p-&gt;<a class="code" href="struct_d_s___stream_config.html#a633af7911182146b7a603ca2ea931203">rec_status_</a>.<a class="code" href="struct_d_s___stream_rec_status.html#a2feedb4d92df6adf23d4c9c331ce6c96">status_code</a> = <a class="code" href="driver__super_8h.html#a3f1d9e8a08d67a25845b0f48d19ccaa8ad15d38cde20b8c9f75082e94c6035006">DS_STREAM_REC_STATUS_FIXED_FRAME</a>;</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;      p-&gt;<a class="code" href="struct_d_s___stream_config.html#ac921c9a2900af72cc2acfeb7966bc2e3">rx_frame_rec_len_</a> = 0;</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;    }</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160; </div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    <span class="keywordflow">return</span> pickup_data_len;</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;  }</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;  {</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    <span class="comment">// フッタ受信中 or フッタなしの場合はフレーム確定</span></div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="driver__super_8c.html#ac03ce9459ce22d22218665a0a14c3b79">DS_analyze_rx_buffer_receiving_footer_</a>(p_stream_config,</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;                                                  rx_buffer,</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;                                                  total_processed_data_len,</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;                                                  (<a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a>)rx_frame_size);</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;  }</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;}</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160; </div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160; </div>
<div class="line"><a name="l00932"></a><span class="lineno"><a class="line" href="driver__super_8c.html#aba44a396fa200beaf48099d2f50bfb12">  932</a></span>&#160;<span class="keyword">static</span> <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> <a class="code" href="driver__super_8c.html#aba44a396fa200beaf48099d2f50bfb12">DS_analyze_rx_buffer_variable_pickup_with_footer_</a>(<a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config,</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;                                                                  <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>* rx_buffer,</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;                                                                  <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> total_processed_data_len,</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;                                                                  <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> rec_data_len)</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;{</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;  <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> unprocessed_data_len = (<a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a>)(rec_data_len - total_processed_data_len);      <span class="comment">// このキャストは若干危ない（コードが論理的に正しければ問題ないが）</span></div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;  <a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p = p_stream_config;  <span class="comment">// ちょっと変数名が長すぎて配列indexなどがみずらいので...</span></div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160; </div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;  <span class="keywordflow">if</span> (p-&gt;<a class="code" href="struct_d_s___stream_config.html#ac921c9a2900af72cc2acfeb7966bc2e3">rx_frame_rec_len_</a> == 0 &amp;&amp; p-&gt;<a class="code" href="struct_d_s___stream_config.html#af745a25396635c55741e438c52efb94a">rx_header_size_</a> != 0)</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;  {</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;    <span class="comment">// まだヘッダの先頭すら未発見の場合（ヘッダなし時はここはスキップ）</span></div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="driver__super_8c.html#af3cb3191ff23514897baa564e95fee12">DS_analyze_rx_buffer_finding_header_</a>(p_stream_config,</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;                                                rx_buffer,</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;                                                total_processed_data_len,</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;                                                rec_data_len);</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;  }</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (p-&gt;<a class="code" href="struct_d_s___stream_config.html#ac921c9a2900af72cc2acfeb7966bc2e3">rx_frame_rec_len_</a> &lt; p-&gt;<a class="code" href="struct_d_s___stream_config.html#af745a25396635c55741e438c52efb94a">rx_header_size_</a>)</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;  {</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    <span class="comment">// ヘッダ受信中</span></div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="driver__super_8c.html#a3d6d6c60302ac1a8f96666f4fed34f7d">DS_analyze_rx_buffer_receiving_header_</a>(p_stream_config,</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;                                                  rx_buffer,</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;                                                  total_processed_data_len);</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;  }</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;  {</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    <span class="comment">// 最後まで受信し，フッタの最終文字を探す．フッタなしはありえない．</span></div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>* p_footer_last;     <span class="comment">// inclusive</span></div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    <a class="code" href="stdint_8h.html#a2ba621978a511250f7250fb10e05ffbe">int32_t</a>  body_data_len;     <span class="comment">// サイズ的にはu16でよいが，負数もとりたいのでi32としている</span></div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;    <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> processed_data_len;</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> i;</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> estimated_rx_frame_size;</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> pickup_data_len;</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160; </div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    <span class="comment">// ヘッダなしの場合は，ここがフレーム先頭</span></div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    <span class="keywordflow">if</span> (p-&gt;<a class="code" href="struct_d_s___stream_config.html#ac921c9a2900af72cc2acfeb7966bc2e3">rx_frame_rec_len_</a> == 0)</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;    {</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;      p-&gt;<a class="code" href="struct_d_s___stream_config.html#a48886a25a5e5aa4b58165cbd61eca6ba">rx_frame_head_pos_of_frame_candidate_</a> = total_processed_data_len;</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    }</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160; </div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;    <span class="comment">// 届いているデータを受信フレームバッファに格納する</span></div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;    <span class="comment">// ここは高速化のために一括処理</span></div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;    pickup_data_len = unprocessed_data_len;</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    <span class="comment">// 永遠にフッタを受信しない場合にバッファーオーバーランすることを防ぐ</span></div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    <span class="keywordflow">if</span> (p-&gt;<a class="code" href="struct_d_s___stream_config.html#ac921c9a2900af72cc2acfeb7966bc2e3">rx_frame_rec_len_</a> + pickup_data_len &gt; <a class="code" href="driver__super_8h.html#aaf12a87484f81e9c2978d9e0f2861945">DS_RX_FRAME_SIZE_MAX</a>)</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;    {</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;      <span class="keywordflow">if</span> (p-&gt;<a class="code" href="struct_d_s___stream_config.html#ac921c9a2900af72cc2acfeb7966bc2e3">rx_frame_rec_len_</a> &gt;= <a class="code" href="driver__super_8h.html#aaf12a87484f81e9c2978d9e0f2861945">DS_RX_FRAME_SIZE_MAX</a>)</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;      {</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;        <span class="comment">// これ以上受信できないため，フッタ探索失敗として，リセットする</span></div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;        p-&gt;<a class="code" href="struct_d_s___stream_config.html#a633af7911182146b7a603ca2ea931203">rec_status_</a>.<a class="code" href="struct_d_s___stream_rec_status.html#a2feedb4d92df6adf23d4c9c331ce6c96">status_code</a> = <a class="code" href="driver__super_8h.html#a3f1d9e8a08d67a25845b0f48d19ccaa8a7e0d94a625a6600317ef975d9d2e8333">DS_STREAM_REC_STATUS_RX_FRAME_TOO_LONG</a>;</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;        p-&gt;<a class="code" href="struct_d_s___stream_config.html#ac921c9a2900af72cc2acfeb7966bc2e3">rx_frame_rec_len_</a> = 0;</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;<span class="preprocessor">#ifdef DS_DEBUG</span></div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;        <a class="code" href="src__core_2_library_2print_8c.html#a4bc499fc724de87725ee7dc60ed1d106">Printf</a>(<span class="stringliteral">&quot;DS: RX frame is too long\n&quot;</span>);</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;        <span class="keywordflow">return</span> 0;   <span class="comment">// 処理済みデータもなし</span></div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;      }</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;      pickup_data_len = (<a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a>)(<a class="code" href="driver__super_8h.html#aaf12a87484f81e9c2978d9e0f2861945">DS_RX_FRAME_SIZE_MAX</a> - p-&gt;<a class="code" href="struct_d_s___stream_config.html#ac921c9a2900af72cc2acfeb7966bc2e3">rx_frame_rec_len_</a>);</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;    }</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;    memcpy(&amp;(p-&gt;<a class="code" href="struct_d_s___stream_config.html#a3728f3399352384324aa54908fd754da">rx_frame_</a>[p-&gt;<a class="code" href="struct_d_s___stream_config.html#ac921c9a2900af72cc2acfeb7966bc2e3">rx_frame_rec_len_</a>]),</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;           &amp;(rx_buffer[total_processed_data_len]),</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;           (<span class="keywordtype">size_t</span>)pickup_data_len);</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160; </div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;    <span class="comment">// フッタ最終文字を探す</span></div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;    p_footer_last = (<a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>*)memchr(&amp;(rx_buffer[p-&gt;<a class="code" href="struct_d_s___stream_config.html#ac921c9a2900af72cc2acfeb7966bc2e3">rx_frame_rec_len_</a>]),</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;                                     (int)(p-&gt;<a class="code" href="struct_d_s___stream_config.html#a5e803fe8c362d6810e84c6addd66c10d">rx_footer_</a>[p-&gt;<a class="code" href="struct_d_s___stream_config.html#a84ca04a72cd7770fc4ec8d46e8a0771c">rx_footer_size_</a> - 1]),</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;                                     (size_t)pickup_data_len);</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160; </div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    <span class="keywordflow">if</span> (p_footer_last == NULL)</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;    {</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;      <span class="comment">// まだまだ受信する</span></div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;      p-&gt;<a class="code" href="struct_d_s___stream_config.html#ac921c9a2900af72cc2acfeb7966bc2e3">rx_frame_rec_len_</a> += pickup_data_len;</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;      p-&gt;<a class="code" href="struct_d_s___stream_config.html#a633af7911182146b7a603ca2ea931203">rec_status_</a>.<a class="code" href="struct_d_s___stream_rec_status.html#a2feedb4d92df6adf23d4c9c331ce6c96">status_code</a> = <a class="code" href="driver__super_8h.html#a3f1d9e8a08d67a25845b0f48d19ccaa8aaae4d31d44d5bdfcf5ad65cf4b460800">DS_STREAM_REC_STATUS_RECEIVING_DATA</a>;</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;      <span class="keywordflow">return</span> pickup_data_len;</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    }</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160; </div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    processed_data_len = (<a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a>)(p_footer_last - &amp;(rx_buffer[p-&gt;<a class="code" href="struct_d_s___stream_config.html#ac921c9a2900af72cc2acfeb7966bc2e3">rx_frame_rec_len_</a>]) + 1);</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    body_data_len = (p_footer_last - rx_buffer + 1) - p-&gt;<a class="code" href="struct_d_s___stream_config.html#af745a25396635c55741e438c52efb94a">rx_header_size_</a> - p-&gt;<a class="code" href="struct_d_s___stream_config.html#a84ca04a72cd7770fc4ec8d46e8a0771c">rx_footer_size_</a>;</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    if (body_data_len &lt; 0)</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    {</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;      <span class="comment">// これはフッタではないので受信続行</span></div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;      <span class="comment">// まだまだ受信する</span></div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;      p-&gt;<a class="code" href="struct_d_s___stream_config.html#ac921c9a2900af72cc2acfeb7966bc2e3">rx_frame_rec_len_</a> += pickup_data_len;</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;      p-&gt;<a class="code" href="struct_d_s___stream_config.html#a633af7911182146b7a603ca2ea931203">rec_status_</a>.<a class="code" href="struct_d_s___stream_rec_status.html#a2feedb4d92df6adf23d4c9c331ce6c96">status_code</a> = <a class="code" href="driver__super_8h.html#a3f1d9e8a08d67a25845b0f48d19ccaa8aaae4d31d44d5bdfcf5ad65cf4b460800">DS_STREAM_REC_STATUS_RECEIVING_DATA</a>;</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;      <span class="keywordflow">return</span> pickup_data_len;</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;    }</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160; </div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;    <span class="comment">// フッタ候補発見</span></div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;    <span class="comment">// フッタチェックする</span></div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    estimated_rx_frame_size = (<a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a>)(p-&gt;<a class="code" href="struct_d_s___stream_config.html#af745a25396635c55741e438c52efb94a">rx_header_size_</a> + body_data_len + p-&gt;<a class="code" href="struct_d_s___stream_config.html#a84ca04a72cd7770fc4ec8d46e8a0771c">rx_footer_size_</a>);</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; p-&gt;<a class="code" href="struct_d_s___stream_config.html#a84ca04a72cd7770fc4ec8d46e8a0771c">rx_footer_size_</a>; i++)</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;    {</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;      <span class="keywordflow">if</span> (rx_buffer[estimated_rx_frame_size - i - 1] != p-&gt;<a class="code" href="struct_d_s___stream_config.html#a5e803fe8c362d6810e84c6addd66c10d">rx_footer_</a>[p-&gt;<a class="code" href="struct_d_s___stream_config.html#a84ca04a72cd7770fc4ec8d46e8a0771c">rx_footer_size_</a> - i - 1])</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;      {</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;        <span class="comment">// これはフッタではないので受信続行</span></div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;        <span class="comment">// まだまだ受信する</span></div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;        p-&gt;<a class="code" href="struct_d_s___stream_config.html#ac921c9a2900af72cc2acfeb7966bc2e3">rx_frame_rec_len_</a> += pickup_data_len;</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;        p-&gt;<a class="code" href="struct_d_s___stream_config.html#a633af7911182146b7a603ca2ea931203">rec_status_</a>.<a class="code" href="struct_d_s___stream_rec_status.html#a2feedb4d92df6adf23d4c9c331ce6c96">status_code</a> = <a class="code" href="driver__super_8h.html#a3f1d9e8a08d67a25845b0f48d19ccaa8aaae4d31d44d5bdfcf5ad65cf4b460800">DS_STREAM_REC_STATUS_RECEIVING_DATA</a>;</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;        <span class="keywordflow">return</span> pickup_data_len;</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;      }</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;    }</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160; </div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;    <span class="comment">// フッタ確定 → フレーム確定</span></div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;    p-&gt;<a class="code" href="struct_d_s___stream_config.html#a633af7911182146b7a603ca2ea931203">rec_status_</a>.<a class="code" href="struct_d_s___stream_rec_status.html#a2feedb4d92df6adf23d4c9c331ce6c96">status_code</a> = <a class="code" href="driver__super_8h.html#a3f1d9e8a08d67a25845b0f48d19ccaa8ad15d38cde20b8c9f75082e94c6035006">DS_STREAM_REC_STATUS_FIXED_FRAME</a>;</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;    p-&gt;<a class="code" href="struct_d_s___stream_config.html#a633af7911182146b7a603ca2ea931203">rec_status_</a>.<a class="code" href="struct_d_s___stream_rec_status.html#a9962bac5b3ae9db6bd89750306bf0998">fixed_frame_len</a> = estimated_rx_frame_size;</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;    p-&gt;<a class="code" href="struct_d_s___stream_config.html#ac921c9a2900af72cc2acfeb7966bc2e3">rx_frame_rec_len_</a> = 0;</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;    <span class="keywordflow">return</span> processed_data_len;</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;  }</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;}</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160; </div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160; </div>
<div class="line"><a name="l01050"></a><span class="lineno"><a class="line" href="driver__super_8c.html#af3cb3191ff23514897baa564e95fee12"> 1050</a></span>&#160;<span class="keyword">static</span> <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> <a class="code" href="driver__super_8c.html#af3cb3191ff23514897baa564e95fee12">DS_analyze_rx_buffer_finding_header_</a>(<a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config,</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;                                                     <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>* rx_buffer,</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;                                                     <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> total_processed_data_len,</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;                                                     <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> rec_data_len)</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;{</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;  <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> unprocessed_data_len = (<a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a>)(rec_data_len - total_processed_data_len);      <span class="comment">// このキャストは若干危ない（コードが論理的に正しければ問題ないが）</span></div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;  <a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p = p_stream_config;  <span class="comment">// ちょっと変数名が長すぎて配列indexなどがみずらいので...</span></div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;  <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>* p_header;</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;  <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> processed_data_len;</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160; </div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;  <span class="comment">// コードが正しければ，ヘッダがないケースはここに到達し得ないが，ヌルポ回避をいれておく</span></div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;  <span class="keywordflow">if</span> (p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#ab151f14576e06599f6e24475cee9271e">rx_header_</a> == NULL)</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;  {</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;<span class="preprocessor">#ifdef DS_DEBUG</span></div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;    <a class="code" href="src__core_2_library_2print_8c.html#a4bc499fc724de87725ee7dc60ed1d106">Printf</a>(<span class="stringliteral">&quot;DS: RX header is invalid\n&quot;</span>);</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;    p-&gt;<a class="code" href="struct_d_s___stream_config.html#a633af7911182146b7a603ca2ea931203">rec_status_</a>.<a class="code" href="struct_d_s___stream_rec_status.html#a2feedb4d92df6adf23d4c9c331ce6c96">status_code</a> = <a class="code" href="driver__super_8h.html#a3f1d9e8a08d67a25845b0f48d19ccaa8a0d2ea2811c14e096e9d75bafe4112e03">DS_STREAM_REC_STATUS_OTHER_ERR</a>;</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;    <span class="keywordflow">return</span> unprocessed_data_len;</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;  }</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160; </div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;  <span class="comment">// まだヘッダの先頭すら未発見の場合</span></div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;  <span class="comment">// ここは高速化のために一括処理</span></div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;  p_header = (<a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>*)memchr(&amp;(rx_buffer[total_processed_data_len]),</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;                              (int)(p-&gt;<a class="code" href="struct_d_s___stream_config.html#ab151f14576e06599f6e24475cee9271e">rx_header_</a>[0]),</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;                              (size_t)unprocessed_data_len);</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160; </div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;  <span class="keywordflow">if</span> (p_header == NULL)</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;  {</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;<span class="preprocessor">#ifdef DS_DEBUG</span></div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;    <a class="code" href="src__core_2_library_2print_8c.html#a4bc499fc724de87725ee7dc60ed1d106">Printf</a>(<span class="stringliteral">&quot;DS: RX header not found\n&quot;</span>);</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    p-&gt;<a class="code" href="struct_d_s___stream_config.html#a633af7911182146b7a603ca2ea931203">rec_status_</a>.<a class="code" href="struct_d_s___stream_rec_status.html#a2feedb4d92df6adf23d4c9c331ce6c96">status_code</a> = <a class="code" href="driver__super_8h.html#a3f1d9e8a08d67a25845b0f48d19ccaa8a25851f8a41f5dcabdd130e0bcaa1bf4e">DS_STREAM_REC_STATUS_FINDING_HEADER</a>;</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;    <span class="keywordflow">return</span> unprocessed_data_len;</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;  }</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160; </div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;  processed_data_len = (<a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a>)(p_header - &amp;(rx_buffer[total_processed_data_len]) + 1);</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160; </div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;  <span class="comment">// ヘッダコピー．ホントはbufferからコピるべきだけど，ちょっとアドレスいじっていて怖いので．．．</span></div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;  p-&gt;<a class="code" href="struct_d_s___stream_config.html#a3728f3399352384324aa54908fd754da">rx_frame_</a>[p-&gt;<a class="code" href="struct_d_s___stream_config.html#ac921c9a2900af72cc2acfeb7966bc2e3">rx_frame_rec_len_</a>] = p-&gt;<a class="code" href="struct_d_s___stream_config.html#ab151f14576e06599f6e24475cee9271e">rx_header_</a>[0];</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;  p-&gt;<a class="code" href="struct_d_s___stream_config.html#ac921c9a2900af72cc2acfeb7966bc2e3">rx_frame_rec_len_</a>++;</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160; </div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;  p-&gt;<a class="code" href="struct_d_s___stream_config.html#a633af7911182146b7a603ca2ea931203">rec_status_</a>.<a class="code" href="struct_d_s___stream_rec_status.html#a2feedb4d92df6adf23d4c9c331ce6c96">status_code</a> = <a class="code" href="driver__super_8h.html#a3f1d9e8a08d67a25845b0f48d19ccaa8a916d9db5cf61d9ad82cfb3a0f181fa20">DS_STREAM_REC_STATUS_RECEIVING_HEADER</a>;</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;  p-&gt;<a class="code" href="struct_d_s___stream_config.html#a48886a25a5e5aa4b58165cbd61eca6ba">rx_frame_head_pos_of_frame_candidate_</a> = (<a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a>)(total_processed_data_len + processed_data_len - 1);</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;  <span class="keywordflow">return</span> processed_data_len;</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;}</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160; </div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160; </div>
<div class="line"><a name="l01105"></a><span class="lineno"><a class="line" href="driver__super_8c.html#a3d6d6c60302ac1a8f96666f4fed34f7d"> 1105</a></span>&#160;<span class="keyword">static</span> <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> <a class="code" href="driver__super_8c.html#a3d6d6c60302ac1a8f96666f4fed34f7d">DS_analyze_rx_buffer_receiving_header_</a>(<a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config,</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;                                                       <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>* rx_buffer,</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;                                                       <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> total_processed_data_len)</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;{</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;  <a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p = p_stream_config;  <span class="comment">// ちょっと変数名が長すぎて配列indexなどがみずらいので...</span></div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160; </div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;  <span class="comment">// ヘッダ受信中</span></div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;  <span class="comment">// 受信が細切れのときなどの処理分岐がめんどくさいので，1byteずつ処理させる</span></div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160; </div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;  <span class="comment">// ヘッダが正しいか？</span></div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;  <span class="keywordflow">if</span> (rx_buffer[total_processed_data_len] == p-&gt;<a class="code" href="struct_d_s___stream_config.html#ab151f14576e06599f6e24475cee9271e">rx_header_</a>[p-&gt;<a class="code" href="struct_d_s___stream_config.html#ac921c9a2900af72cc2acfeb7966bc2e3">rx_frame_rec_len_</a>])</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;  {</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;    p-&gt;<a class="code" href="struct_d_s___stream_config.html#a3728f3399352384324aa54908fd754da">rx_frame_</a>[p-&gt;<a class="code" href="struct_d_s___stream_config.html#ac921c9a2900af72cc2acfeb7966bc2e3">rx_frame_rec_len_</a>] = p-&gt;<a class="code" href="struct_d_s___stream_config.html#ab151f14576e06599f6e24475cee9271e">rx_header_</a>[p-&gt;<a class="code" href="struct_d_s___stream_config.html#ac921c9a2900af72cc2acfeb7966bc2e3">rx_frame_rec_len_</a>];</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    p-&gt;<a class="code" href="struct_d_s___stream_config.html#ac921c9a2900af72cc2acfeb7966bc2e3">rx_frame_rec_len_</a>++;</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160; </div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;    p-&gt;<a class="code" href="struct_d_s___stream_config.html#a633af7911182146b7a603ca2ea931203">rec_status_</a>.<a class="code" href="struct_d_s___stream_rec_status.html#a2feedb4d92df6adf23d4c9c331ce6c96">status_code</a> = <a class="code" href="driver__super_8h.html#a3f1d9e8a08d67a25845b0f48d19ccaa8a916d9db5cf61d9ad82cfb3a0f181fa20">DS_STREAM_REC_STATUS_RECEIVING_HEADER</a>;</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;  }</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;  {</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    <span class="comment">// ヘッダが正しくなかった</span></div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;    <span class="comment">// DS_STREAM_REC_STATUS_HEADER_MISMATCH になり，再びバッファを巻き戻してヘッダ探索を始める</span></div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;    <span class="comment">// その後 DS_STREAM_REC_STATUS_FINDING_HEADER に戻る</span></div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;    p-&gt;<a class="code" href="struct_d_s___stream_config.html#a633af7911182146b7a603ca2ea931203">rec_status_</a>.<a class="code" href="struct_d_s___stream_rec_status.html#a2feedb4d92df6adf23d4c9c331ce6c96">status_code</a> = <a class="code" href="driver__super_8h.html#a3f1d9e8a08d67a25845b0f48d19ccaa8a43237a4338faebb542a41953c4d2b593">DS_STREAM_REC_STATUS_HEADER_MISMATCH</a>;</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;    p-&gt;<a class="code" href="struct_d_s___stream_config.html#ac921c9a2900af72cc2acfeb7966bc2e3">rx_frame_rec_len_</a> = 0;</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;<span class="preprocessor">#ifdef DS_DEBUG</span></div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;    <a class="code" href="src__core_2_library_2print_8c.html#a4bc499fc724de87725ee7dc60ed1d106">Printf</a>(<span class="stringliteral">&quot;DS: RX header is mismatch\n&quot;</span>);</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;  }</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;}</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160; </div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160; </div>
<div class="line"><a name="l01148"></a><span class="lineno"><a class="line" href="driver__super_8c.html#ac03ce9459ce22d22218665a0a14c3b79"> 1148</a></span>&#160;<span class="keyword">static</span> <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> <a class="code" href="driver__super_8c.html#ac03ce9459ce22d22218665a0a14c3b79">DS_analyze_rx_buffer_receiving_footer_</a>(<a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config,</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;                                                       <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>* rx_buffer,</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;                                                       <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> total_processed_data_len,</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;                                                       <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> rx_frame_size)</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;{</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;  <a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p = p_stream_config;  <span class="comment">// ちょっと変数名が長すぎて配列indexなどがみずらいので...</span></div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;  <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> rec_footer_pos;</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160; </div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;  <span class="comment">// フッタなしの場合はフレーム確定</span></div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;  <span class="keywordflow">if</span> (p-&gt;<a class="code" href="struct_d_s___stream_config.html#a84ca04a72cd7770fc4ec8d46e8a0771c">rx_footer_size_</a> == 0)</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;  {</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;    <span class="comment">// フッタなし</span></div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;    p-&gt;<a class="code" href="struct_d_s___stream_config.html#a633af7911182146b7a603ca2ea931203">rec_status_</a>.<a class="code" href="struct_d_s___stream_rec_status.html#a2feedb4d92df6adf23d4c9c331ce6c96">status_code</a> = <a class="code" href="driver__super_8h.html#a3f1d9e8a08d67a25845b0f48d19ccaa8ad15d38cde20b8c9f75082e94c6035006">DS_STREAM_REC_STATUS_FIXED_FRAME</a>;</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    p-&gt;<a class="code" href="struct_d_s___stream_config.html#a633af7911182146b7a603ca2ea931203">rec_status_</a>.<a class="code" href="struct_d_s___stream_rec_status.html#a9962bac5b3ae9db6bd89750306bf0998">fixed_frame_len</a> = p-&gt;<a class="code" href="struct_d_s___stream_config.html#ac921c9a2900af72cc2acfeb7966bc2e3">rx_frame_rec_len_</a>;</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;    p-&gt;<a class="code" href="struct_d_s___stream_config.html#ac921c9a2900af72cc2acfeb7966bc2e3">rx_frame_rec_len_</a> = 0;</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;    <span class="keywordflow">return</span> 0;   <span class="comment">// 処理済みデータもなし</span></div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;  }</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160; </div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;  <span class="comment">// フッタ受信</span></div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;  <span class="comment">// ここも条件分岐がめんどくさいので，1byteずつ処理する</span></div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;  rec_footer_pos = (<a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a>)(p-&gt;<a class="code" href="struct_d_s___stream_config.html#ac921c9a2900af72cc2acfeb7966bc2e3">rx_frame_rec_len_</a> - (rx_frame_size - p-&gt;<a class="code" href="struct_d_s___stream_config.html#a84ca04a72cd7770fc4ec8d46e8a0771c">rx_footer_size_</a>));</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160; </div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;  <span class="comment">// 期待されているフッタが受信できたか？</span></div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;  <span class="comment">// 受信できなかった場合， DS_STREAM_REC_STATUS_FOOTER_MISMATCH になり，再びバッファを巻き戻してヘッダ探索を始める</span></div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;  <span class="comment">// その後 DS_STREAM_REC_STATUS_FINDING_HEADER に戻る</span></div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;  <span class="keywordflow">if</span> (rx_buffer[total_processed_data_len] != p-&gt;<a class="code" href="struct_d_s___stream_config.html#a5e803fe8c362d6810e84c6addd66c10d">rx_footer_</a>[rec_footer_pos])</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;  {</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;    p-&gt;<a class="code" href="struct_d_s___stream_config.html#a633af7911182146b7a603ca2ea931203">rec_status_</a>.<a class="code" href="struct_d_s___stream_rec_status.html#a2feedb4d92df6adf23d4c9c331ce6c96">status_code</a> = <a class="code" href="driver__super_8h.html#a3f1d9e8a08d67a25845b0f48d19ccaa8a1928d0485a87b2311bbc48c9c62eab08">DS_STREAM_REC_STATUS_FOOTER_MISMATCH</a>;</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;    p-&gt;<a class="code" href="struct_d_s___stream_config.html#ac921c9a2900af72cc2acfeb7966bc2e3">rx_frame_rec_len_</a> = 0;</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;<span class="preprocessor">#ifdef DS_DEBUG</span></div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;    <a class="code" href="src__core_2_library_2print_8c.html#a4bc499fc724de87725ee7dc60ed1d106">Printf</a>(<span class="stringliteral">&quot;DS: RX footer is mismatch\n&quot;</span>);</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;  }</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160; </div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;  <span class="comment">// ここまできたら正しいフッタが受信されている</span></div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;  p-&gt;<a class="code" href="struct_d_s___stream_config.html#a3728f3399352384324aa54908fd754da">rx_frame_</a>[p-&gt;<a class="code" href="struct_d_s___stream_config.html#ac921c9a2900af72cc2acfeb7966bc2e3">rx_frame_rec_len_</a>] = p-&gt;<a class="code" href="struct_d_s___stream_config.html#a5e803fe8c362d6810e84c6addd66c10d">rx_footer_</a>[rec_footer_pos];</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;  p-&gt;<a class="code" href="struct_d_s___stream_config.html#ac921c9a2900af72cc2acfeb7966bc2e3">rx_frame_rec_len_</a>++;</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160; </div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;  <span class="keywordflow">if</span> (p-&gt;<a class="code" href="struct_d_s___stream_config.html#ac921c9a2900af72cc2acfeb7966bc2e3">rx_frame_rec_len_</a> == rx_frame_size)</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;  {</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;    <span class="comment">// フレーム確定</span></div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;    p-&gt;<a class="code" href="struct_d_s___stream_config.html#a633af7911182146b7a603ca2ea931203">rec_status_</a>.<a class="code" href="struct_d_s___stream_rec_status.html#a2feedb4d92df6adf23d4c9c331ce6c96">status_code</a> = <a class="code" href="driver__super_8h.html#a3f1d9e8a08d67a25845b0f48d19ccaa8ad15d38cde20b8c9f75082e94c6035006">DS_STREAM_REC_STATUS_FIXED_FRAME</a>;</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;    p-&gt;<a class="code" href="struct_d_s___stream_config.html#a633af7911182146b7a603ca2ea931203">rec_status_</a>.<a class="code" href="struct_d_s___stream_rec_status.html#a9962bac5b3ae9db6bd89750306bf0998">fixed_frame_len</a> = p-&gt;<a class="code" href="struct_d_s___stream_config.html#ac921c9a2900af72cc2acfeb7966bc2e3">rx_frame_rec_len_</a>;</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;    p-&gt;<a class="code" href="struct_d_s___stream_config.html#ac921c9a2900af72cc2acfeb7966bc2e3">rx_frame_rec_len_</a> = 0;</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;  }</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;  {</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;    <span class="comment">// フレーム確定せず</span></div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;    p-&gt;<a class="code" href="struct_d_s___stream_config.html#a633af7911182146b7a603ca2ea931203">rec_status_</a>.<a class="code" href="struct_d_s___stream_rec_status.html#a2feedb4d92df6adf23d4c9c331ce6c96">status_code</a> = <a class="code" href="driver__super_8h.html#a3f1d9e8a08d67a25845b0f48d19ccaa8a34b4e9e6f0c1085f65e46526fa9d1648">DS_STREAM_REC_STATUS_RECEIVING_FOOTER</a>;</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;  }</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160; </div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;  <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;}</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160; </div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160; </div>
<div class="line"><a name="l01210"></a><span class="lineno"><a class="line" href="driver__super_8c.html#afd6a7ce3042412d75d326aa44a140d7c"> 1210</a></span>&#160;<span class="keyword">static</span> <a class="code" href="stdint_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a> <a class="code" href="driver__super_8c.html#afd6a7ce3042412d75d326aa44a140d7c">DS_analyze_rx_buffer_get_framelength_</a>(<a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config)</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;{</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;  <a class="code" href="stdint_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a> len = 0;</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;  <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>  i;</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160; </div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;  <span class="keywordflow">for</span> (i = 0; i &lt; p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a14339f890773e061e1dc3fa862f7209d">rx_framelength_type_size_</a>; ++i)</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;  {</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;    <span class="keywordflow">if</span> (i == 0)</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    {</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;      len = p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a3728f3399352384324aa54908fd754da">rx_frame_</a>[p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a31002044fc5cd2187f7acc1918757829">rx_framelength_pos_</a>];</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;    }</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;    {</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;      len &lt;&lt;= 8;</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;      len |= p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a3728f3399352384324aa54908fd754da">rx_frame_</a>[p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a31002044fc5cd2187f7acc1918757829">rx_framelength_pos_</a> + i];</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;    }</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;  }</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160; </div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;  len += p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a4922751434c4921fae9cd169e3149839">rx_framelength_offset_</a>;</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;  <span class="keywordflow">return</span> len;</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;}</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160; </div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160; </div>
<div class="line"><a name="l01240"></a><span class="lineno"><a class="line" href="driver__super_8c.html#a8f518ac0c2785b0b5b3de8d226dc91b6"> 1240</a></span>&#160;<span class="keyword">static</span> <a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165">DS_ERR_CODE</a> <a class="code" href="driver__super_8c.html#a8f518ac0c2785b0b5b3de8d226dc91b6">DS_reset_stream_config_</a>(<a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config)</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;{</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a5c96aa29a909ab069dbe8fca13bbea9d">is_enabled_</a> = 0;</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#af966a780ca9b47f990656cb371f41a21">is_strict_frame_search_</a> = 0;</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160; </div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a3a0024f4119de8f5729edbeec97d1b02">general_cmd_tx_count_</a>               = 0;</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a10b16bacba530b45086e9c0d7592bb96">req_tlm_cmd_tx_count_</a>               = 0;</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#ad274f0933333c074d41c2283c848aa03">req_tlm_cmd_tx_count_after_last_tx_</a> = 0;</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#afd686e53ab568d5a50ae3ccb290c373d">rx_frame_fix_count_</a>                 = 0;</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160; </div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a86cb05402320b51e4c93c84cf309d666">general_cmd_tx_time_</a> = <a class="code" href="time__manager_8c.html#a9d04b4d9b622cbe5a90cf65e58b828bc">TMGR_get_master_clock</a>();</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a7a777551f855f5061a786ced785c21ba">req_tlm_cmd_tx_time_</a> = <a class="code" href="time__manager_8c.html#a9d04b4d9b622cbe5a90cf65e58b828bc">TMGR_get_master_clock</a>();</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#ae7553688939b3f6274b7a7606db46309">rx_frame_fix_time_</a>   = <a class="code" href="time__manager_8c.html#a9d04b4d9b622cbe5a90cf65e58b828bc">TMGR_get_master_clock</a>();</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160; </div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a959f25f6129be08b39ae0a7d6e41ce30">tx_frame_</a>       = NULL;</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a97c4871475db02474ed9e15972ece679">tx_frame_size_</a>  = 0;</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#ab151f14576e06599f6e24475cee9271e">rx_header_</a>      = NULL;</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#af745a25396635c55741e438c52efb94a">rx_header_size_</a> = 0;</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a5e803fe8c362d6810e84c6addd66c10d">rx_footer_</a>      = NULL;</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a84ca04a72cd7770fc4ec8d46e8a0771c">rx_footer_size_</a> = 0;</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a40aa4056e27652e4349d06b39538d4df">rx_frame_size_</a>  = 0;</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160; </div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a31002044fc5cd2187f7acc1918757829">rx_framelength_pos_</a>       = -1;</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a14339f890773e061e1dc3fa862f7209d">rx_framelength_type_size_</a> = 0;</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a4922751434c4921fae9cd169e3149839">rx_framelength_offset_</a>    = 0;</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160; </div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#ad439f0c7a881b330ce25240ffedb9ff4">data_analyzer_</a> = <a class="code" href="driver__super_8c.html#a17276ca37e76a016ddc12766fda7309f">DS_data_analyzer_dummy_</a>;</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a3f9e3efc57929a9d160a33e5a48848f5">ret_from_data_analyzer_</a> = <a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165a9a38fe6c4618e1519e0d218bac5d60c2">DS_ERR_CODE_OK</a>;</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160; </div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a2c8dc3e6f9272fef577298e205778962">should_monitor_for_tlm_disruption_</a> = 0;</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#ae9d29a3ec5276a02fea8c33b62a0f65e">time_threshold_for_tlm_disruption_</a> = 60 * 1000;      <span class="comment">// この値はよく考えること</span></div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160; </div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a9f03f387ca4cb3c92f74b2d22d388c81">is_validation_needed_for_send_</a> = 0;</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a03659e2304682a4e415c302ceaf9dc57">is_validation_needed_for_rec_</a>  = 0;</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160; </div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#ac921c9a2900af72cc2acfeb7966bc2e3">rx_frame_rec_len_</a> = 0;</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a48886a25a5e5aa4b58165cbd61eca6ba">rx_frame_head_pos_of_frame_candidate_</a> = 0;</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160; </div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;  memset(p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a3728f3399352384324aa54908fd754da">rx_frame_</a>,</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;         0x00,</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;         <span class="keyword">sizeof</span>(p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a3728f3399352384324aa54908fd754da">rx_frame_</a>));</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160; </div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#ad1995ad0637ebb96232767c3fc731e55">is_rx_buffer_carry_over_</a> = 0;</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a1f1f355089d571eac84c8993cf951fce">carry_over_buffer_size_</a> = 0;</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#ab74d224e45b3d70c6f787a5b6e740bd6">carry_over_buffer_next_pos_</a> = 0;</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;  memset(p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a7062764ae0bcc0674736b49238520ca6">rx_buffer_for_carry_over_</a>,</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;         0x00,</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;         <span class="keyword">sizeof</span>(p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a7062764ae0bcc0674736b49238520ca6">rx_buffer_for_carry_over_</a>));</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160; </div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;  <span class="comment">// DS_StreamSendStatus の初期化</span></div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a5c1ef5acd3c5f784e61840004a57657c">send_status_</a>.<a class="code" href="struct_d_s___stream_send_status.html#ad6661ec32aa7c036399075dacb633b3b">status_code</a>    = <a class="code" href="driver__super_8h.html#ae0e20317c0a0480f3e294e4383ff644aa505b5ee83b49b5607030fdf0d8802db7">DS_STREAM_SEND_STATUS_DISABLE</a>;</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a5c1ef5acd3c5f784e61840004a57657c">send_status_</a>.<a class="code" href="struct_d_s___stream_send_status.html#a5ad90db62d70cbc7ee7d28f9d3127b4f">ret_from_if_tx</a> = 0;</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160; </div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;  <span class="comment">// DS_StreamRecStatus の初期化</span></div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a633af7911182146b7a603ca2ea931203">rec_status_</a>.<a class="code" href="struct_d_s___stream_rec_status.html#a2feedb4d92df6adf23d4c9c331ce6c96">status_code</a>                  = <a class="code" href="driver__super_8h.html#a3f1d9e8a08d67a25845b0f48d19ccaa8af0cb8fbd4cd954d1b9aed805ceb54f40">DS_STREAM_REC_STATUS_DISABLE</a>;</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a633af7911182146b7a603ca2ea931203">rec_status_</a>.<a class="code" href="struct_d_s___stream_rec_status.html#a9962bac5b3ae9db6bd89750306bf0998">fixed_frame_len</a>              = 0;</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a633af7911182146b7a603ca2ea931203">rec_status_</a>.<a class="code" href="struct_d_s___stream_rec_status.html#aad4e28b3f8c697253eeb6a5938c23b8f">tlm_disruption_status</a>        = <a class="code" href="driver__super_8h.html#a4d856578726e06c124ae25b20f486454af3ebc4159b314816e7ad3559ed9be65b">DS_STREAM_TLM_DISRUPTION_STATUS_OK</a>;</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a633af7911182146b7a603ca2ea931203">rec_status_</a>.<a class="code" href="struct_d_s___stream_rec_status.html#a9082f15a82ab54b1ada1fcb76893982c">count_of_carry_over_failures</a> = 0;</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160; </div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165a9a38fe6c4618e1519e0d218bac5d60c2">DS_ERR_CODE_OK</a>;</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;}</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160; </div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160; </div>
<div class="line"><a name="l01303"></a><span class="lineno"><a class="line" href="driver__super_8c.html#ad1bdc8947460e5efe01f9970684d06dc"> 1303</a></span>&#160;<span class="keyword">static</span> <a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165">DS_ERR_CODE</a> <a class="code" href="driver__super_8c.html#ad1bdc8947460e5efe01f9970684d06dc">DS_validate_stream_config_</a>(<a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config)</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;{</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;  <span class="keywordflow">if</span> (!p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a5c96aa29a909ab069dbe8fca13bbea9d">is_enabled_</a>) <span class="keywordflow">return</span> <a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165a9a38fe6c4618e1519e0d218bac5d60c2">DS_ERR_CODE_OK</a>;</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160; </div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;  <span class="keywordflow">if</span> (p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a97c4871475db02474ed9e15972ece679">tx_frame_size_</a>  != 0 &amp;&amp; p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a959f25f6129be08b39ae0a7d6e41ce30">tx_frame_</a>  == NULL) <span class="keywordflow">return</span> <a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165a757cf24e5dd8eaaeb1e0554ad1a3203a">DS_ERR_CODE_ERR</a>;</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;  <span class="keywordflow">if</span> (p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#af745a25396635c55741e438c52efb94a">rx_header_size_</a> != 0 &amp;&amp; p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#ab151f14576e06599f6e24475cee9271e">rx_header_</a> == NULL) <span class="keywordflow">return</span> <a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165a757cf24e5dd8eaaeb1e0554ad1a3203a">DS_ERR_CODE_ERR</a>;</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;  <span class="keywordflow">if</span> (p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a84ca04a72cd7770fc4ec8d46e8a0771c">rx_footer_size_</a> != 0 &amp;&amp; p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a5e803fe8c362d6810e84c6addd66c10d">rx_footer_</a> == NULL) <span class="keywordflow">return</span> <a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165a757cf24e5dd8eaaeb1e0554ad1a3203a">DS_ERR_CODE_ERR</a>;</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160; </div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;  <span class="keywordflow">if</span> (p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a40aa4056e27652e4349d06b39538d4df">rx_frame_size_</a> &gt; <a class="code" href="driver__super_8h.html#aaf12a87484f81e9c2978d9e0f2861945">DS_RX_FRAME_SIZE_MAX</a>) <span class="keywordflow">return</span> <a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165a757cf24e5dd8eaaeb1e0554ad1a3203a">DS_ERR_CODE_ERR</a>;   <span class="comment">// [TODO] 現在はBigData未実装（詳細はヘッダファイル参照）のため，ここで弾く</span></div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160; </div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;  <span class="keywordflow">if</span> (p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a40aa4056e27652e4349d06b39538d4df">rx_frame_size_</a> &lt; 0)</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;  {</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;    <span class="comment">// テレメトリ可変長</span></div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;    <span class="keywordflow">if</span> (p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a31002044fc5cd2187f7acc1918757829">rx_framelength_pos_</a> &lt; 0)</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;    {</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;      <span class="comment">// フレームサイズデータがない場合</span></div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;      <span class="comment">// フッタの存在が必須</span></div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;      <span class="keywordflow">if</span> (p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a84ca04a72cd7770fc4ec8d46e8a0771c">rx_footer_size_</a> == 0) <span class="keywordflow">return</span> <a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165a757cf24e5dd8eaaeb1e0554ad1a3203a">DS_ERR_CODE_ERR</a>;</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;    }</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;    {</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;      <span class="keywordflow">if</span> (p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#af745a25396635c55741e438c52efb94a">rx_header_size_</a> == 0) <span class="keywordflow">return</span> <a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165a757cf24e5dd8eaaeb1e0554ad1a3203a">DS_ERR_CODE_ERR</a>;       <span class="comment">// 可変長かつヘッダなしは対応しない（固定長のようにして回避する．詳細はヘッダファイル参照）</span></div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;      <span class="keywordflow">if</span> (p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a31002044fc5cd2187f7acc1918757829">rx_framelength_pos_</a> &lt; p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#af745a25396635c55741e438c52efb94a">rx_header_size_</a>) <span class="keywordflow">return</span> <a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165a757cf24e5dd8eaaeb1e0554ad1a3203a">DS_ERR_CODE_ERR</a>;    <span class="comment">// フレームサイズがヘッダ（つまり固定値）に含まれることはありえないので</span></div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;      <span class="keywordflow">if</span> (!(p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a14339f890773e061e1dc3fa862f7209d">rx_framelength_type_size_</a> == 1 ||</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;            p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a14339f890773e061e1dc3fa862f7209d">rx_framelength_type_size_</a> == 2 ||</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;            p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a14339f890773e061e1dc3fa862f7209d">rx_framelength_type_size_</a> == 3 ||</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;            p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a14339f890773e061e1dc3fa862f7209d">rx_framelength_type_size_</a> == 4 )) <span class="keywordflow">return</span> <a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165a757cf24e5dd8eaaeb1e0554ad1a3203a">DS_ERR_CODE_ERR</a>;    <span class="comment">// 現在はuint8 to uint32のみ対応</span></div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;    }</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;  }</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a40aa4056e27652e4349d06b39538d4df">rx_frame_size_</a> == 0)</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;  {</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;    <span class="comment">// テレメなし</span></div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;  }</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;  {</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;    <span class="comment">// テレメトリ固定長</span></div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;    <span class="keywordflow">if</span> (p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a40aa4056e27652e4349d06b39538d4df">rx_frame_size_</a> &lt; (p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#af745a25396635c55741e438c52efb94a">rx_header_size_</a> + p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a84ca04a72cd7770fc4ec8d46e8a0771c">rx_footer_size_</a>)) <span class="keywordflow">return</span> <a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165a757cf24e5dd8eaaeb1e0554ad1a3203a">DS_ERR_CODE_ERR</a>;</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;  }</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160; </div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;  <span class="keywordflow">if</span> (p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#af966a780ca9b47f990656cb371f41a21">is_strict_frame_search_</a>)</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;  {</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;    <span class="comment">// ヘッダがあることが前提</span></div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;    <span class="keywordflow">if</span> (p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#af745a25396635c55741e438c52efb94a">rx_header_size_</a> == 0) <span class="keywordflow">return</span> <a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165a757cf24e5dd8eaaeb1e0554ad1a3203a">DS_ERR_CODE_ERR</a>;</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;  }</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160; </div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a9f03f387ca4cb3c92f74b2d22d388c81">is_validation_needed_for_send_</a> = 0;</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a03659e2304682a4e415c302ceaf9dc57">is_validation_needed_for_rec_</a> = 0;</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165a9a38fe6c4618e1519e0d218bac5d60c2">DS_ERR_CODE_OK</a>;</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;}</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160; </div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160; </div>
<div class="line"><a name="l01354"></a><span class="lineno"><a class="line" href="driver__super_8c.html#a8183efca88aff7a47cd50b16e83a66ca"> 1354</a></span>&#160;<span class="keyword">static</span> <a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165">DS_ERR_CODE</a> <a class="code" href="driver__super_8c.html#a8183efca88aff7a47cd50b16e83a66ca">DS_load_init_setting_dummy_</a>(<a class="code" href="struct_driver_super.html">DriverSuper</a>* p_super)</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;{</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;  (void)p_super;</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165a9a38fe6c4618e1519e0d218bac5d60c2">DS_ERR_CODE_OK</a>;</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;}</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160; </div>
<div class="line"><a name="l01360"></a><span class="lineno"><a class="line" href="driver__super_8c.html#a17276ca37e76a016ddc12766fda7309f"> 1360</a></span>&#160;<span class="keyword">static</span> <a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165">DS_ERR_CODE</a> <a class="code" href="driver__super_8c.html#a17276ca37e76a016ddc12766fda7309f">DS_data_analyzer_dummy_</a>(<a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config, <span class="keywordtype">void</span>* p_driver)</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;{</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;  (void)p_stream_config;</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;  (void)p_driver;</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165a9a38fe6c4618e1519e0d218bac5d60c2">DS_ERR_CODE_OK</a>;</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;}</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160; </div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160; </div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;<span class="comment">// ###### DS_Config Getter/Setter ######</span></div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;<span class="comment">// FIXME: HEWでWarningが出てしまう（gccではでない）ので，キャストしている関数がいくつかある</span></div>
<div class="line"><a name="l01370"></a><span class="lineno"><a class="line" href="driver__super_8h.html#a72d7c5f22e08787bde44ac833038716e"> 1370</a></span>&#160;<span class="keyword">const</span> <a class="code" href="struct_d_s___rec_status.html">DS_RecStatus</a>* <a class="code" href="driver__super_8c.html#a72d7c5f22e08787bde44ac833038716e">DSC_get_rec_status</a>(<span class="keyword">const</span> <a class="code" href="struct_driver_super.html">DriverSuper</a>* p_super)</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;{</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;  <span class="keywordflow">return</span> &amp;p_super-&gt;<a class="code" href="struct_driver_super.html#af62b09fc1a66536e8dcd5a29879782b0">config</a>.<a class="code" href="struct_d_s___config.html#a58d900a563f500804b18637e373fb1c6">rec_status_</a>;</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;}</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160; </div>
<div class="line"><a name="l01375"></a><span class="lineno"><a class="line" href="driver__super_8h.html#a2935f3dec3b15f656c2370358a5e4b24"> 1375</a></span>&#160;<a class="code" href="stdint_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a> <a class="code" href="driver__super_8c.html#a2935f3dec3b15f656c2370358a5e4b24">DSC_get_rx_count</a>(<span class="keyword">const</span> <a class="code" href="struct_driver_super.html">DriverSuper</a>* p_super)</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;{</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;  <span class="keywordflow">return</span> (<a class="code" href="stdint_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a>)p_super-&gt;<a class="code" href="struct_driver_super.html#af62b09fc1a66536e8dcd5a29879782b0">config</a>.<a class="code" href="struct_d_s___config.html#a7a70fd58861ceac15a5ec34396a71fb2">rx_count_</a>;</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;}</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160; </div>
<div class="line"><a name="l01380"></a><span class="lineno"><a class="line" href="driver__super_8h.html#a61709a2465a78070c5423b13a5dfe50d"> 1380</a></span>&#160;<a class="code" href="stdint_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a> <a class="code" href="driver__super_8c.html#a61709a2465a78070c5423b13a5dfe50d">DSC_get_rx_call_count</a>(<span class="keyword">const</span> <a class="code" href="struct_driver_super.html">DriverSuper</a>* p_super)</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;{</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;  <span class="keywordflow">return</span> (<a class="code" href="stdint_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a>)p_super-&gt;<a class="code" href="struct_driver_super.html#af62b09fc1a66536e8dcd5a29879782b0">config</a>.<a class="code" href="struct_d_s___config.html#a8851441bcec2964fac1fd60221989793">rx_call_count_</a>;</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;}</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160; </div>
<div class="line"><a name="l01385"></a><span class="lineno"><a class="line" href="driver__super_8h.html#ab1809071805e553b4eaa156cb5ae88bf"> 1385</a></span>&#160;<span class="keyword">const</span> <a class="code" href="struct_obc_time.html">ObcTime</a>* <a class="code" href="driver__super_8c.html#ab1809071805e553b4eaa156cb5ae88bf">DSC_get_rx_time</a>(<span class="keyword">const</span> <a class="code" href="struct_driver_super.html">DriverSuper</a>* p_super)</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;{</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;  <span class="keywordflow">return</span> &amp;p_super-&gt;<a class="code" href="struct_driver_super.html#af62b09fc1a66536e8dcd5a29879782b0">config</a>.<a class="code" href="struct_d_s___config.html#a24adf564678b3834c4b5532af372f279">rx_time_</a>;</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;}</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160; </div>
<div class="line"><a name="l01390"></a><span class="lineno"><a class="line" href="driver__super_8h.html#a429deb359eaf91169ce3139b900e45dc"> 1390</a></span>&#160;<a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="driver__super_8c.html#a429deb359eaf91169ce3139b900e45dc">DSC_get_should_monitor_for_rx_disruption</a>(<span class="keyword">const</span> <a class="code" href="struct_driver_super.html">DriverSuper</a>* p_super)</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;{</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;  <span class="keywordflow">return</span> (<a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>)p_super-&gt;<a class="code" href="struct_driver_super.html#af62b09fc1a66536e8dcd5a29879782b0">config</a>.<a class="code" href="struct_d_s___config.html#a0e6315f613f40d1debf8c3814f0a25c5">should_monitor_for_rx_disruption_</a>;</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;}</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160; </div>
<div class="line"><a name="l01395"></a><span class="lineno"><a class="line" href="driver__super_8h.html#a780674e26d489325b595bd44ebebb534"> 1395</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="driver__super_8c.html#a780674e26d489325b595bd44ebebb534">DSC_enable_monitor_for_rx_disruption</a>(<a class="code" href="struct_driver_super.html">DriverSuper</a>* p_super)</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;{</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;  p_super-&gt;<a class="code" href="struct_driver_super.html#af62b09fc1a66536e8dcd5a29879782b0">config</a>.<a class="code" href="struct_d_s___config.html#a0e6315f613f40d1debf8c3814f0a25c5">should_monitor_for_rx_disruption_</a> = 1;</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;}</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160; </div>
<div class="line"><a name="l01400"></a><span class="lineno"><a class="line" href="driver__super_8h.html#a2beeb61b4f6d70fa483ae5e9ef183039"> 1400</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="driver__super_8c.html#a2beeb61b4f6d70fa483ae5e9ef183039">DSC_disable_monitor_for_rx_disruption</a>(<a class="code" href="struct_driver_super.html">DriverSuper</a>* p_super)</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;{</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;  p_super-&gt;<a class="code" href="struct_driver_super.html#af62b09fc1a66536e8dcd5a29879782b0">config</a>.<a class="code" href="struct_d_s___config.html#a0e6315f613f40d1debf8c3814f0a25c5">should_monitor_for_rx_disruption_</a> = 0;</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;}</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160; </div>
<div class="line"><a name="l01405"></a><span class="lineno"><a class="line" href="driver__super_8h.html#a371eac960584ee33531b907f98468763"> 1405</a></span>&#160;<a class="code" href="stdint_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a> <a class="code" href="driver__super_8c.html#a371eac960584ee33531b907f98468763">DSC_get_time_threshold_for_rx_disruption</a>(<span class="keyword">const</span> <a class="code" href="struct_driver_super.html">DriverSuper</a>* p_super)</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;{</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;  <span class="keywordflow">return</span> (<a class="code" href="stdint_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a>)p_super-&gt;<a class="code" href="struct_driver_super.html#af62b09fc1a66536e8dcd5a29879782b0">config</a>.<a class="code" href="struct_d_s___config.html#a2688e515642a822ef0ca1de956043198">time_threshold_for_rx_disruption_</a>;</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;}</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160; </div>
<div class="line"><a name="l01410"></a><span class="lineno"><a class="line" href="driver__super_8h.html#af53a7d76627c39045f876a0e5b1225de"> 1410</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="driver__super_8c.html#af53a7d76627c39045f876a0e5b1225de">DSC_set_time_threshold_for_rx_disruption</a>(<a class="code" href="struct_driver_super.html">DriverSuper</a>* p_super,</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;                                              <span class="keyword">const</span> <a class="code" href="stdint_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a> time_threshold_for_rx_disruption)</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;{</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;  p_super-&gt;<a class="code" href="struct_driver_super.html#af62b09fc1a66536e8dcd5a29879782b0">config</a>.<a class="code" href="struct_d_s___config.html#a2688e515642a822ef0ca1de956043198">time_threshold_for_rx_disruption_</a> = time_threshold_for_rx_disruption;</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;}</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160; </div>
<div class="line"><a name="l01416"></a><span class="lineno"><a class="line" href="driver__super_8h.html#a82724ea030a11547a1931863628fae02"> 1416</a></span>&#160;<a class="code" href="driver__super_8h.html#ae2cc6e08ec5fab4997ba383ac7da05c7">DS_RX_DISRUPTION_STATUS_CODE</a> <a class="code" href="driver__super_8c.html#a82724ea030a11547a1931863628fae02">DSC_get_rx_disruption_status</a>(<span class="keyword">const</span> <a class="code" href="struct_driver_super.html">DriverSuper</a>* p_super)</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;{</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;  <span class="keywordflow">return</span> (<a class="code" href="driver__super_8h.html#ae2cc6e08ec5fab4997ba383ac7da05c7">DS_RX_DISRUPTION_STATUS_CODE</a>)p_super-&gt;<a class="code" href="struct_driver_super.html#af62b09fc1a66536e8dcd5a29879782b0">config</a>.<a class="code" href="struct_d_s___config.html#a58d900a563f500804b18637e373fb1c6">rec_status_</a>.<a class="code" href="struct_d_s___rec_status.html#a996122cbb61146f48db29acf13fbd9d1">rx_disruption_status</a>;</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;}</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160; </div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;<span class="comment">// ###### DS_StreamConfig Getter/Setter ######</span></div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;<span class="comment">// FIXME: HEWでWarningが出てしまう（gccではでない）ので，キャストしている関数がいくつかある</span></div>
<div class="line"><a name="l01423"></a><span class="lineno"><a class="line" href="driver__super_8c.html#a5d77012b9c7fe574718f680b603c98af"> 1423</a></span>&#160;<a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="driver__super_8c.html#a5d77012b9c7fe574718f680b603c98af">DSSC_get_is_enable</a>(<span class="keyword">const</span> <a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config)</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;{</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;  <span class="keywordflow">return</span> (<a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>)p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a5c96aa29a909ab069dbe8fca13bbea9d">is_enabled_</a>;</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;}</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160; </div>
<div class="line"><a name="l01428"></a><span class="lineno"><a class="line" href="driver__super_8h.html#af0c2601f37b24ce4a3bc94a525a80621"> 1428</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="driver__super_8c.html#af0c2601f37b24ce4a3bc94a525a80621">DSSC_enable</a>(<a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config)</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;{</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a5c96aa29a909ab069dbe8fca13bbea9d">is_enabled_</a> = 1;</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a9f03f387ca4cb3c92f74b2d22d388c81">is_validation_needed_for_send_</a> = 1;</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a03659e2304682a4e415c302ceaf9dc57">is_validation_needed_for_rec_</a> = 1;</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;}</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160; </div>
<div class="line"><a name="l01435"></a><span class="lineno"><a class="line" href="driver__super_8h.html#a10aff371a7e93a3ffcb1b13234d39932"> 1435</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="driver__super_8c.html#a10aff371a7e93a3ffcb1b13234d39932">DSSC_disable</a>(<a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config)</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;{</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a5c96aa29a909ab069dbe8fca13bbea9d">is_enabled_</a> = 0;</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;}</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160; </div>
<div class="line"><a name="l01440"></a><span class="lineno"><a class="line" href="driver__super_8h.html#a20f6e3e030aa25c35cae879b42b1c334"> 1440</a></span>&#160;<a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="driver__super_8c.html#a20f6e3e030aa25c35cae879b42b1c334">DSSC_get_is_strict_frame_search</a>(<span class="keyword">const</span> <a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config)</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;{</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;  <span class="keywordflow">return</span> (<a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>)p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#af966a780ca9b47f990656cb371f41a21">is_strict_frame_search_</a>;</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;}</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160; </div>
<div class="line"><a name="l01445"></a><span class="lineno"><a class="line" href="driver__super_8h.html#a093a693ceac26a42fe3157cae06259ac"> 1445</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="driver__super_8c.html#a093a693ceac26a42fe3157cae06259ac">DSSC_enable_strict_frame_search</a>(<a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config)</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;{</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#af966a780ca9b47f990656cb371f41a21">is_strict_frame_search_</a> = 1;</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a03659e2304682a4e415c302ceaf9dc57">is_validation_needed_for_rec_</a> = 1;</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;}</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160; </div>
<div class="line"><a name="l01451"></a><span class="lineno"><a class="line" href="driver__super_8h.html#adf69410baeeea144dde24592cc2b5e26"> 1451</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="driver__super_8c.html#adf69410baeeea144dde24592cc2b5e26">DSSC_disable_strict_frame_search</a>(<a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config)</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;{</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#af966a780ca9b47f990656cb371f41a21">is_strict_frame_search_</a> = 0;</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;}</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160; </div>
<div class="line"><a name="l01456"></a><span class="lineno"><a class="line" href="driver__super_8h.html#a327aa0dff1f26d84dd4afa489e3be155"> 1456</a></span>&#160;<span class="keyword">const</span> <a class="code" href="struct_d_s___stream_send_status.html">DS_StreamSendStatus</a>* <a class="code" href="driver__super_8c.html#a327aa0dff1f26d84dd4afa489e3be155">DSSC_get_send_status</a>(<span class="keyword">const</span> <a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config)</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;{</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;  <span class="keywordflow">return</span> &amp;p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a5c1ef5acd3c5f784e61840004a57657c">send_status_</a>;</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;}</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160; </div>
<div class="line"><a name="l01461"></a><span class="lineno"><a class="line" href="driver__super_8h.html#a5585e9e6e3293d17098598a4e88b0976"> 1461</a></span>&#160;<span class="keyword">const</span> <a class="code" href="struct_d_s___stream_rec_status.html">DS_StreamRecStatus</a>* <a class="code" href="driver__super_8c.html#a5585e9e6e3293d17098598a4e88b0976">DSSC_get_rec_status</a>(<span class="keyword">const</span> <a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config)</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;{</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;  <span class="keywordflow">return</span> &amp;p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a633af7911182146b7a603ca2ea931203">rec_status_</a>;</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;}</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160; </div>
<div class="line"><a name="l01466"></a><span class="lineno"><a class="line" href="driver__super_8h.html#a302d7f616a622253e4190a70d35489e7"> 1466</a></span>&#160;<a class="code" href="stdint_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a> <a class="code" href="driver__super_8c.html#a302d7f616a622253e4190a70d35489e7">DSSC_get_general_cmd_tx_count</a>(<span class="keyword">const</span> <a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config)</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;{</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;  <span class="keywordflow">return</span> (<a class="code" href="stdint_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a>)p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a3a0024f4119de8f5729edbeec97d1b02">general_cmd_tx_count_</a>;</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;}</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160; </div>
<div class="line"><a name="l01471"></a><span class="lineno"><a class="line" href="driver__super_8h.html#a4cb9380be51675ba6a6abe900f48566d"> 1471</a></span>&#160;<a class="code" href="stdint_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a> <a class="code" href="driver__super_8c.html#a4cb9380be51675ba6a6abe900f48566d">DSSC_get_req_tlm_cmd_tx_count</a>(<span class="keyword">const</span> <a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config)</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;{</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;  <span class="keywordflow">return</span> (<a class="code" href="stdint_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a>)p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a10b16bacba530b45086e9c0d7592bb96">req_tlm_cmd_tx_count_</a>;</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;}</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160; </div>
<div class="line"><a name="l01476"></a><span class="lineno"><a class="line" href="driver__super_8h.html#a21bb6461f41e5269a0c6bda2e9277166"> 1476</a></span>&#160;<a class="code" href="stdint_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a> <a class="code" href="driver__super_8c.html#a21bb6461f41e5269a0c6bda2e9277166">DSSC_get_req_tlm_cmd_tx_count_after_last_tx</a>(<span class="keyword">const</span> <a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config)</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;{</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;  <span class="keywordflow">return</span> (<a class="code" href="stdint_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a>)p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#ad274f0933333c074d41c2283c848aa03">req_tlm_cmd_tx_count_after_last_tx_</a>;</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;}</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160; </div>
<div class="line"><a name="l01481"></a><span class="lineno"><a class="line" href="driver__super_8h.html#a95fab9474dfa150c036bc7e72b5dccf2"> 1481</a></span>&#160;<a class="code" href="stdint_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a> <a class="code" href="driver__super_8c.html#a95fab9474dfa150c036bc7e72b5dccf2">DSSC_get_rx_frame_fix_count</a>(<span class="keyword">const</span> <a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config)</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;{</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;  <span class="keywordflow">return</span> (<a class="code" href="stdint_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a>)p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#afd686e53ab568d5a50ae3ccb290c373d">rx_frame_fix_count_</a>;</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;}</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160; </div>
<div class="line"><a name="l01486"></a><span class="lineno"><a class="line" href="driver__super_8h.html#adbbf8fa9fd2669c7ef2b34a25964527b"> 1486</a></span>&#160;<span class="keyword">const</span> <a class="code" href="struct_obc_time.html">ObcTime</a>* <a class="code" href="driver__super_8c.html#adbbf8fa9fd2669c7ef2b34a25964527b">DSSC_get_general_cmd_tx_time</a>(<span class="keyword">const</span> <a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config)</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;{</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;  <span class="keywordflow">return</span> &amp;p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a86cb05402320b51e4c93c84cf309d666">general_cmd_tx_time_</a>;</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;}</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160; </div>
<div class="line"><a name="l01491"></a><span class="lineno"><a class="line" href="driver__super_8h.html#a3551be7855d004edfb92ac6a51efb03f"> 1491</a></span>&#160;<span class="keyword">const</span> <a class="code" href="struct_obc_time.html">ObcTime</a>* <a class="code" href="driver__super_8c.html#a3551be7855d004edfb92ac6a51efb03f">DSSC_get_req_tlm_cmd_tx_time</a>(<span class="keyword">const</span> <a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config)</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;{</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;  <span class="keywordflow">return</span> &amp;p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a7a777551f855f5061a786ced785c21ba">req_tlm_cmd_tx_time_</a>;</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;}</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160; </div>
<div class="line"><a name="l01496"></a><span class="lineno"><a class="line" href="driver__super_8h.html#a95fe4e85c5c2e4eebab7aa701bd924e7"> 1496</a></span>&#160;<span class="keyword">const</span> <a class="code" href="struct_obc_time.html">ObcTime</a>* <a class="code" href="driver__super_8c.html#a95fe4e85c5c2e4eebab7aa701bd924e7">DSSC_get_rx_frame_fix_time</a>(<span class="keyword">const</span> <a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config)</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;{</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;  <span class="keywordflow">return</span> &amp;p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#ae7553688939b3f6274b7a7606db46309">rx_frame_fix_time_</a>;</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;}</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160; </div>
<div class="line"><a name="l01501"></a><span class="lineno"><a class="line" href="driver__super_8h.html#a42c80644b6772ae2596e20b75804c0c3"> 1501</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="driver__super_8c.html#a42c80644b6772ae2596e20b75804c0c3">DSSC_set_tx_frame</a>(<a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config,</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;                       <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>* tx_frame)</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;{</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a959f25f6129be08b39ae0a7d6e41ce30">tx_frame_</a> = tx_frame;</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a9f03f387ca4cb3c92f74b2d22d388c81">is_validation_needed_for_send_</a> = 1;</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;}</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160; </div>
<div class="line"><a name="l01508"></a><span class="lineno"><a class="line" href="driver__super_8h.html#a9907f5844f74f6b8218993911bdc2735"> 1508</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="driver__super_8c.html#a9907f5844f74f6b8218993911bdc2735">DSSC_set_tx_frame_size</a>(<a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config,</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;                            <span class="keyword">const</span> <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> tx_frame_size)</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;{</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a97c4871475db02474ed9e15972ece679">tx_frame_size_</a> = tx_frame_size;</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a9f03f387ca4cb3c92f74b2d22d388c81">is_validation_needed_for_send_</a> = 1;</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;}</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160; </div>
<div class="line"><a name="l01515"></a><span class="lineno"><a class="line" href="driver__super_8h.html#ae68cf3bbca9e71841b4bc8b224ab10bc"> 1515</a></span>&#160;<a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> <a class="code" href="driver__super_8c.html#ae68cf3bbca9e71841b4bc8b224ab10bc">DSSC_get_tx_frame_size</a>(<span class="keyword">const</span> <a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config)</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;{</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;  <span class="keywordflow">return</span> (<a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a>)p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a97c4871475db02474ed9e15972ece679">tx_frame_size_</a>;</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;}</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160; </div>
<div class="line"><a name="l01520"></a><span class="lineno"><a class="line" href="driver__super_8h.html#adf1f7d5bc6090bf72962786be28d0b9d"> 1520</a></span>&#160;<span class="keyword">const</span> <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>* <a class="code" href="driver__super_8c.html#adf1f7d5bc6090bf72962786be28d0b9d">DSSC_get_rx_frame</a>(<span class="keyword">const</span> <a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config)</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;{</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;  <span class="keywordflow">return</span> p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a3728f3399352384324aa54908fd754da">rx_frame_</a>;</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;}</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160; </div>
<div class="line"><a name="l01525"></a><span class="lineno"><a class="line" href="driver__super_8h.html#ac08f8c480a922624b49921ed953f71be"> 1525</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="driver__super_8c.html#ac08f8c480a922624b49921ed953f71be">DSSC_set_rx_header</a>(<a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config,</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;                        <span class="keyword">const</span> <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>* rx_header,</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;                        <span class="keyword">const</span> <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> rx_header_size)</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;{</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#ab151f14576e06599f6e24475cee9271e">rx_header_</a> = rx_header;</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#af745a25396635c55741e438c52efb94a">rx_header_size_</a> = rx_header_size;</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a03659e2304682a4e415c302ceaf9dc57">is_validation_needed_for_rec_</a> = 1;</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;}</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160; </div>
<div class="line"><a name="l01534"></a><span class="lineno"><a class="line" href="driver__super_8h.html#afd7b10a3cb250e03d1ace11c9f5d8b5b"> 1534</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="driver__super_8c.html#afd7b10a3cb250e03d1ace11c9f5d8b5b">DSSC_set_rx_footer</a>(<a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config,</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;                        <span class="keyword">const</span> <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>* rx_footer,</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;                        <span class="keyword">const</span> <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> rx_footer_size)</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;{</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a5e803fe8c362d6810e84c6addd66c10d">rx_footer_</a> = rx_footer;</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a84ca04a72cd7770fc4ec8d46e8a0771c">rx_footer_size_</a> = rx_footer_size;</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a03659e2304682a4e415c302ceaf9dc57">is_validation_needed_for_rec_</a> = 1;</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;}</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160; </div>
<div class="line"><a name="l01543"></a><span class="lineno"><a class="line" href="driver__super_8h.html#a257d3e5ef0b2a07401bc30641d50b69a"> 1543</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="driver__super_8c.html#a257d3e5ef0b2a07401bc30641d50b69a">DSSC_set_rx_frame_size</a>(<a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config,</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;                            <span class="keyword">const</span> <a class="code" href="stdint_8h.html#a269259c924dce846340ddbb810db2e3c">int16_t</a> rx_frame_size)</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;{</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a40aa4056e27652e4349d06b39538d4df">rx_frame_size_</a> = rx_frame_size;</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a03659e2304682a4e415c302ceaf9dc57">is_validation_needed_for_rec_</a> = 1;</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;}</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160; </div>
<div class="line"><a name="l01550"></a><span class="lineno"><a class="line" href="driver__super_8h.html#a6209c50e2c2a9b208c83918546afa46a"> 1550</a></span>&#160;<a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> <a class="code" href="driver__super_8c.html#a6209c50e2c2a9b208c83918546afa46a">DSSC_get_rx_header_size</a>(<span class="keyword">const</span> <a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config)</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;{</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;  <span class="keywordflow">return</span> (<a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a>)p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#af745a25396635c55741e438c52efb94a">rx_header_size_</a>;</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;}</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160; </div>
<div class="line"><a name="l01555"></a><span class="lineno"><a class="line" href="driver__super_8h.html#a5e24e851562dc9e39b3053dc7adac62f"> 1555</a></span>&#160;<a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> <a class="code" href="driver__super_8c.html#a5e24e851562dc9e39b3053dc7adac62f">DSSC_get_rx_footer_size</a>(<span class="keyword">const</span> <a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config)</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;{</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;  <span class="keywordflow">return</span> (<a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a>)p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a84ca04a72cd7770fc4ec8d46e8a0771c">rx_footer_size_</a>;</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;}</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160; </div>
<div class="line"><a name="l01560"></a><span class="lineno"><a class="line" href="driver__super_8h.html#abde54034c6071e6c25fc5790d5a52ef0"> 1560</a></span>&#160;<a class="code" href="stdint_8h.html#a269259c924dce846340ddbb810db2e3c">int16_t</a> <a class="code" href="driver__super_8c.html#abde54034c6071e6c25fc5790d5a52ef0">DSSC_get_rx_frame_size</a>(<span class="keyword">const</span> <a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config)</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;{</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;  <span class="keywordflow">return</span> (<a class="code" href="stdint_8h.html#a269259c924dce846340ddbb810db2e3c">int16_t</a>)p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a40aa4056e27652e4349d06b39538d4df">rx_frame_size_</a>;</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;}</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160; </div>
<div class="line"><a name="l01565"></a><span class="lineno"><a class="line" href="driver__super_8h.html#af10516ffc854cff7493ca94b1f980c78"> 1565</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="driver__super_8c.html#af10516ffc854cff7493ca94b1f980c78">DSSC_set_rx_framelength_pos</a>(<a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config,</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;                                 <span class="keyword">const</span> <a class="code" href="stdint_8h.html#a269259c924dce846340ddbb810db2e3c">int16_t</a> rx_framelength_pos)</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;{</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a31002044fc5cd2187f7acc1918757829">rx_framelength_pos_</a> = rx_framelength_pos;</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a03659e2304682a4e415c302ceaf9dc57">is_validation_needed_for_rec_</a> = 1;</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;}</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160; </div>
<div class="line"><a name="l01572"></a><span class="lineno"><a class="line" href="driver__super_8h.html#a2791854c5a460d3970eff9f6c9d5c862"> 1572</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="driver__super_8c.html#a2791854c5a460d3970eff9f6c9d5c862">DSSC_set_rx_framelength_type_size</a>(<a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config,</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;                                       <span class="keyword">const</span> <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> rx_framelength_type_size)</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;{</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a14339f890773e061e1dc3fa862f7209d">rx_framelength_type_size_</a> = rx_framelength_type_size;</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a03659e2304682a4e415c302ceaf9dc57">is_validation_needed_for_rec_</a> = 1;</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;}</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160; </div>
<div class="line"><a name="l01579"></a><span class="lineno"><a class="line" href="driver__super_8h.html#a9869582a20b5ae6e1d3014a3ced86e56"> 1579</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="driver__super_8c.html#a9869582a20b5ae6e1d3014a3ced86e56">DSSC_set_rx_framelength_offset</a>(<a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config,</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> rx_framelength_offset)</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;{</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a4922751434c4921fae9cd169e3149839">rx_framelength_offset_</a> = rx_framelength_offset;</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a03659e2304682a4e415c302ceaf9dc57">is_validation_needed_for_rec_</a> = 1;</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;}</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160; </div>
<div class="line"><a name="l01586"></a><span class="lineno"><a class="line" href="driver__super_8h.html#a4f3710a7420c787a611a22095904cb63"> 1586</a></span>&#160;<a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="driver__super_8c.html#a4f3710a7420c787a611a22095904cb63">DSSC_get_should_monitor_for_tlm_disruption</a>(<span class="keyword">const</span> <a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config)</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;{</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;  <span class="keywordflow">return</span> (<a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>)p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a2c8dc3e6f9272fef577298e205778962">should_monitor_for_tlm_disruption_</a>;</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;}</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160; </div>
<div class="line"><a name="l01591"></a><span class="lineno"><a class="line" href="driver__super_8h.html#ac142b598415fe82a02dd65e94a499a0a"> 1591</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="driver__super_8c.html#ac142b598415fe82a02dd65e94a499a0a">DSSC_enable_monitor_for_tlm_disruption</a>(<a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config)</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;{</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a2c8dc3e6f9272fef577298e205778962">should_monitor_for_tlm_disruption_</a> = 1;</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a03659e2304682a4e415c302ceaf9dc57">is_validation_needed_for_rec_</a> = 1;</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;}</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160; </div>
<div class="line"><a name="l01597"></a><span class="lineno"><a class="line" href="driver__super_8h.html#a982efd45001251fe9bcf1a461ba4db26"> 1597</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="driver__super_8c.html#a982efd45001251fe9bcf1a461ba4db26">DSSC_disable_monitor_for_tlm_disruption</a>(<a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config)</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;{</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a2c8dc3e6f9272fef577298e205778962">should_monitor_for_tlm_disruption_</a> = 0;</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a03659e2304682a4e415c302ceaf9dc57">is_validation_needed_for_rec_</a> = 1;</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;}</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160; </div>
<div class="line"><a name="l01603"></a><span class="lineno"><a class="line" href="driver__super_8h.html#a82e069be2847e2915145ada48de94d94"> 1603</a></span>&#160;<a class="code" href="stdint_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a> <a class="code" href="driver__super_8c.html#a82e069be2847e2915145ada48de94d94">DSSC_get_time_threshold_for_tlm_disruption</a>(<span class="keyword">const</span> <a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config)</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;{</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;  <span class="keywordflow">return</span> (<a class="code" href="stdint_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a>)p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#ae9d29a3ec5276a02fea8c33b62a0f65e">time_threshold_for_tlm_disruption_</a>;</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;}</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160; </div>
<div class="line"><a name="l01608"></a><span class="lineno"><a class="line" href="driver__super_8h.html#a509e0b3b7ef883f35c3eac38ed397758"> 1608</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="driver__super_8c.html#a509e0b3b7ef883f35c3eac38ed397758">DSSC_set_time_threshold_for_tlm_disruption</a>(<a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config,</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;                                                <span class="keyword">const</span> <a class="code" href="stdint_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a> time_threshold_for_tlm_disruption)</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;{</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#ae9d29a3ec5276a02fea8c33b62a0f65e">time_threshold_for_tlm_disruption_</a> = time_threshold_for_tlm_disruption;</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a03659e2304682a4e415c302ceaf9dc57">is_validation_needed_for_rec_</a> = 1;</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;}</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160; </div>
<div class="line"><a name="l01615"></a><span class="lineno"><a class="line" href="driver__super_8h.html#a3c3d7f8cb03c596e81145f3395f68757"> 1615</a></span>&#160;<a class="code" href="driver__super_8h.html#a4d856578726e06c124ae25b20f486454">DS_STREAM_TLM_DISRUPTION_STATUS_CODE</a> <a class="code" href="driver__super_8c.html#a3c3d7f8cb03c596e81145f3395f68757">DSSC_get_tlm_disruption_status</a>(<span class="keyword">const</span> <a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config)</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;{</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;  <span class="keywordflow">return</span> (<a class="code" href="driver__super_8h.html#a4d856578726e06c124ae25b20f486454">DS_STREAM_TLM_DISRUPTION_STATUS_CODE</a>)p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a633af7911182146b7a603ca2ea931203">rec_status_</a>.<a class="code" href="struct_d_s___stream_rec_status.html#aad4e28b3f8c697253eeb6a5938c23b8f">tlm_disruption_status</a>;</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;}</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160; </div>
<div class="line"><a name="l01620"></a><span class="lineno"><a class="line" href="driver__super_8h.html#ad65037ea9639ef7c8ade47c1c54bbf2e"> 1620</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="driver__super_8c.html#ad65037ea9639ef7c8ade47c1c54bbf2e">DSSC_set_data_analyzer</a>(<a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config,</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;                            <a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165">DS_ERR_CODE</a> (*data_analyzer)(<a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config, <span class="keywordtype">void</span>* p_driver))</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;{</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#ad439f0c7a881b330ce25240ffedb9ff4">data_analyzer_</a> = data_analyzer;</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;  p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a03659e2304682a4e415c302ceaf9dc57">is_validation_needed_for_rec_</a> = 1;</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;}</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160; </div>
<div class="line"><a name="l01627"></a><span class="lineno"><a class="line" href="driver__super_8h.html#a92f1f512f47189fe8a6dddb660fc97fc"> 1627</a></span>&#160;<a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165">DS_ERR_CODE</a> <a class="code" href="driver__super_8c.html#a92f1f512f47189fe8a6dddb660fc97fc">DSSC_get_ret_from_data_analyzer</a>(<span class="keyword">const</span> <a class="code" href="struct_d_s___stream_config.html">DS_StreamConfig</a>* p_stream_config)</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;{</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;  <span class="keywordflow">return</span> (<a class="code" href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165">DS_ERR_CODE</a>)p_stream_config-&gt;<a class="code" href="struct_d_s___stream_config.html#a3f9e3efc57929a9d160a33e5a48848f5">ret_from_data_analyzer_</a>;</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;}</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160; </div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160; </div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;<span class="comment">// ###### Driver汎用Util関数 ######</span></div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160; </div>
<div class="line"><a name="l01635"></a><span class="lineno"><a class="line" href="driver__super_8h.html#a34426aaa9d1fa2c65acba3997f07f3ad"> 1635</a></span>&#160;<a class="code" href="common__cmd__packet_8h.html#a5819361d7f600a9e471467b328b8714b">CCP_EXEC_STS</a> <a class="code" href="driver__super_8c.html#a34426aaa9d1fa2c65acba3997f07f3ad">DS_conv_driver_err_to_ccp_exec_sts</a>(<a class="code" href="driver__super_8h.html#a8f1715418b65ccb642fc9ea570aaa76a">DS_DRIVER_ERR_CODE</a> code)</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;{</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;  <span class="keywordflow">switch</span> (code)</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;  {</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="driver__super_8h.html#a8f1715418b65ccb642fc9ea570aaa76aa4783518ba98ab9858c9b8916ba3d6c6b">DS_DRIVER_ERR_CODE_ILLEGAL_CONTEXT</a>:</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="driver__super_8h.html#a8f1715418b65ccb642fc9ea570aaa76aac46182cdffefd8aa7e1ef83702ce1427">DS_DRIVER_ERR_CODE_UNKNOWN_ERR</a>:</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;    <span class="comment">// 全てこれでいいのかは，要検討</span></div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="common__cmd__packet_8h.html#a5819361d7f600a9e471467b328b8714bac123b0c2d64d5cb071015562f0aac418">CCP_EXEC_ILLEGAL_CONTEXT</a>;</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="driver__super_8h.html#a8f1715418b65ccb642fc9ea570aaa76aa0e551656453f3dd294882bd6fe780be0">DS_DRIVER_ERR_CODE_ILLEGAL_PARAMETER</a>:</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="common__cmd__packet_8h.html#a5819361d7f600a9e471467b328b8714ba4b94d1766aadbf48ade81516ef274ff0">CCP_EXEC_ILLEGAL_PARAMETER</a>;</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="driver__super_8h.html#a8f1715418b65ccb642fc9ea570aaa76aa123cb74e7f8175b893f898bc40f0ff26">DS_DRIVER_ERR_CODE_ILLEGAL_LENGTH</a>:</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="common__cmd__packet_8h.html#a5819361d7f600a9e471467b328b8714ba226fcd829290a469fd5a33a84736224a">CCP_EXEC_ILLEGAL_LENGTH</a>;</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;    <span class="comment">// ここに来るのは以下</span></div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;    <span class="comment">// DS_DRIVER_ERR_CODE_OK</span></div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="common__cmd__packet_8h.html#a5819361d7f600a9e471467b328b8714ba193109df48e98ea2e51df0f7ac1b7d11">CCP_EXEC_SUCCESS</a>;</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;  }</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;}</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160; </div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160; </div>
<div class="line"><a name="l01655"></a><span class="lineno"><a class="line" href="driver__super_8h.html#a9e96a9d0e22e3931356c2b51aff32d43"> 1655</a></span>&#160;<a class="code" href="common__cmd__packet_8h.html#a5819361d7f600a9e471467b328b8714b">CCP_EXEC_STS</a> <a class="code" href="driver__super_8c.html#a9e96a9d0e22e3931356c2b51aff32d43">DS_conv_cmd_err_to_ccp_exec_sts</a>(<a class="code" href="driver__super_8h.html#a81f032590771b0c11b9190ad7004cd6b">DS_CMD_ERR_CODE</a> code)</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;{</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;  <span class="keywordflow">switch</span> (code)</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;  {</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="driver__super_8h.html#a81f032590771b0c11b9190ad7004cd6badeb4df4fb67702ea033f54b2a96acdbd">DS_CMD_ILLEGAL_CONTEXT</a>:</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="common__cmd__packet_8h.html#a5819361d7f600a9e471467b328b8714bac123b0c2d64d5cb071015562f0aac418">CCP_EXEC_ILLEGAL_CONTEXT</a>;</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="driver__super_8h.html#a81f032590771b0c11b9190ad7004cd6ba309dc2c9955bedbc39f7418cbe213a61">DS_CMD_ILLEGAL_PARAMETER</a>:</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="common__cmd__packet_8h.html#a5819361d7f600a9e471467b328b8714ba4b94d1766aadbf48ade81516ef274ff0">CCP_EXEC_ILLEGAL_PARAMETER</a>;</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="driver__super_8h.html#a81f032590771b0c11b9190ad7004cd6ba58ec877a6d91b463549b642de5fbcb75">DS_CMD_ILLEGAL_LENGTH</a>:</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="common__cmd__packet_8h.html#a5819361d7f600a9e471467b328b8714ba226fcd829290a469fd5a33a84736224a">CCP_EXEC_ILLEGAL_LENGTH</a>;</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;    <span class="comment">// ここに来るのは以下の３つ</span></div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;    <span class="comment">// DS_CMD_OK</span></div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;    <span class="comment">// DS_CMD_DRIVER_SUPER_ERR</span></div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;    <span class="comment">// DS_CMD_UNKNOWN_ERR</span></div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;    <span class="comment">// 下２つのエラーはDriver側の問題で，そちらでエラー情報を持つべき</span></div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;    <span class="comment">// ここでは SUCCESSを返す</span></div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="common__cmd__packet_8h.html#a5819361d7f600a9e471467b328b8714ba193109df48e98ea2e51df0f7ac1b7d11">CCP_EXEC_SUCCESS</a>;</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;  }</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;}</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160; </div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;<span class="preprocessor">#pragma section</span></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="astruct_d_s___config_html_a8851441bcec2964fac1fd60221989793"><div class="ttname"><a href="struct_d_s___config.html#a8851441bcec2964fac1fd60221989793">DS_Config::rx_call_count_</a></div><div class="ttdeci">uint32_t rx_call_count_</div><div class="ttdoc">DS_receive 呼び出し回数</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00228">driver_super.h:228</a></div></div>
<div class="ttc" id="adriver__super_8c_html_a842941ac8ad9d371e21b973188a50c37"><div class="ttname"><a href="driver__super_8c.html#a842941ac8ad9d371e21b973188a50c37">DS_send_cmd_</a></div><div class="ttdeci">static DS_ERR_CODE DS_send_cmd_(DriverSuper *p_super, uint8_t stream)</div><div class="ttdoc">コマンド送信処理</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l00356">driver_super.c:356</a></div></div>
<div class="ttc" id="astruct_d_s___stream_rec_status_html_a9962bac5b3ae9db6bd89750306bf0998"><div class="ttname"><a href="struct_d_s___stream_rec_status.html#a9962bac5b3ae9db6bd89750306bf0998">DS_StreamRecStatus::fixed_frame_len</a></div><div class="ttdeci">uint16_t fixed_frame_len</div><div class="ttdoc">フレーム確定したときのフレーム長さ</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00208">driver_super.h:208</a></div></div>
<div class="ttc" id="astruct_d_s___stream_config_html_a959f25f6129be08b39ae0a7d6e41ce30"><div class="ttname"><a href="struct_d_s___stream_config.html#a959f25f6129be08b39ae0a7d6e41ce30">DS_StreamConfig::tx_frame_</a></div><div class="ttdeci">uint8_t * tx_frame_</div><div class="ttdoc">コマンドフレーム</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00281">driver_super.h:281</a></div></div>
<div class="ttc" id="astdint_8h_html_a2ba621978a511250f7250fb10e05ffbe"><div class="ttname"><a href="stdint_8h.html#a2ba621978a511250f7250fb10e05ffbe">int32_t</a></div><div class="ttdeci">signed long int32_t</div><div class="ttdef"><b>Definition:</b> <a href="stdint_8h_source.html#l00015">stdint.h:15</a></div></div>
<div class="ttc" id="adriver__super_8c_html_a6209c50e2c2a9b208c83918546afa46a"><div class="ttname"><a href="driver__super_8c.html#a6209c50e2c2a9b208c83918546afa46a">DSSC_get_rx_header_size</a></div><div class="ttdeci">uint16_t DSSC_get_rx_header_size(const DS_StreamConfig *p_stream_config)</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l01550">driver_super.c:1550</a></div></div>
<div class="ttc" id="adriver__super_8c_html_af53a7d76627c39045f876a0e5b1225de"><div class="ttname"><a href="driver__super_8c.html#af53a7d76627c39045f876a0e5b1225de">DSC_set_time_threshold_for_rx_disruption</a></div><div class="ttdeci">void DSC_set_time_threshold_for_rx_disruption(DriverSuper *p_super, const uint32_t time_threshold_for_rx_disruption)</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l01410">driver_super.c:1410</a></div></div>
<div class="ttc" id="astruct_driver_super_html_af62b09fc1a66536e8dcd5a29879782b0"><div class="ttname"><a href="struct_driver_super.html#af62b09fc1a66536e8dcd5a29879782b0">DriverSuper::config</a></div><div class="ttdeci">DS_Config config</div><div class="ttdoc">DriverSuperの設定</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00360">driver_super.h:360</a></div></div>
<div class="ttc" id="astdint_8h_html_aba7bc1797add20fe3efdf37ced1182c5"><div class="ttname"><a href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a></div><div class="ttdeci">unsigned char uint8_t</div><div class="ttdef"><b>Definition:</b> <a href="stdint_8h_source.html#l00018">stdint.h:18</a></div></div>
<div class="ttc" id="adriver__super_8c_html_a315021431cc376fea12509fd0962e0cc"><div class="ttname"><a href="driver__super_8c.html#a315021431cc376fea12509fd0962e0cc">DS_analyze_rx_buffer_carry_over_buffer_</a></div><div class="ttdeci">static void DS_analyze_rx_buffer_carry_over_buffer_(DS_StreamConfig *p_stream_config, uint8_t *rx_buffer, uint16_t total_processed_data_len, uint16_t rec_data_len)</div><div class="ttdoc">フレーム解析関数後のデータ繰越関数</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l00624">driver_super.c:624</a></div></div>
<div class="ttc" id="astruct_d_s___stream_config_html_ae9d29a3ec5276a02fea8c33b62a0f65e"><div class="ttname"><a href="struct_d_s___stream_config.html#ae9d29a3ec5276a02fea8c33b62a0f65e">DS_StreamConfig::time_threshold_for_tlm_disruption_</a></div><div class="ttdeci">uint32_t time_threshold_for_tlm_disruption_</div><div class="ttdoc">テレメ途絶判定の閾値 [ms]</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00322">driver_super.h:322</a></div></div>
<div class="ttc" id="adriver__super_8c_html_a982efd45001251fe9bcf1a461ba4db26"><div class="ttname"><a href="driver__super_8c.html#a982efd45001251fe9bcf1a461ba4db26">DSSC_disable_monitor_for_tlm_disruption</a></div><div class="ttdeci">void DSSC_disable_monitor_for_tlm_disruption(DS_StreamConfig *p_stream_config)</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l01597">driver_super.c:1597</a></div></div>
<div class="ttc" id="adriver__super_8c_html_a3551be7855d004edfb92ac6a51efb03f"><div class="ttname"><a href="driver__super_8c.html#a3551be7855d004edfb92ac6a51efb03f">DSSC_get_req_tlm_cmd_tx_time</a></div><div class="ttdeci">const ObcTime * DSSC_get_req_tlm_cmd_tx_time(const DS_StreamConfig *p_stream_config)</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l01491">driver_super.c:1491</a></div></div>
<div class="ttc" id="adriver__super_8c_html_a3d6d6c60302ac1a8f96666f4fed34f7d"><div class="ttname"><a href="driver__super_8c.html#a3d6d6c60302ac1a8f96666f4fed34f7d">DS_analyze_rx_buffer_receiving_header_</a></div><div class="ttdeci">static uint16_t DS_analyze_rx_buffer_receiving_header_(DS_StreamConfig *p_stream_config, uint8_t *rx_buffer, uint16_t total_processed_data_len)</div><div class="ttdoc">フレーム解析関数（ヘッダ受信中）</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l01105">driver_super.c:1105</a></div></div>
<div class="ttc" id="adriver__super_8h_html_a3f1d9e8a08d67a25845b0f48d19ccaa8a34b4e9e6f0c1085f65e46526fa9d1648"><div class="ttname"><a href="driver__super_8h.html#a3f1d9e8a08d67a25845b0f48d19ccaa8a34b4e9e6f0c1085f65e46526fa9d1648">DS_STREAM_REC_STATUS_RECEIVING_FOOTER</a></div><div class="ttdeci">@ DS_STREAM_REC_STATUS_RECEIVING_FOOTER</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00176">driver_super.h:176</a></div></div>
<div class="ttc" id="adriver__super_8c_html_a8f518ac0c2785b0b5b3de8d226dc91b6"><div class="ttname"><a href="driver__super_8c.html#a8f518ac0c2785b0b5b3de8d226dc91b6">DS_reset_stream_config_</a></div><div class="ttdeci">static DS_ERR_CODE DS_reset_stream_config_(DS_StreamConfig *p_stream_config)</div><div class="ttdoc">DS_StreamConfig構造体の初期化</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l01240">driver_super.c:1240</a></div></div>
<div class="ttc" id="astruct_d_s___stream_config_html_a633af7911182146b7a603ca2ea931203"><div class="ttname"><a href="struct_d_s___stream_config.html#a633af7911182146b7a603ca2ea931203">DS_StreamConfig::rec_status_</a></div><div class="ttdeci">DS_StreamRecStatus rec_status_</div><div class="ttdoc">フレーム受信状況</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00269">driver_super.h:269</a></div></div>
<div class="ttc" id="adriver__super_8h_html_a3f1d9e8a08d67a25845b0f48d19ccaa8a25851f8a41f5dcabdd130e0bcaa1bf4e"><div class="ttname"><a href="driver__super_8h.html#a3f1d9e8a08d67a25845b0f48d19ccaa8a25851f8a41f5dcabdd130e0bcaa1bf4e">DS_STREAM_REC_STATUS_FINDING_HEADER</a></div><div class="ttdeci">@ DS_STREAM_REC_STATUS_FINDING_HEADER</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00172">driver_super.h:172</a></div></div>
<div class="ttc" id="adriver__super_8h_html_a3f1d9e8a08d67a25845b0f48d19ccaa8a11fdc22f16953d052a1be1ea31f55daf"><div class="ttname"><a href="driver__super_8h.html#a3f1d9e8a08d67a25845b0f48d19ccaa8a11fdc22f16953d052a1be1ea31f55daf">DS_STREAM_REC_STATUS_RX_ERR</a></div><div class="ttdeci">@ DS_STREAM_REC_STATUS_RX_ERR</div><div class="ttdoc">IF_RX でエラー</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00183">driver_super.h:183</a></div></div>
<div class="ttc" id="adriver__super_8h_html_ae2cc6e08ec5fab4997ba383ac7da05c7af457cbb2cdac79661ce6dffe444a35a8"><div class="ttname"><a href="driver__super_8h.html#ae2cc6e08ec5fab4997ba383ac7da05c7af457cbb2cdac79661ce6dffe444a35a8">DS_RX_DISRUPTION_STATUS_OK</a></div><div class="ttdeci">@ DS_RX_DISRUPTION_STATUS_OK</div><div class="ttdoc">受信途絶していない or 受信途絶判定をしない状態</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00122">driver_super.h:122</a></div></div>
<div class="ttc" id="adriver__super_8h_html_a3f1d9e8a08d67a25845b0f48d19ccaa8a1a0962bc0df9659cd02ac56d3af20254"><div class="ttname"><a href="driver__super_8h.html#a3f1d9e8a08d67a25845b0f48d19ccaa8a1a0962bc0df9659cd02ac56d3af20254">DS_STREAM_REC_STATUS_RX_FRAME_TOO_SHORT</a></div><div class="ttdeci">@ DS_STREAM_REC_STATUS_RX_FRAME_TOO_SHORT</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00182">driver_super.h:182</a></div></div>
<div class="ttc" id="astruct_d_s___stream_config_html_a7062764ae0bcc0674736b49238520ca6"><div class="ttname"><a href="struct_d_s___stream_config.html#a7062764ae0bcc0674736b49238520ca6">DS_StreamConfig::rx_buffer_for_carry_over_</a></div><div class="ttdeci">uint8_t rx_buffer_for_carry_over_[DS_RX_BUFFER_SIZE_MAX]</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00343">driver_super.h:343</a></div></div>
<div class="ttc" id="astruct_d_s___stream_config_html_a7a777551f855f5061a786ced785c21ba"><div class="ttname"><a href="struct_d_s___stream_config.html#a7a777551f855f5061a786ced785c21ba">DS_StreamConfig::req_tlm_cmd_tx_time_</a></div><div class="ttdeci">ObcTime req_tlm_cmd_tx_time_</div><div class="ttdoc">テレメ要求コマンド最終送信時刻</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00278">driver_super.h:278</a></div></div>
<div class="ttc" id="adriver__super_8h_html_a3f1d9e8a08d67a25845b0f48d19ccaa8adcb7771fd87c61ca76bc02e72d899d24"><div class="ttname"><a href="driver__super_8h.html#a3f1d9e8a08d67a25845b0f48d19ccaa8adcb7771fd87c61ca76bc02e72d899d24">DS_STREAM_REC_STATUS_RECEIVING_FRAMELENGTH</a></div><div class="ttdeci">@ DS_STREAM_REC_STATUS_RECEIVING_FRAMELENGTH</div><div class="ttdoc">可変長フレームでの，フレーム長データを受信中</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00174">driver_super.h:174</a></div></div>
<div class="ttc" id="adriver__super_8c_html_a2791854c5a460d3970eff9f6c9d5c862"><div class="ttname"><a href="driver__super_8c.html#a2791854c5a460d3970eff9f6c9d5c862">DSSC_set_rx_framelength_type_size</a></div><div class="ttdeci">void DSSC_set_rx_framelength_type_size(DS_StreamConfig *p_stream_config, const uint16_t rx_framelength_type_size)</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l01572">driver_super.c:1572</a></div></div>
<div class="ttc" id="astruct_d_s___stream_rec_status_html_a2feedb4d92df6adf23d4c9c331ce6c96"><div class="ttname"><a href="struct_d_s___stream_rec_status.html#a2feedb4d92df6adf23d4c9c331ce6c96">DS_StreamRecStatus::status_code</a></div><div class="ttdeci">DS_STREAM_REC_STATUS_CODE status_code</div><div class="ttdoc">status</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00207">driver_super.h:207</a></div></div>
<div class="ttc" id="astdint_8h_html_a273cf69d639a59973b6019625df33e30"><div class="ttname"><a href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a></div><div class="ttdeci">unsigned short uint16_t</div><div class="ttdef"><b>Definition:</b> <a href="stdint_8h_source.html#l00019">stdint.h:19</a></div></div>
<div class="ttc" id="adriver__super_8c_html_adbbf8fa9fd2669c7ef2b34a25964527b"><div class="ttname"><a href="driver__super_8c.html#adbbf8fa9fd2669c7ef2b34a25964527b">DSSC_get_general_cmd_tx_time</a></div><div class="ttdeci">const ObcTime * DSSC_get_general_cmd_tx_time(const DS_StreamConfig *p_stream_config)</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l01486">driver_super.c:1486</a></div></div>
<div class="ttc" id="adriver__super_8c_html_a5585e9e6e3293d17098598a4e88b0976"><div class="ttname"><a href="driver__super_8c.html#a5585e9e6e3293d17098598a4e88b0976">DSSC_get_rec_status</a></div><div class="ttdeci">const DS_StreamRecStatus * DSSC_get_rec_status(const DS_StreamConfig *p_stream_config)</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l01461">driver_super.c:1461</a></div></div>
<div class="ttc" id="astruct_d_s___stream_config_html_a97c4871475db02474ed9e15972ece679"><div class="ttname"><a href="struct_d_s___stream_config.html#a97c4871475db02474ed9e15972ece679">DS_StreamConfig::tx_frame_size_</a></div><div class="ttdeci">uint16_t tx_frame_size_</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00282">driver_super.h:282</a></div></div>
<div class="ttc" id="adriver__super_8c_html_af0c2601f37b24ce4a3bc94a525a80621"><div class="ttname"><a href="driver__super_8c.html#af0c2601f37b24ce4a3bc94a525a80621">DSSC_enable</a></div><div class="ttdeci">void DSSC_enable(DS_StreamConfig *p_stream_config)</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l01428">driver_super.c:1428</a></div></div>
<div class="ttc" id="adriver__super_8c_html_ae53312061d6acbd24edd316d126c7dea"><div class="ttname"><a href="driver__super_8c.html#ae53312061d6acbd24edd316d126c7dea">DS_init</a></div><div class="ttdeci">DS_ERR_CODE DS_init(DriverSuper *p_super, void *if_config, DS_ERR_CODE(*load_init_setting)(DriverSuper *p_super))</div><div class="ttdoc">継承先の機器よりDriverSuperを初期化する</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l00073">driver_super.c:73</a></div></div>
<div class="ttc" id="adriver__super_8h_html_a81f032590771b0c11b9190ad7004cd6ba58ec877a6d91b463549b642de5fbcb75"><div class="ttname"><a href="driver__super_8h.html#a81f032590771b0c11b9190ad7004cd6ba58ec877a6d91b463549b642de5fbcb75">DS_CMD_ILLEGAL_LENGTH</a></div><div class="ttdeci">@ DS_CMD_ILLEGAL_LENGTH</div><div class="ttdoc">CCP_EXEC_ILLEGAL_LENGTH に対応．これは基本的にはDIで見るはずなので，使われないことを想定</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00096">driver_super.h:96</a></div></div>
<div class="ttc" id="astruct_d_s___stream_rec_status_html_aad4e28b3f8c697253eeb6a5938c23b8f"><div class="ttname"><a href="struct_d_s___stream_rec_status.html#aad4e28b3f8c697253eeb6a5938c23b8f">DS_StreamRecStatus::tlm_disruption_status</a></div><div class="ttdeci">DS_STREAM_TLM_DISRUPTION_STATUS_CODE tlm_disruption_status</div><div class="ttdoc">テレメ途絶判定</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00209">driver_super.h:209</a></div></div>
<div class="ttc" id="adriver__super_8c_html_a10aff371a7e93a3ffcb1b13234d39932"><div class="ttname"><a href="driver__super_8c.html#a10aff371a7e93a3ffcb1b13234d39932">DSSC_disable</a></div><div class="ttdeci">void DSSC_disable(DS_StreamConfig *p_stream_config)</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l01435">driver_super.c:1435</a></div></div>
<div class="ttc" id="adriver__super_8c_html_a82e069be2847e2915145ada48de94d94"><div class="ttname"><a href="driver__super_8c.html#a82e069be2847e2915145ada48de94d94">DSSC_get_time_threshold_for_tlm_disruption</a></div><div class="ttdeci">uint32_t DSSC_get_time_threshold_for_tlm_disruption(const DS_StreamConfig *p_stream_config)</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l01603">driver_super.c:1603</a></div></div>
<div class="ttc" id="astruct_d_s___config_html_a2688e515642a822ef0ca1de956043198"><div class="ttname"><a href="struct_d_s___config.html#a2688e515642a822ef0ca1de956043198">DS_Config::time_threshold_for_rx_disruption_</a></div><div class="ttdeci">uint32_t time_threshold_for_rx_disruption_</div><div class="ttdoc">受信途絶判定の閾値 [ms]</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00233">driver_super.h:233</a></div></div>
<div class="ttc" id="adriver__super_8h_html_a4d856578726e06c124ae25b20f486454af3ebc4159b314816e7ad3559ed9be65b"><div class="ttname"><a href="driver__super_8h.html#a4d856578726e06c124ae25b20f486454af3ebc4159b314816e7ad3559ed9be65b">DS_STREAM_TLM_DISRUPTION_STATUS_OK</a></div><div class="ttdeci">@ DS_STREAM_TLM_DISRUPTION_STATUS_OK</div><div class="ttdoc">テレメ途絶していない or テレメ途絶判定をしない状態</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00196">driver_super.h:196</a></div></div>
<div class="ttc" id="adriver__super_8h_html_aabdd3dd293d1c92926eedb042673c165"><div class="ttname"><a href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165">DS_ERR_CODE</a></div><div class="ttdeci">DS_ERR_CODE</div><div class="ttdoc">DriverSuper の汎用エラーコード</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00108">driver_super.h:108</a></div></div>
<div class="ttc" id="astruct_obc_time_html"><div class="ttname"><a href="struct_obc_time.html">ObcTime</a></div><div class="ttdoc">OBCの時刻情報を保持する構造体</div><div class="ttdef"><b>Definition:</b> <a href="obc__time_8h_source.html#l00025">obc_time.h:25</a></div></div>
<div class="ttc" id="adriver__super_8c_html_aeba5ba2ebea1719d8bae74c274b0adfa"><div class="ttname"><a href="driver__super_8c.html#aeba5ba2ebea1719d8bae74c274b0adfa">DS_send_general_cmd</a></div><div class="ttdeci">DS_ERR_CODE DS_send_general_cmd(DriverSuper *p_super, uint8_t stream)</div><div class="ttdoc">継承先の機器に一般コマンドを発行する</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l00303">driver_super.c:303</a></div></div>
<div class="ttc" id="adriver__super_8c_html_a61709a2465a78070c5423b13a5dfe50d"><div class="ttname"><a href="driver__super_8c.html#a61709a2465a78070c5423b13a5dfe50d">DSC_get_rx_call_count</a></div><div class="ttdeci">uint32_t DSC_get_rx_call_count(const DriverSuper *p_super)</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l01380">driver_super.c:1380</a></div></div>
<div class="ttc" id="adriver__super_8h_html_a4d856578726e06c124ae25b20f486454"><div class="ttname"><a href="driver__super_8h.html#a4d856578726e06c124ae25b20f486454">DS_STREAM_TLM_DISRUPTION_STATUS_CODE</a></div><div class="ttdeci">DS_STREAM_TLM_DISRUPTION_STATUS_CODE</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00194">driver_super.h:194</a></div></div>
<div class="ttc" id="astruct_d_s___stream_config_html_afd686e53ab568d5a50ae3ccb290c373d"><div class="ttname"><a href="struct_d_s___stream_config.html#afd686e53ab568d5a50ae3ccb290c373d">DS_StreamConfig::rx_frame_fix_count_</a></div><div class="ttdeci">uint32_t rx_frame_fix_count_</div><div class="ttdoc">フレーム受信確定回数</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00275">driver_super.h:275</a></div></div>
<div class="ttc" id="adriver__super_8h_html_a81f032590771b0c11b9190ad7004cd6b"><div class="ttname"><a href="driver__super_8h.html#a81f032590771b0c11b9190ad7004cd6b">DS_CMD_ERR_CODE</a></div><div class="ttdeci">DS_CMD_ERR_CODE</div><div class="ttdoc">各DIが Driver にコマンドを送るときに，統一的に使うコード</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00091">driver_super.h:91</a></div></div>
<div class="ttc" id="acommon__cmd__packet_8h_html_a5819361d7f600a9e471467b328b8714b"><div class="ttname"><a href="common__cmd__packet_8h.html#a5819361d7f600a9e471467b328b8714b">CCP_EXEC_STS</a></div><div class="ttdeci">CCP_EXEC_STS</div><div class="ttdoc">コマンド実行結果コード</div><div class="ttdef"><b>Definition:</b> <a href="common__cmd__packet_8h_source.html#l00023">common_cmd_packet.h:23</a></div></div>
<div class="ttc" id="adriver__super_8c_html_ac03ce9459ce22d22218665a0a14c3b79"><div class="ttname"><a href="driver__super_8c.html#ac03ce9459ce22d22218665a0a14c3b79">DS_analyze_rx_buffer_receiving_footer_</a></div><div class="ttdeci">static uint16_t DS_analyze_rx_buffer_receiving_footer_(DS_StreamConfig *p_stream_config, uint8_t *rx_buffer, uint16_t total_processed_data_len, uint16_t rx_frame_size)</div><div class="ttdoc">フレーム解析関数（フッタ受信中）</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l01148">driver_super.c:1148</a></div></div>
<div class="ttc" id="astruct_d_s___stream_config_html_a3f9e3efc57929a9d160a33e5a48848f5"><div class="ttname"><a href="struct_d_s___stream_config.html#a3f9e3efc57929a9d160a33e5a48848f5">DS_StreamConfig::ret_from_data_analyzer_</a></div><div class="ttdeci">DS_ERR_CODE ret_from_data_analyzer_</div><div class="ttdoc">data_analyzer_ の返り値</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00328">driver_super.h:328</a></div></div>
<div class="ttc" id="astruct_driver_super_html_a156dfb094536309694466e26cc78410d"><div class="ttname"><a href="struct_driver_super.html#a156dfb094536309694466e26cc78410d">DriverSuper::interface</a></div><div class="ttdeci">IF_LIST_ENUM interface</div><div class="ttdoc">継承先の機器の使用IF</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00357">driver_super.h:357</a></div></div>
<div class="ttc" id="adriver__super_8h_html_a3f1d9e8a08d67a25845b0f48d19ccaa8a7e0d94a625a6600317ef975d9d2e8333"><div class="ttname"><a href="driver__super_8h.html#a3f1d9e8a08d67a25845b0f48d19ccaa8a7e0d94a625a6600317ef975d9d2e8333">DS_STREAM_REC_STATUS_RX_FRAME_TOO_LONG</a></div><div class="ttdeci">@ DS_STREAM_REC_STATUS_RX_FRAME_TOO_LONG</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00181">driver_super.h:181</a></div></div>
<div class="ttc" id="adriver__super_8c_html_a8183efca88aff7a47cd50b16e83a66ca"><div class="ttname"><a href="driver__super_8c.html#a8183efca88aff7a47cd50b16e83a66ca">DS_load_init_setting_dummy_</a></div><div class="ttdeci">static DS_ERR_CODE DS_load_init_setting_dummy_(DriverSuper *p_super)</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l01354">driver_super.c:1354</a></div></div>
<div class="ttc" id="adriver__super_8c_html_a9907f5844f74f6b8218993911bdc2735"><div class="ttname"><a href="driver__super_8c.html#a9907f5844f74f6b8218993911bdc2735">DSSC_set_tx_frame_size</a></div><div class="ttdeci">void DSSC_set_tx_frame_size(DS_StreamConfig *p_stream_config, const uint16_t tx_frame_size)</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l01508">driver_super.c:1508</a></div></div>
<div class="ttc" id="adriver__super_8h_html_a8f1715418b65ccb642fc9ea570aaa76a"><div class="ttname"><a href="driver__super_8h.html#a8f1715418b65ccb642fc9ea570aaa76a">DS_DRIVER_ERR_CODE</a></div><div class="ttdeci">DS_DRIVER_ERR_CODE</div><div class="ttdoc">Driver の汎用エラーコード</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00044">driver_super.h:44</a></div></div>
<div class="ttc" id="adriver__super_8h_html_a6de2adaf747f15e857f8270e62ee7a1e"><div class="ttname"><a href="driver__super_8h.html#a6de2adaf747f15e857f8270e62ee7a1e">DS_STREAM_MAX</a></div><div class="ttdeci">#define DS_STREAM_MAX</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00018">driver_super.h:18</a></div></div>
<div class="ttc" id="adriver__super_8c_html_a302d7f616a622253e4190a70d35489e7"><div class="ttname"><a href="driver__super_8c.html#a302d7f616a622253e4190a70d35489e7">DSSC_get_general_cmd_tx_count</a></div><div class="ttdeci">uint32_t DSSC_get_general_cmd_tx_count(const DS_StreamConfig *p_stream_config)</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l01466">driver_super.c:1466</a></div></div>
<div class="ttc" id="astruct_d_s___stream_config_html_ad1995ad0637ebb96232767c3fc731e55"><div class="ttname"><a href="struct_d_s___stream_config.html#ad1995ad0637ebb96232767c3fc731e55">DS_StreamConfig::is_rx_buffer_carry_over_</a></div><div class="ttdeci">uint8_t is_rx_buffer_carry_over_</div><div class="ttdoc">繰越する受信データがあるか？</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00340">driver_super.h:340</a></div></div>
<div class="ttc" id="adriver__super_8c_html_adf1f7d5bc6090bf72962786be28d0b9d"><div class="ttname"><a href="driver__super_8c.html#adf1f7d5bc6090bf72962786be28d0b9d">DSSC_get_rx_frame</a></div><div class="ttdeci">const uint8_t * DSSC_get_rx_frame(const DS_StreamConfig *p_stream_config)</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l01520">driver_super.c:1520</a></div></div>
<div class="ttc" id="adriver__super_8c_html_a3c3d7f8cb03c596e81145f3395f68757"><div class="ttname"><a href="driver__super_8c.html#a3c3d7f8cb03c596e81145f3395f68757">DSSC_get_tlm_disruption_status</a></div><div class="ttdeci">DS_STREAM_TLM_DISRUPTION_STATUS_CODE DSSC_get_tlm_disruption_status(const DS_StreamConfig *p_stream_config)</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l01615">driver_super.c:1615</a></div></div>
<div class="ttc" id="adriver__super_8c_html_ad1bdc8947460e5efe01f9970684d06dc"><div class="ttname"><a href="driver__super_8c.html#ad1bdc8947460e5efe01f9970684d06dc">DS_validate_stream_config_</a></div><div class="ttdeci">static DS_ERR_CODE DS_validate_stream_config_(DS_StreamConfig *p_stream_config)</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l01303">driver_super.c:1303</a></div></div>
<div class="ttc" id="adriver__super_8c_html_a2beeb61b4f6d70fa483ae5e9ef183039"><div class="ttname"><a href="driver__super_8c.html#a2beeb61b4f6d70fa483ae5e9ef183039">DSC_disable_monitor_for_rx_disruption</a></div><div class="ttdeci">void DSC_disable_monitor_for_rx_disruption(DriverSuper *p_super)</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l01400">driver_super.c:1400</a></div></div>
<div class="ttc" id="adriver__super_8c_html_a72d7c5f22e08787bde44ac833038716e"><div class="ttname"><a href="driver__super_8c.html#a72d7c5f22e08787bde44ac833038716e">DSC_get_rec_status</a></div><div class="ttdeci">const DS_RecStatus * DSC_get_rec_status(const DriverSuper *p_super)</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l01370">driver_super.c:1370</a></div></div>
<div class="ttc" id="adriver__super_8h_html_ae0e20317c0a0480f3e294e4383ff644aa505b5ee83b49b5607030fdf0d8802db7"><div class="ttname"><a href="driver__super_8h.html#ae0e20317c0a0480f3e294e4383ff644aa505b5ee83b49b5607030fdf0d8802db7">DS_STREAM_SEND_STATUS_DISABLE</a></div><div class="ttdeci">@ DS_STREAM_SEND_STATUS_DISABLE</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00146">driver_super.h:146</a></div></div>
<div class="ttc" id="astruct_d_s___stream_config_html_ab74d224e45b3d70c6f787a5b6e740bd6"><div class="ttname"><a href="struct_d_s___stream_config.html#ab74d224e45b3d70c6f787a5b6e740bd6">DS_StreamConfig::carry_over_buffer_next_pos_</a></div><div class="ttdeci">uint16_t carry_over_buffer_next_pos_</div><div class="ttdoc">次回探索を始めるバッファ位置（0 起算）</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00342">driver_super.h:342</a></div></div>
<div class="ttc" id="adriver__super_8c_html_a429deb359eaf91169ce3139b900e45dc"><div class="ttname"><a href="driver__super_8c.html#a429deb359eaf91169ce3139b900e45dc">DSC_get_should_monitor_for_rx_disruption</a></div><div class="ttdeci">uint8_t DSC_get_should_monitor_for_rx_disruption(const DriverSuper *p_super)</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l01390">driver_super.c:1390</a></div></div>
<div class="ttc" id="asrc__core_2_library_2print_8c_html_a4bc499fc724de87725ee7dc60ed1d106"><div class="ttname"><a href="src__core_2_library_2print_8c.html#a4bc499fc724de87725ee7dc60ed1d106">Printf</a></div><div class="ttdeci">void Printf(char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="src__core_2_library_2print_8c_source.html#l00011">print.c:11</a></div></div>
<div class="ttc" id="adriver__super_8c_html_afd7b10a3cb250e03d1ace11c9f5d8b5b"><div class="ttname"><a href="driver__super_8c.html#afd7b10a3cb250e03d1ace11c9f5d8b5b">DSSC_set_rx_footer</a></div><div class="ttdeci">void DSSC_set_rx_footer(DS_StreamConfig *p_stream_config, const uint8_t *rx_footer, const uint16_t rx_footer_size)</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l01534">driver_super.c:1534</a></div></div>
<div class="ttc" id="adriver__super_8c_html_a780674e26d489325b595bd44ebebb534"><div class="ttname"><a href="driver__super_8c.html#a780674e26d489325b595bd44ebebb534">DSC_enable_monitor_for_rx_disruption</a></div><div class="ttdeci">void DSC_enable_monitor_for_rx_disruption(DriverSuper *p_super)</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l01395">driver_super.c:1395</a></div></div>
<div class="ttc" id="acommon__cmd__packet_8h_html_a5819361d7f600a9e471467b328b8714ba193109df48e98ea2e51df0f7ac1b7d11"><div class="ttname"><a href="common__cmd__packet_8h.html#a5819361d7f600a9e471467b328b8714ba193109df48e98ea2e51df0f7ac1b7d11">CCP_EXEC_SUCCESS</a></div><div class="ttdeci">@ CCP_EXEC_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="common__cmd__packet_8h_source.html#l00025">common_cmd_packet.h:25</a></div></div>
<div class="ttc" id="astdint_8h_html_a269259c924dce846340ddbb810db2e3c"><div class="ttname"><a href="stdint_8h.html#a269259c924dce846340ddbb810db2e3c">int16_t</a></div><div class="ttdeci">signed short int16_t</div><div class="ttdef"><b>Definition:</b> <a href="stdint_8h_source.html#l00014">stdint.h:14</a></div></div>
<div class="ttc" id="adriver__super_8c_html_a92f1f512f47189fe8a6dddb660fc97fc"><div class="ttname"><a href="driver__super_8c.html#a92f1f512f47189fe8a6dddb660fc97fc">DSSC_get_ret_from_data_analyzer</a></div><div class="ttdeci">DS_ERR_CODE DSSC_get_ret_from_data_analyzer(const DS_StreamConfig *p_stream_config)</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l01627">driver_super.c:1627</a></div></div>
<div class="ttc" id="astruct_d_s___stream_config_html_a86cb05402320b51e4c93c84cf309d666"><div class="ttname"><a href="struct_d_s___stream_config.html#a86cb05402320b51e4c93c84cf309d666">DS_StreamConfig::general_cmd_tx_time_</a></div><div class="ttdeci">ObcTime general_cmd_tx_time_</div><div class="ttdoc">通常コマンド最終送信時刻</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00277">driver_super.h:277</a></div></div>
<div class="ttc" id="adriver__super_8c_html_adb55026a05103c4bf63d2354134864c7"><div class="ttname"><a href="driver__super_8c.html#adb55026a05103c4bf63d2354134864c7">DS_analyze_rx_buffer_pickup_</a></div><div class="ttdeci">static uint16_t DS_analyze_rx_buffer_pickup_(DS_StreamConfig *p_stream_config, uint8_t *rx_buffer, uint16_t rec_data_len)</div><div class="ttdoc">フレーム解析関数</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l00540">driver_super.c:540</a></div></div>
<div class="ttc" id="adriver__super_8c_html_a9e96a9d0e22e3931356c2b51aff32d43"><div class="ttname"><a href="driver__super_8c.html#a9e96a9d0e22e3931356c2b51aff32d43">DS_conv_cmd_err_to_ccp_exec_sts</a></div><div class="ttdeci">CCP_EXEC_STS DS_conv_cmd_err_to_ccp_exec_sts(DS_CMD_ERR_CODE code)</div><div class="ttdoc">DS_CMD_ERR_CODE から CCP_EXEC_STS への変換関数</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l01655">driver_super.c:1655</a></div></div>
<div class="ttc" id="astruct_d_s___config_html_afb79a99606225117f79d0028cee944b5"><div class="ttname"><a href="struct_d_s___config.html#afb79a99606225117f79d0028cee944b5">DS_Config::rx_buffer_</a></div><div class="ttdeci">uint8_t rx_buffer_[DS_RX_BUFFER_SIZE_MAX]</div><div class="ttdoc">データ受信バッファ</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00236">driver_super.h:236</a></div></div>
<div class="ttc" id="astruct_d_s___stream_config_html_a14339f890773e061e1dc3fa862f7209d"><div class="ttname"><a href="struct_d_s___stream_config.html#a14339f890773e061e1dc3fa862f7209d">DS_StreamConfig::rx_framelength_type_size_</a></div><div class="ttdeci">uint16_t rx_framelength_type_size_</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00311">driver_super.h:311</a></div></div>
<div class="ttc" id="adriver__super_8c_html_a813429b169d4c05cce10cff391dd901c"><div class="ttname"><a href="driver__super_8c.html#a813429b169d4c05cce10cff391dd901c">DS_analyze_rx_buffer_</a></div><div class="ttdeci">static void DS_analyze_rx_buffer_(DriverSuper *p_super, uint8_t stream, uint16_t rec_data_len)</div><div class="ttdoc">受信フレーム解析関数</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l00472">driver_super.c:472</a></div></div>
<div class="ttc" id="aif__list_8c_html_a76c66cc5f505840553fcf03deaa67ede"><div class="ttname"><a href="if__list_8c.html#a76c66cc5f505840553fcf03deaa67ede">IF_init</a></div><div class="ttdeci">int(* IF_init[])(void *my_if)</div><div class="ttdef"><b>Definition:</b> <a href="if__list_8c_source.html#l00006">if_list.c:6</a></div></div>
<div class="ttc" id="astruct_d_s___stream_config_html_a3728f3399352384324aa54908fd754da"><div class="ttname"><a href="struct_d_s___stream_config.html#a3728f3399352384324aa54908fd754da">DS_StreamConfig::rx_frame_</a></div><div class="ttdeci">uint8_t rx_frame_[DS_RX_FRAME_SIZE_MAX]</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00285">driver_super.h:285</a></div></div>
<div class="ttc" id="adriver__super_8c_html_a82724ea030a11547a1931863628fae02"><div class="ttname"><a href="driver__super_8c.html#a82724ea030a11547a1931863628fae02">DSC_get_rx_disruption_status</a></div><div class="ttdeci">DS_RX_DISRUPTION_STATUS_CODE DSC_get_rx_disruption_status(const DriverSuper *p_super)</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l01416">driver_super.c:1416</a></div></div>
<div class="ttc" id="adriver__super_8h_html_a3f1d9e8a08d67a25845b0f48d19ccaa8aaae4d31d44d5bdfcf5ad65cf4b460800"><div class="ttname"><a href="driver__super_8h.html#a3f1d9e8a08d67a25845b0f48d19ccaa8aaae4d31d44d5bdfcf5ad65cf4b460800">DS_STREAM_REC_STATUS_RECEIVING_DATA</a></div><div class="ttdeci">@ DS_STREAM_REC_STATUS_RECEIVING_DATA</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00175">driver_super.h:175</a></div></div>
<div class="ttc" id="astruct_d_s___rec_status_html"><div class="ttname"><a href="struct_d_s___rec_status.html">DS_RecStatus</a></div><div class="ttdoc">IF 受信状況</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00131">driver_super.h:131</a></div></div>
<div class="ttc" id="adriver__super_8c_html_a7f4bb1ea81bf8d3a89752a0fc875afce"><div class="ttname"><a href="driver__super_8c.html#a7f4bb1ea81bf8d3a89752a0fc875afce">DS_reset</a></div><div class="ttdeci">DS_ERR_CODE DS_reset(DriverSuper *p_super)</div><div class="ttdoc">DriverSuperのリセット</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l00092">driver_super.c:92</a></div></div>
<div class="ttc" id="astruct_d_s___stream_config_html_a9f03f387ca4cb3c92f74b2d22d388c81"><div class="ttname"><a href="struct_d_s___stream_config.html#a9f03f387ca4cb3c92f74b2d22d388c81">DS_StreamConfig::is_validation_needed_for_send_</a></div><div class="ttdeci">uint8_t is_validation_needed_for_send_</div><div class="ttdoc">送信前に設定値の Validation が必要か？</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00331">driver_super.h:331</a></div></div>
<div class="ttc" id="adriver__super_8h_html_a8f1715418b65ccb642fc9ea570aaa76aa4783518ba98ab9858c9b8916ba3d6c6b"><div class="ttname"><a href="driver__super_8h.html#a8f1715418b65ccb642fc9ea570aaa76aa4783518ba98ab9858c9b8916ba3d6c6b">DS_DRIVER_ERR_CODE_ILLEGAL_CONTEXT</a></div><div class="ttdeci">@ DS_DRIVER_ERR_CODE_ILLEGAL_CONTEXT</div><div class="ttdoc">CCP_EXEC_ILLEGAL_CONTEXT に対応</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00047">driver_super.h:47</a></div></div>
<div class="ttc" id="adriver__super_8h_html_a8f1715418b65ccb642fc9ea570aaa76aa123cb74e7f8175b893f898bc40f0ff26"><div class="ttname"><a href="driver__super_8h.html#a8f1715418b65ccb642fc9ea570aaa76aa123cb74e7f8175b893f898bc40f0ff26">DS_DRIVER_ERR_CODE_ILLEGAL_LENGTH</a></div><div class="ttdeci">@ DS_DRIVER_ERR_CODE_ILLEGAL_LENGTH</div><div class="ttdoc">CCP_EXEC_ILLEGAL_PARAMETER に対応</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00049">driver_super.h:49</a></div></div>
<div class="ttc" id="adriver__super_8h_html_aabdd3dd293d1c92926eedb042673c165a9a38fe6c4618e1519e0d218bac5d60c2"><div class="ttname"><a href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165a9a38fe6c4618e1519e0d218bac5d60c2">DS_ERR_CODE_OK</a></div><div class="ttdeci">@ DS_ERR_CODE_OK</div><div class="ttdoc">返り値は継承先やIF先で上書きされるため，OKは0であることが必須</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00110">driver_super.h:110</a></div></div>
<div class="ttc" id="adriver__super_8h_html_a8f1715418b65ccb642fc9ea570aaa76aa0e551656453f3dd294882bd6fe780be0"><div class="ttname"><a href="driver__super_8h.html#a8f1715418b65ccb642fc9ea570aaa76aa0e551656453f3dd294882bd6fe780be0">DS_DRIVER_ERR_CODE_ILLEGAL_PARAMETER</a></div><div class="ttdeci">@ DS_DRIVER_ERR_CODE_ILLEGAL_PARAMETER</div><div class="ttdoc">CCP_EXEC_ILLEGAL_PARAMETER に対応</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00048">driver_super.h:48</a></div></div>
<div class="ttc" id="adriver__super_8c_html_abde54034c6071e6c25fc5790d5a52ef0"><div class="ttname"><a href="driver__super_8c.html#abde54034c6071e6c25fc5790d5a52ef0">DSSC_get_rx_frame_size</a></div><div class="ttdeci">int16_t DSSC_get_rx_frame_size(const DS_StreamConfig *p_stream_config)</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l01560">driver_super.c:1560</a></div></div>
<div class="ttc" id="acommon__cmd__packet_8h_html_a5819361d7f600a9e471467b328b8714ba226fcd829290a469fd5a33a84736224a"><div class="ttname"><a href="common__cmd__packet_8h.html#a5819361d7f600a9e471467b328b8714ba226fcd829290a469fd5a33a84736224a">CCP_EXEC_ILLEGAL_LENGTH</a></div><div class="ttdeci">@ CCP_EXEC_ILLEGAL_LENGTH</div><div class="ttdoc">コマンド実行時のコマンド引数長エラー</div><div class="ttdef"><b>Definition:</b> <a href="common__cmd__packet_8h_source.html#l00027">common_cmd_packet.h:27</a></div></div>
<div class="ttc" id="astruct_d_s___stream_config_html_ae7553688939b3f6274b7a7606db46309"><div class="ttname"><a href="struct_d_s___stream_config.html#ae7553688939b3f6274b7a7606db46309">DS_StreamConfig::rx_frame_fix_time_</a></div><div class="ttdeci">ObcTime rx_frame_fix_time_</div><div class="ttdoc">フレーム確定時刻</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00279">driver_super.h:279</a></div></div>
<div class="ttc" id="astruct_d_s___stream_config_html_ad439f0c7a881b330ce25240ffedb9ff4"><div class="ttname"><a href="struct_d_s___stream_config.html#ad439f0c7a881b330ce25240ffedb9ff4">DS_StreamConfig::data_analyzer_</a></div><div class="ttdeci">DS_ERR_CODE(* data_analyzer_)(DS_StreamConfig *p_stream_config, void *p_driver)</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00324">driver_super.h:324</a></div></div>
<div class="ttc" id="adriver__super_8c_html_ab1809071805e553b4eaa156cb5ae88bf"><div class="ttname"><a href="driver__super_8c.html#ab1809071805e553b4eaa156cb5ae88bf">DSC_get_rx_time</a></div><div class="ttdeci">const ObcTime * DSC_get_rx_time(const DriverSuper *p_super)</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l01385">driver_super.c:1385</a></div></div>
<div class="ttc" id="adriver__super_8c_html_a307c2f714ae48261cd20926db4add15c"><div class="ttname"><a href="driver__super_8c.html#a307c2f714ae48261cd20926db4add15c">DS_analyze_rx_buffer_fixed_pickup_</a></div><div class="ttdeci">static uint16_t DS_analyze_rx_buffer_fixed_pickup_(DS_StreamConfig *p_stream_config, uint8_t *rx_buffer, uint16_t total_processed_data_len, uint16_t rec_data_len)</div><div class="ttdoc">固定長フレーム解析関数（バイト列処理）</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l00713">driver_super.c:713</a></div></div>
<div class="ttc" id="astruct_driver_super_html_af946e67e11862521885fd51af8c1d602"><div class="ttname"><a href="struct_driver_super.html#af946e67e11862521885fd51af8c1d602">DriverSuper::if_config</a></div><div class="ttdeci">void * if_config</div><div class="ttdoc">IF設定</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00358">driver_super.h:358</a></div></div>
<div class="ttc" id="aobc__time_8c_html_a51f2c2c48be7ec8985ec47f36bef1335"><div class="ttname"><a href="obc__time_8c.html#a51f2c2c48be7ec8985ec47f36bef1335">OBCT_diff_in_msec</a></div><div class="ttdeci">uint32_t OBCT_diff_in_msec(const ObcTime *before, const ObcTime *after)</div><div class="ttdoc">ObcTime の引き算をミリ秒単位で行う</div><div class="ttdef"><b>Definition:</b> <a href="obc__time_8c_source.html#l00152">obc_time.c:152</a></div></div>
<div class="ttc" id="adriver__super_8c_html_ad21e295eb43520f915b923c0d2eb5c94"><div class="ttname"><a href="driver__super_8c.html#ad21e295eb43520f915b923c0d2eb5c94">DS_clear_rx_buffer</a></div><div class="ttdeci">DS_ERR_CODE DS_clear_rx_buffer(DriverSuper *p_super)</div><div class="ttdoc">受信バッファをクリアする</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l00138">driver_super.c:138</a></div></div>
<div class="ttc" id="astruct_d_s___stream_config_html_af966a780ca9b47f990656cb371f41a21"><div class="ttname"><a href="struct_d_s___stream_config.html#af966a780ca9b47f990656cb371f41a21">DS_StreamConfig::is_strict_frame_search_</a></div><div class="ttdeci">uint8_t is_strict_frame_search_</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00257">driver_super.h:257</a></div></div>
<div class="ttc" id="adriver__super_8h_html_aabdd3dd293d1c92926eedb042673c165a757cf24e5dd8eaaeb1e0554ad1a3203a"><div class="ttname"><a href="driver__super_8h.html#aabdd3dd293d1c92926eedb042673c165a757cf24e5dd8eaaeb1e0554ad1a3203a">DS_ERR_CODE_ERR</a></div><div class="ttdeci">@ DS_ERR_CODE_ERR</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00111">driver_super.h:111</a></div></div>
<div class="ttc" id="adriver__super_8c_html_a509e0b3b7ef883f35c3eac38ed397758"><div class="ttname"><a href="driver__super_8c.html#a509e0b3b7ef883f35c3eac38ed397758">DSSC_set_time_threshold_for_tlm_disruption</a></div><div class="ttdeci">void DSSC_set_time_threshold_for_tlm_disruption(DS_StreamConfig *p_stream_config, const uint32_t time_threshold_for_tlm_disruption)</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l01608">driver_super.c:1608</a></div></div>
<div class="ttc" id="adriver__super_8c_html_afd6a7ce3042412d75d326aa44a140d7c"><div class="ttname"><a href="driver__super_8c.html#afd6a7ce3042412d75d326aa44a140d7c">DS_analyze_rx_buffer_get_framelength_</a></div><div class="ttdeci">static uint32_t DS_analyze_rx_buffer_get_framelength_(DS_StreamConfig *p_stream_config)</div><div class="ttdoc">フレーム解析中に受信したフレームからフレーム長を取得する関数</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l01210">driver_super.c:1210</a></div></div>
<div class="ttc" id="adriver__super_8c_html_a17276ca37e76a016ddc12766fda7309f"><div class="ttname"><a href="driver__super_8c.html#a17276ca37e76a016ddc12766fda7309f">DS_data_analyzer_dummy_</a></div><div class="ttdeci">static DS_ERR_CODE DS_data_analyzer_dummy_(DS_StreamConfig *p_stream_config, void *p_driver)</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l01360">driver_super.c:1360</a></div></div>
<div class="ttc" id="astruct_d_s___stream_rec_status_html"><div class="ttname"><a href="struct_d_s___stream_rec_status.html">DS_StreamRecStatus</a></div><div class="ttdoc">フレーム受信状況</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00205">driver_super.h:205</a></div></div>
<div class="ttc" id="acommon__cmd__packet_8h_html_a5819361d7f600a9e471467b328b8714ba4b94d1766aadbf48ade81516ef274ff0"><div class="ttname"><a href="common__cmd__packet_8h.html#a5819361d7f600a9e471467b328b8714ba4b94d1766aadbf48ade81516ef274ff0">CCP_EXEC_ILLEGAL_PARAMETER</a></div><div class="ttdeci">@ CCP_EXEC_ILLEGAL_PARAMETER</div><div class="ttdoc">コマンド実行時のパラメタエラー</div><div class="ttdef"><b>Definition:</b> <a href="common__cmd__packet_8h_source.html#l00028">common_cmd_packet.h:28</a></div></div>
<div class="ttc" id="adriver__super_8c_html_af10516ffc854cff7493ca94b1f980c78"><div class="ttname"><a href="driver__super_8c.html#af10516ffc854cff7493ca94b1f980c78">DSSC_set_rx_framelength_pos</a></div><div class="ttdeci">void DSSC_set_rx_framelength_pos(DS_StreamConfig *p_stream_config, const int16_t rx_framelength_pos)</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l01565">driver_super.c:1565</a></div></div>
<div class="ttc" id="adriver__super_8h_html_a3f1d9e8a08d67a25845b0f48d19ccaa8ad15d38cde20b8c9f75082e94c6035006"><div class="ttname"><a href="driver__super_8h.html#a3f1d9e8a08d67a25845b0f48d19ccaa8ad15d38cde20b8c9f75082e94c6035006">DS_STREAM_REC_STATUS_FIXED_FRAME</a></div><div class="ttdeci">@ DS_STREAM_REC_STATUS_FIXED_FRAME</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00177">driver_super.h:177</a></div></div>
<div class="ttc" id="adriver__super_8c_html_a42c80644b6772ae2596e20b75804c0c3"><div class="ttname"><a href="driver__super_8c.html#a42c80644b6772ae2596e20b75804c0c3">DSSC_set_tx_frame</a></div><div class="ttdeci">void DSSC_set_tx_frame(DS_StreamConfig *p_stream_config, uint8_t *tx_frame)</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l01501">driver_super.c:1501</a></div></div>
<div class="ttc" id="adriver__super_8h_html_ae2cc6e08ec5fab4997ba383ac7da05c7a5e9dc351738e4070b2cecf2a68cbd77d"><div class="ttname"><a href="driver__super_8h.html#ae2cc6e08ec5fab4997ba383ac7da05c7a5e9dc351738e4070b2cecf2a68cbd77d">DS_RX_DISRUPTION_STATUS_LOST</a></div><div class="ttdeci">@ DS_RX_DISRUPTION_STATUS_LOST</div><div class="ttdoc">受信途絶検出</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00123">driver_super.h:123</a></div></div>
<div class="ttc" id="astruct_d_s___config_html_a58d900a563f500804b18637e373fb1c6"><div class="ttname"><a href="struct_d_s___config.html#a58d900a563f500804b18637e373fb1c6">DS_Config::rec_status_</a></div><div class="ttdeci">DS_RecStatus rec_status_</div><div class="ttdoc">IF受信状況</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00225">driver_super.h:225</a></div></div>
<div class="ttc" id="astruct_d_s___stream_config_html_a3a0024f4119de8f5729edbeec97d1b02"><div class="ttname"><a href="struct_d_s___stream_config.html#a3a0024f4119de8f5729edbeec97d1b02">DS_StreamConfig::general_cmd_tx_count_</a></div><div class="ttdeci">uint32_t general_cmd_tx_count_</div><div class="ttdoc">通常コマンド送信回数</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00271">driver_super.h:271</a></div></div>
<div class="ttc" id="astruct_d_s___stream_config_html_ac921c9a2900af72cc2acfeb7966bc2e3"><div class="ttname"><a href="struct_d_s___stream_config.html#ac921c9a2900af72cc2acfeb7966bc2e3">DS_StreamConfig::rx_frame_rec_len_</a></div><div class="ttdeci">uint16_t rx_frame_rec_len_</div><div class="ttdoc">受信データフレームの受信済みByte．rx_frame_ に対する操作ポインタになる</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00334">driver_super.h:334</a></div></div>
<div class="ttc" id="astruct_d_s___stream_config_html_a5c1ef5acd3c5f784e61840004a57657c"><div class="ttname"><a href="struct_d_s___stream_config.html#a5c1ef5acd3c5f784e61840004a57657c">DS_StreamConfig::send_status_</a></div><div class="ttdeci">DS_StreamSendStatus send_status_</div><div class="ttdoc">フレーム送信状況</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00268">driver_super.h:268</a></div></div>
<div class="ttc" id="adriver__super_8h_html_aaf12a87484f81e9c2978d9e0f2861945"><div class="ttname"><a href="driver__super_8h.html#aaf12a87484f81e9c2978d9e0f2861945">DS_RX_FRAME_SIZE_MAX</a></div><div class="ttdeci">#define DS_RX_FRAME_SIZE_MAX</div><div class="ttdoc">受信データフレームの最大長</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00021">driver_super.h:21</a></div></div>
<div class="ttc" id="astruct_d_s___stream_config_html_a5e803fe8c362d6810e84c6addd66c10d"><div class="ttname"><a href="struct_d_s___stream_config.html#a5e803fe8c362d6810e84c6addd66c10d">DS_StreamConfig::rx_footer_</a></div><div class="ttdeci">const uint8_t * rx_footer_</div><div class="ttdoc">受信データのフッタ</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00296">driver_super.h:296</a></div></div>
<div class="ttc" id="astruct_d_s___stream_config_html_a1f1f355089d571eac84c8993cf951fce"><div class="ttname"><a href="struct_d_s___stream_config.html#a1f1f355089d571eac84c8993cf951fce">DS_StreamConfig::carry_over_buffer_size_</a></div><div class="ttdeci">uint16_t carry_over_buffer_size_</div><div class="ttdoc">繰越する受信データのサイズ</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00341">driver_super.h:341</a></div></div>
<div class="ttc" id="adriver__super_8h_html_a3f1d9e8a08d67a25845b0f48d19ccaa8a420657c143f5909c09b85f8ebd687c05"><div class="ttname"><a href="driver__super_8h.html#a3f1d9e8a08d67a25845b0f48d19ccaa8a420657c143f5909c09b85f8ebd687c05">DS_STREAM_REC_STATUS_VALIDATE_ERR</a></div><div class="ttdeci">@ DS_STREAM_REC_STATUS_VALIDATE_ERR</div><div class="ttdoc">受信前にvalidate_configでエラー</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00184">driver_super.h:184</a></div></div>
<div class="ttc" id="aif__list_8h_html_ab5f5f490541a10960ef592a061c74408a0af9761a69e0a7d2c7b881a09c4fe5c3"><div class="ttname"><a href="if__list_8h.html#ab5f5f490541a10960ef592a061c74408a0af9761a69e0a7d2c7b881a09c4fe5c3">IF_LIST_MAX</a></div><div class="ttdeci">@ IF_LIST_MAX</div><div class="ttdef"><b>Definition:</b> <a href="if__list_8h_source.html#l00012">if_list.h:12</a></div></div>
<div class="ttc" id="astruct_d_s___stream_config_html_a31002044fc5cd2187f7acc1918757829"><div class="ttname"><a href="struct_d_s___stream_config.html#a31002044fc5cd2187f7acc1918757829">DS_StreamConfig::rx_framelength_pos_</a></div><div class="ttdeci">int16_t rx_framelength_pos_</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00302">driver_super.h:302</a></div></div>
<div class="ttc" id="astruct_d_s___stream_config_html_a48886a25a5e5aa4b58165cbd61eca6ba"><div class="ttname"><a href="struct_d_s___stream_config.html#a48886a25a5e5aa4b58165cbd61eca6ba">DS_StreamConfig::rx_frame_head_pos_of_frame_candidate_</a></div><div class="ttdeci">uint16_t rx_frame_head_pos_of_frame_candidate_</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00335">driver_super.h:335</a></div></div>
<div class="ttc" id="adriver__super_8h_html"><div class="ttname"><a href="driver__super_8h.html">driver_super.h</a></div><div class="ttdoc">各制御センサ・アクチュエータ等とのインターフェースドライバ群のスーパークラス</div></div>
<div class="ttc" id="adriver__super_8h_html_ae0e20317c0a0480f3e294e4383ff644aac8a13148c31e5a7232201aa8d10e53e7"><div class="ttname"><a href="driver__super_8h.html#ae0e20317c0a0480f3e294e4383ff644aac8a13148c31e5a7232201aa8d10e53e7">DS_STREAM_SEND_STATUS_TX_ERR</a></div><div class="ttdeci">@ DS_STREAM_SEND_STATUS_TX_ERR</div><div class="ttdoc">IF_TXでエラー</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00147">driver_super.h:147</a></div></div>
<div class="ttc" id="astruct_d_s___stream_config_html_ad274f0933333c074d41c2283c848aa03"><div class="ttname"><a href="struct_d_s___stream_config.html#ad274f0933333c074d41c2283c848aa03">DS_StreamConfig::req_tlm_cmd_tx_count_after_last_tx_</a></div><div class="ttdeci">uint32_t req_tlm_cmd_tx_count_after_last_tx_</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00273">driver_super.h:273</a></div></div>
<div class="ttc" id="adriver__super_8c_html_ae3822bd6031c1023b5eac98cc3bf8e57"><div class="ttname"><a href="driver__super_8c.html#ae3822bd6031c1023b5eac98cc3bf8e57">DS_analyze_rx_buffer_variable_pickup_with_rx_frame_size_</a></div><div class="ttdeci">static uint16_t DS_analyze_rx_buffer_variable_pickup_with_rx_frame_size_(DS_StreamConfig *p_stream_config, uint8_t *rx_buffer, uint16_t total_processed_data_len, uint16_t rec_data_len)</div><div class="ttdoc">可変フレーム解析関数（バイト列処理）</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l00797">driver_super.c:797</a></div></div>
<div class="ttc" id="adriver__super_8h_html_a3f1d9e8a08d67a25845b0f48d19ccaa8af0cb8fbd4cd954d1b9aed805ceb54f40"><div class="ttname"><a href="driver__super_8h.html#a3f1d9e8a08d67a25845b0f48d19ccaa8af0cb8fbd4cd954d1b9aed805ceb54f40">DS_STREAM_REC_STATUS_DISABLE</a></div><div class="ttdeci">@ DS_STREAM_REC_STATUS_DISABLE</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00178">driver_super.h:178</a></div></div>
<div class="ttc" id="adriver__super_8c_html_a21bb6461f41e5269a0c6bda2e9277166"><div class="ttname"><a href="driver__super_8c.html#a21bb6461f41e5269a0c6bda2e9277166">DSSC_get_req_tlm_cmd_tx_count_after_last_tx</a></div><div class="ttdeci">uint32_t DSSC_get_req_tlm_cmd_tx_count_after_last_tx(const DS_StreamConfig *p_stream_config)</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l01476">driver_super.c:1476</a></div></div>
<div class="ttc" id="adriver__super_8c_html_a60c364a73c9e59802dd758e8ce57b3ce"><div class="ttname"><a href="driver__super_8c.html#a60c364a73c9e59802dd758e8ce57b3ce">DS_rx_</a></div><div class="ttdeci">static int DS_rx_(DriverSuper *p_super)</div><div class="ttdoc">継承先の機器からの受信データがあるか確認し，受信する</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l00420">driver_super.c:420</a></div></div>
<div class="ttc" id="astruct_d_s___stream_config_html_a84ca04a72cd7770fc4ec8d46e8a0771c"><div class="ttname"><a href="struct_d_s___stream_config.html#a84ca04a72cd7770fc4ec8d46e8a0771c">DS_StreamConfig::rx_footer_size_</a></div><div class="ttdeci">uint16_t rx_footer_size_</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00297">driver_super.h:297</a></div></div>
<div class="ttc" id="astruct_d_s___stream_send_status_html"><div class="ttname"><a href="struct_d_s___stream_send_status.html">DS_StreamSendStatus</a></div><div class="ttdoc">フレーム送信状況</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00157">driver_super.h:157</a></div></div>
<div class="ttc" id="adriver__super_8h_html_ae0e20317c0a0480f3e294e4383ff644aaaea3773416bb19ad55042ed12004847b"><div class="ttname"><a href="driver__super_8h.html#ae0e20317c0a0480f3e294e4383ff644aaaea3773416bb19ad55042ed12004847b">DS_STREAM_SEND_STATUS_OK</a></div><div class="ttdeci">@ DS_STREAM_SEND_STATUS_OK</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00145">driver_super.h:145</a></div></div>
<div class="ttc" id="adriver__super_8h_html_a3f1d9e8a08d67a25845b0f48d19ccaa8a0d2ea2811c14e096e9d75bafe4112e03"><div class="ttname"><a href="driver__super_8h.html#a3f1d9e8a08d67a25845b0f48d19ccaa8a0d2ea2811c14e096e9d75bafe4112e03">DS_STREAM_REC_STATUS_OTHER_ERR</a></div><div class="ttdeci">@ DS_STREAM_REC_STATUS_OTHER_ERR</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00185">driver_super.h:185</a></div></div>
<div class="ttc" id="adriver__super_8c_html_adf69410baeeea144dde24592cc2b5e26"><div class="ttname"><a href="driver__super_8c.html#adf69410baeeea144dde24592cc2b5e26">DSSC_disable_strict_frame_search</a></div><div class="ttdeci">void DSSC_disable_strict_frame_search(DS_StreamConfig *p_stream_config)</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l01451">driver_super.c:1451</a></div></div>
<div class="ttc" id="astruct_driver_super_html_a68921a2117dd6f95d878b6c201729bc9"><div class="ttname"><a href="struct_driver_super.html#a68921a2117dd6f95d878b6c201729bc9">DriverSuper::stream_config</a></div><div class="ttdeci">DS_StreamConfig stream_config[DS_STREAM_MAX]</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00362">driver_super.h:362</a></div></div>
<div class="ttc" id="astruct_d_s___rec_status_html_a996122cbb61146f48db29acf13fbd9d1"><div class="ttname"><a href="struct_d_s___rec_status.html#a996122cbb61146f48db29acf13fbd9d1">DS_RecStatus::rx_disruption_status</a></div><div class="ttdeci">DS_RX_DISRUPTION_STATUS_CODE rx_disruption_status</div><div class="ttdoc">受信途絶判定</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00134">driver_super.h:134</a></div></div>
<div class="ttc" id="adriver__super_8h_html_ae0e20317c0a0480f3e294e4383ff644aa2790e9d3c5f353cb80c08971465f8551"><div class="ttname"><a href="driver__super_8h.html#ae0e20317c0a0480f3e294e4383ff644aa2790e9d3c5f353cb80c08971465f8551">DS_STREAM_SEND_STATUS_VALIDATE_ERR</a></div><div class="ttdeci">@ DS_STREAM_SEND_STATUS_VALIDATE_ERR</div><div class="ttdoc">送信前にvalidate_configでエラー</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00148">driver_super.h:148</a></div></div>
<div class="ttc" id="adriver__super_8c_html_a34426aaa9d1fa2c65acba3997f07f3ad"><div class="ttname"><a href="driver__super_8c.html#a34426aaa9d1fa2c65acba3997f07f3ad">DS_conv_driver_err_to_ccp_exec_sts</a></div><div class="ttdeci">CCP_EXEC_STS DS_conv_driver_err_to_ccp_exec_sts(DS_DRIVER_ERR_CODE code)</div><div class="ttdoc">DS_DRIVER_ERR_CODE から CCP_EXEC_STS への変換関数</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l01635">driver_super.c:1635</a></div></div>
<div class="ttc" id="adriver__super_8c_html_a5d77012b9c7fe574718f680b603c98af"><div class="ttname"><a href="driver__super_8c.html#a5d77012b9c7fe574718f680b603c98af">DSSC_get_is_enable</a></div><div class="ttdeci">uint8_t DSSC_get_is_enable(const DS_StreamConfig *p_stream_config)</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l01423">driver_super.c:1423</a></div></div>
<div class="ttc" id="astruct_d_s___stream_config_html_a40aa4056e27652e4349d06b39538d4df"><div class="ttname"><a href="struct_d_s___stream_config.html#a40aa4056e27652e4349d06b39538d4df">DS_StreamConfig::rx_frame_size_</a></div><div class="ttdeci">int16_t rx_frame_size_</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00299">driver_super.h:299</a></div></div>
<div class="ttc" id="astruct_driver_super_html"><div class="ttname"><a href="struct_driver_super.html">DriverSuper</a></div><div class="ttdoc">DriverSuperの設定 各IFはこれを継承してつかう．</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00354">driver_super.h:354</a></div></div>
<div class="ttc" id="adriver__super_8c_html_ad65037ea9639ef7c8ade47c1c54bbf2e"><div class="ttname"><a href="driver__super_8c.html#ad65037ea9639ef7c8ade47c1c54bbf2e">DSSC_set_data_analyzer</a></div><div class="ttdeci">void DSSC_set_data_analyzer(DS_StreamConfig *p_stream_config, DS_ERR_CODE(*data_analyzer)(DS_StreamConfig *p_stream_config, void *p_driver))</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l01620">driver_super.c:1620</a></div></div>
<div class="ttc" id="astruct_d_s___config_html_a24adf564678b3834c4b5532af372f279"><div class="ttname"><a href="struct_d_s___config.html#a24adf564678b3834c4b5532af372f279">DS_Config::rx_time_</a></div><div class="ttdeci">ObcTime rx_time_</div><div class="ttdoc">なにかしらのデータの受信時刻</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00230">driver_super.h:230</a></div></div>
<div class="ttc" id="astruct_d_s___config_html_ab54e18abe98413930f6ad268f4c2fd39"><div class="ttname"><a href="struct_d_s___config.html#ab54e18abe98413930f6ad268f4c2fd39">DS_Config::load_init_setting</a></div><div class="ttdeci">DS_ERR_CODE(* load_init_setting)(DriverSuper *p_super)</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00238">driver_super.h:238</a></div></div>
<div class="ttc" id="adriver__super_8c_html_a9869582a20b5ae6e1d3014a3ced86e56"><div class="ttname"><a href="driver__super_8c.html#a9869582a20b5ae6e1d3014a3ced86e56">DSSC_set_rx_framelength_offset</a></div><div class="ttdeci">void DSSC_set_rx_framelength_offset(DS_StreamConfig *p_stream_config, const uint16_t rx_framelength_offset)</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l01579">driver_super.c:1579</a></div></div>
<div class="ttc" id="adriver__super_8c_html_ab223b76629636378c61745e0fc47313d"><div class="ttname"><a href="driver__super_8c.html#ab223b76629636378c61745e0fc47313d">DS_tx_</a></div><div class="ttdeci">static int DS_tx_(DriverSuper *p_super, uint8_t stream)</div><div class="ttdoc">継承先の機器にコマンドを発行する</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l00392">driver_super.c:392</a></div></div>
<div class="ttc" id="adriver__super_8c_html_a95fab9474dfa150c036bc7e72b5dccf2"><div class="ttname"><a href="driver__super_8c.html#a95fab9474dfa150c036bc7e72b5dccf2">DSSC_get_rx_frame_fix_count</a></div><div class="ttdeci">uint32_t DSSC_get_rx_frame_fix_count(const DS_StreamConfig *p_stream_config)</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l01481">driver_super.c:1481</a></div></div>
<div class="ttc" id="adriver__super_8c_html_ae68cf3bbca9e71841b4bc8b224ab10bc"><div class="ttname"><a href="driver__super_8c.html#ae68cf3bbca9e71841b4bc8b224ab10bc">DSSC_get_tx_frame_size</a></div><div class="ttdeci">uint16_t DSSC_get_tx_frame_size(const DS_StreamConfig *p_stream_config)</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l01515">driver_super.c:1515</a></div></div>
<div class="ttc" id="adriver__super_8h_html_ae2cc6e08ec5fab4997ba383ac7da05c7"><div class="ttname"><a href="driver__super_8h.html#ae2cc6e08ec5fab4997ba383ac7da05c7">DS_RX_DISRUPTION_STATUS_CODE</a></div><div class="ttdeci">DS_RX_DISRUPTION_STATUS_CODE</div><div class="ttdoc">受信途絶判定コード</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00120">driver_super.h:120</a></div></div>
<div class="ttc" id="adriver__super_8c_html_a371eac960584ee33531b907f98468763"><div class="ttname"><a href="driver__super_8c.html#a371eac960584ee33531b907f98468763">DSC_get_time_threshold_for_rx_disruption</a></div><div class="ttdeci">uint32_t DSC_get_time_threshold_for_rx_disruption(const DriverSuper *p_super)</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l01405">driver_super.c:1405</a></div></div>
<div class="ttc" id="astruct_d_s___stream_send_status_html_a5ad90db62d70cbc7ee7d28f9d3127b4f"><div class="ttname"><a href="struct_d_s___stream_send_status.html#a5ad90db62d70cbc7ee7d28f9d3127b4f">DS_StreamSendStatus::ret_from_if_tx</a></div><div class="ttdeci">int ret_from_if_tx</div><div class="ttdoc">IF_TX の返り値</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00160">driver_super.h:160</a></div></div>
<div class="ttc" id="atime__manager_8c_html_a9d04b4d9b622cbe5a90cf65e58b828bc"><div class="ttname"><a href="time__manager_8c.html#a9d04b4d9b622cbe5a90cf65e58b828bc">TMGR_get_master_clock</a></div><div class="ttdeci">ObcTime TMGR_get_master_clock(void)</div><div class="ttdoc">現在の master_clock_ を取得する</div><div class="ttdef"><b>Definition:</b> <a href="time__manager_8c_source.html#l00078">time_manager.c:78</a></div></div>
<div class="ttc" id="astruct_d_s___stream_config_html_ab151f14576e06599f6e24475cee9271e"><div class="ttname"><a href="struct_d_s___stream_config.html#ab151f14576e06599f6e24475cee9271e">DS_StreamConfig::rx_header_</a></div><div class="ttdeci">const uint8_t * rx_header_</div><div class="ttdoc">受信データのヘッダ</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00289">driver_super.h:289</a></div></div>
<div class="ttc" id="astruct_d_s___stream_send_status_html_ad6661ec32aa7c036399075dacb633b3b"><div class="ttname"><a href="struct_d_s___stream_send_status.html#ad6661ec32aa7c036399075dacb633b3b">DS_StreamSendStatus::status_code</a></div><div class="ttdeci">DS_STREAM_SEND_STATUS_CODE status_code</div><div class="ttdoc">status</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00159">driver_super.h:159</a></div></div>
<div class="ttc" id="adriver__super_8c_html_a95fe4e85c5c2e4eebab7aa701bd924e7"><div class="ttname"><a href="driver__super_8c.html#a95fe4e85c5c2e4eebab7aa701bd924e7">DSSC_get_rx_frame_fix_time</a></div><div class="ttdeci">const ObcTime * DSSC_get_rx_frame_fix_time(const DS_StreamConfig *p_stream_config)</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l01496">driver_super.c:1496</a></div></div>
<div class="ttc" id="adriver__super_8c_html_a54c663378f78e30014495b4957a575ff"><div class="ttname"><a href="driver__super_8c.html#a54c663378f78e30014495b4957a575ff">DS_validate_config</a></div><div class="ttdeci">DS_ERR_CODE DS_validate_config(DriverSuper *p_super)</div><div class="ttdoc">DriverSuperの設定に不整合が生じていないかチェックする</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l00122">driver_super.c:122</a></div></div>
<div class="ttc" id="adriver__super_8h_html_a81f032590771b0c11b9190ad7004cd6ba309dc2c9955bedbc39f7418cbe213a61"><div class="ttname"><a href="driver__super_8h.html#a81f032590771b0c11b9190ad7004cd6ba309dc2c9955bedbc39f7418cbe213a61">DS_CMD_ILLEGAL_PARAMETER</a></div><div class="ttdeci">@ DS_CMD_ILLEGAL_PARAMETER</div><div class="ttdoc">CCP_EXEC_ILLEGAL_PARAMETER に対応．ヒーターの個数など，HW依存部はDrivreでみる</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00095">driver_super.h:95</a></div></div>
<div class="ttc" id="astruct_d_s___stream_config_html_af745a25396635c55741e438c52efb94a"><div class="ttname"><a href="struct_d_s___stream_config.html#af745a25396635c55741e438c52efb94a">DS_StreamConfig::rx_header_size_</a></div><div class="ttdeci">uint16_t rx_header_size_</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00290">driver_super.h:290</a></div></div>
<div class="ttc" id="astruct_d_s___stream_config_html_a03659e2304682a4e415c302ceaf9dc57"><div class="ttname"><a href="struct_d_s___stream_config.html#a03659e2304682a4e415c302ceaf9dc57">DS_StreamConfig::is_validation_needed_for_rec_</a></div><div class="ttdeci">uint8_t is_validation_needed_for_rec_</div><div class="ttdoc">受信前に設定値の Validation が必要か？</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00332">driver_super.h:332</a></div></div>
<div class="ttc" id="adriver__super_8c_html_a327aa0dff1f26d84dd4afa489e3be155"><div class="ttname"><a href="driver__super_8c.html#a327aa0dff1f26d84dd4afa489e3be155">DSSC_get_send_status</a></div><div class="ttdeci">const DS_StreamSendStatus * DSSC_get_send_status(const DS_StreamConfig *p_stream_config)</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l01456">driver_super.c:1456</a></div></div>
<div class="ttc" id="astruct_d_s___stream_config_html_a10b16bacba530b45086e9c0d7592bb96"><div class="ttname"><a href="struct_d_s___stream_config.html#a10b16bacba530b45086e9c0d7592bb96">DS_StreamConfig::req_tlm_cmd_tx_count_</a></div><div class="ttdeci">uint32_t req_tlm_cmd_tx_count_</div><div class="ttdoc">テレメ要求コマンド送信回数</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00272">driver_super.h:272</a></div></div>
<div class="ttc" id="aif__list_8c_html_a695c21768b3a91f7c5fa17affcedce5b"><div class="ttname"><a href="if__list_8c.html#a695c21768b3a91f7c5fa17affcedce5b">IF_RX</a></div><div class="ttdeci">int(* IF_RX[])(void *my_if, void *data_v, int buffer_size)</div><div class="ttdef"><b>Definition:</b> <a href="if__list_8c_source.html#l00008">if_list.c:8</a></div></div>
<div class="ttc" id="adriver__super_8c_html_a2935f3dec3b15f656c2370358a5e4b24"><div class="ttname"><a href="driver__super_8c.html#a2935f3dec3b15f656c2370358a5e4b24">DSC_get_rx_count</a></div><div class="ttdeci">uint32_t DSC_get_rx_count(const DriverSuper *p_super)</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l01375">driver_super.c:1375</a></div></div>
<div class="ttc" id="adriver__super_8c_html_a257d3e5ef0b2a07401bc30641d50b69a"><div class="ttname"><a href="driver__super_8c.html#a257d3e5ef0b2a07401bc30641d50b69a">DSSC_set_rx_frame_size</a></div><div class="ttdeci">void DSSC_set_rx_frame_size(DS_StreamConfig *p_stream_config, const int16_t rx_frame_size)</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l01543">driver_super.c:1543</a></div></div>
<div class="ttc" id="acommon__cmd__packet_8h_html_a5819361d7f600a9e471467b328b8714bac123b0c2d64d5cb071015562f0aac418"><div class="ttname"><a href="common__cmd__packet_8h.html#a5819361d7f600a9e471467b328b8714bac123b0c2d64d5cb071015562f0aac418">CCP_EXEC_ILLEGAL_CONTEXT</a></div><div class="ttdeci">@ CCP_EXEC_ILLEGAL_CONTEXT</div><div class="ttdoc">コマンド実行時のその他のエラー</div><div class="ttdef"><b>Definition:</b> <a href="common__cmd__packet_8h_source.html#l00029">common_cmd_packet.h:29</a></div></div>
<div class="ttc" id="astruct_d_s___stream_config_html"><div class="ttname"><a href="struct_d_s___stream_config.html">DS_StreamConfig</a></div><div class="ttdoc">DriverSuperStreamの設定</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00248">driver_super.h:248</a></div></div>
<div class="ttc" id="adriver__super_8c_html_aba44a396fa200beaf48099d2f50bfb12"><div class="ttname"><a href="driver__super_8c.html#aba44a396fa200beaf48099d2f50bfb12">DS_analyze_rx_buffer_variable_pickup_with_footer_</a></div><div class="ttdeci">static uint16_t DS_analyze_rx_buffer_variable_pickup_with_footer_(DS_StreamConfig *p_stream_config, uint8_t *rx_buffer, uint16_t total_processed_data_len, uint16_t rec_data_len)</div><div class="ttdoc">可変フレーム解析関数（バイト列処理）</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l00932">driver_super.c:932</a></div></div>
<div class="ttc" id="adriver__super_8c_html_ac08f8c480a922624b49921ed953f71be"><div class="ttname"><a href="driver__super_8c.html#ac08f8c480a922624b49921ed953f71be">DSSC_set_rx_header</a></div><div class="ttdeci">void DSSC_set_rx_header(DS_StreamConfig *p_stream_config, const uint8_t *rx_header, const uint16_t rx_header_size)</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l01525">driver_super.c:1525</a></div></div>
<div class="ttc" id="astruct_d_s___rec_status_html_ab7c5097dd4b1f2d8b43ee9e6d1849107"><div class="ttname"><a href="struct_d_s___rec_status.html#ab7c5097dd4b1f2d8b43ee9e6d1849107">DS_RecStatus::ret_from_if_rx</a></div><div class="ttdeci">int ret_from_if_rx</div><div class="ttdoc">IF_RX の返り値</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00133">driver_super.h:133</a></div></div>
<div class="ttc" id="adriver__super_8h_html_a29dc76d4a0cae46236bfdef2e452128d"><div class="ttname"><a href="driver__super_8h.html#a29dc76d4a0cae46236bfdef2e452128d">DS_RX_BUFFER_SIZE_MAX</a></div><div class="ttdeci">#define DS_RX_BUFFER_SIZE_MAX</div><div class="ttdoc">受信データバッファの最大長</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00020">driver_super.h:20</a></div></div>
<div class="ttc" id="astdint_8h_html_a06896e8c53f721507066c079052171f8"><div class="ttname"><a href="stdint_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a></div><div class="ttdeci">unsigned long uint32_t</div><div class="ttdef"><b>Definition:</b> <a href="stdint_8h_source.html#l00020">stdint.h:20</a></div></div>
<div class="ttc" id="adriver__super_8h_html_a3f1d9e8a08d67a25845b0f48d19ccaa8a1928d0485a87b2311bbc48c9c62eab08"><div class="ttname"><a href="driver__super_8h.html#a3f1d9e8a08d67a25845b0f48d19ccaa8a1928d0485a87b2311bbc48c9c62eab08">DS_STREAM_REC_STATUS_FOOTER_MISMATCH</a></div><div class="ttdeci">@ DS_STREAM_REC_STATUS_FOOTER_MISMATCH</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00180">driver_super.h:180</a></div></div>
<div class="ttc" id="adriver__super_8c_html_af380ebeb56493a0680e2e4c50e74b979"><div class="ttname"><a href="driver__super_8c.html#af380ebeb56493a0680e2e4c50e74b979">DS_send_req_tlm_cmd</a></div><div class="ttdeci">DS_ERR_CODE DS_send_req_tlm_cmd(DriverSuper *p_super, uint8_t stream)</div><div class="ttdoc">継承先の機器にテレメ要求コマンドを発行する</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l00324">driver_super.c:324</a></div></div>
<div class="ttc" id="adriver__super_8c_html_aa1808ed031c65cfd936fa3c2cc9bae66"><div class="ttname"><a href="driver__super_8c.html#aa1808ed031c65cfd936fa3c2cc9bae66">DS_analyze_rx_buffer_prepare_buffer_</a></div><div class="ttdeci">static uint16_t DS_analyze_rx_buffer_prepare_buffer_(DriverSuper *p_super, uint8_t stream, uint8_t *rx_buffer, uint16_t rec_data_len)</div><div class="ttdoc">解析用受信バッファの準備</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l00500">driver_super.c:500</a></div></div>
<div class="ttc" id="adriver__super_8c_html_a5e24e851562dc9e39b3053dc7adac62f"><div class="ttname"><a href="driver__super_8c.html#a5e24e851562dc9e39b3053dc7adac62f">DSSC_get_rx_footer_size</a></div><div class="ttdeci">uint16_t DSSC_get_rx_footer_size(const DS_StreamConfig *p_stream_config)</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l01555">driver_super.c:1555</a></div></div>
<div class="ttc" id="adriver__super_8c_html_af3cb3191ff23514897baa564e95fee12"><div class="ttname"><a href="driver__super_8c.html#af3cb3191ff23514897baa564e95fee12">DS_analyze_rx_buffer_finding_header_</a></div><div class="ttdeci">static uint16_t DS_analyze_rx_buffer_finding_header_(DS_StreamConfig *p_stream_config, uint8_t *rx_buffer, uint16_t total_processed_data_len, uint16_t rec_data_len)</div><div class="ttdoc">フレーム解析関数（ヘッダ探索）</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l01050">driver_super.c:1050</a></div></div>
<div class="ttc" id="adriver__super_8c_html_ac142b598415fe82a02dd65e94a499a0a"><div class="ttname"><a href="driver__super_8c.html#ac142b598415fe82a02dd65e94a499a0a">DSSC_enable_monitor_for_tlm_disruption</a></div><div class="ttdeci">void DSSC_enable_monitor_for_tlm_disruption(DS_StreamConfig *p_stream_config)</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l01591">driver_super.c:1591</a></div></div>
<div class="ttc" id="astruct_d_s___stream_config_html_a4922751434c4921fae9cd169e3149839"><div class="ttname"><a href="struct_d_s___stream_config.html#a4922751434c4921fae9cd169e3149839">DS_StreamConfig::rx_framelength_offset_</a></div><div class="ttdeci">uint16_t rx_framelength_offset_</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00314">driver_super.h:314</a></div></div>
<div class="ttc" id="astruct_d_s___stream_config_html_a2c8dc3e6f9272fef577298e205778962"><div class="ttname"><a href="struct_d_s___stream_config.html#a2c8dc3e6f9272fef577298e205778962">DS_StreamConfig::should_monitor_for_tlm_disruption_</a></div><div class="ttdeci">uint8_t should_monitor_for_tlm_disruption_</div><div class="ttdoc">テレメ途絶判定をするか？</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00321">driver_super.h:321</a></div></div>
<div class="ttc" id="adriver__super_8c_html_a20f6e3e030aa25c35cae879b42b1c334"><div class="ttname"><a href="driver__super_8c.html#a20f6e3e030aa25c35cae879b42b1c334">DSSC_get_is_strict_frame_search</a></div><div class="ttdeci">uint8_t DSSC_get_is_strict_frame_search(const DS_StreamConfig *p_stream_config)</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l01440">driver_super.c:1440</a></div></div>
<div class="ttc" id="adriver__super_8h_html_a3f1d9e8a08d67a25845b0f48d19ccaa8a43237a4338faebb542a41953c4d2b593"><div class="ttname"><a href="driver__super_8h.html#a3f1d9e8a08d67a25845b0f48d19ccaa8a43237a4338faebb542a41953c4d2b593">DS_STREAM_REC_STATUS_HEADER_MISMATCH</a></div><div class="ttdeci">@ DS_STREAM_REC_STATUS_HEADER_MISMATCH</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00179">driver_super.h:179</a></div></div>
<div class="ttc" id="astruct_d_s___config_html_a0e6315f613f40d1debf8c3814f0a25c5"><div class="ttname"><a href="struct_d_s___config.html#a0e6315f613f40d1debf8c3814f0a25c5">DS_Config::should_monitor_for_rx_disruption_</a></div><div class="ttdeci">uint8_t should_monitor_for_rx_disruption_</div><div class="ttdoc">受信途絶判定をするか？</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00232">driver_super.h:232</a></div></div>
<div class="ttc" id="astruct_d_s___stream_rec_status_html_a9082f15a82ab54b1ada1fcb76893982c"><div class="ttname"><a href="struct_d_s___stream_rec_status.html#a9082f15a82ab54b1ada1fcb76893982c">DS_StreamRecStatus::count_of_carry_over_failures</a></div><div class="ttdeci">uint32_t count_of_carry_over_failures</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00210">driver_super.h:210</a></div></div>
<div class="ttc" id="aif__list_8c_html_ae28da865a8fb442c8a6970302e06d179"><div class="ttname"><a href="if__list_8c.html#ae28da865a8fb442c8a6970302e06d179">IF_TX</a></div><div class="ttdeci">int(* IF_TX[])(void *my_if, void *data_v, int data_size)</div><div class="ttdef"><b>Definition:</b> <a href="if__list_8c_source.html#l00010">if_list.c:10</a></div></div>
<div class="ttc" id="adriver__super_8h_html_a8f1715418b65ccb642fc9ea570aaa76aac46182cdffefd8aa7e1ef83702ce1427"><div class="ttname"><a href="driver__super_8h.html#a8f1715418b65ccb642fc9ea570aaa76aac46182cdffefd8aa7e1ef83702ce1427">DS_DRIVER_ERR_CODE_UNKNOWN_ERR</a></div><div class="ttdeci">@ DS_DRIVER_ERR_CODE_UNKNOWN_ERR</div><div class="ttdoc">UNKNOWN ERR</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00050">driver_super.h:50</a></div></div>
<div class="ttc" id="astruct_d_s___stream_config_html_a5c96aa29a909ab069dbe8fca13bbea9d"><div class="ttname"><a href="struct_d_s___stream_config.html#a5c96aa29a909ab069dbe8fca13bbea9d">DS_StreamConfig::is_enabled_</a></div><div class="ttdeci">uint8_t is_enabled_</div><div class="ttdoc">有効か？</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00255">driver_super.h:255</a></div></div>
<div class="ttc" id="adriver__super_8c_html_a093a693ceac26a42fe3157cae06259ac"><div class="ttname"><a href="driver__super_8c.html#a093a693ceac26a42fe3157cae06259ac">DSSC_enable_strict_frame_search</a></div><div class="ttdeci">void DSSC_enable_strict_frame_search(DS_StreamConfig *p_stream_config)</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l01445">driver_super.c:1445</a></div></div>
<div class="ttc" id="adriver__super_8h_html_a3f1d9e8a08d67a25845b0f48d19ccaa8a916d9db5cf61d9ad82cfb3a0f181fa20"><div class="ttname"><a href="driver__super_8h.html#a3f1d9e8a08d67a25845b0f48d19ccaa8a916d9db5cf61d9ad82cfb3a0f181fa20">DS_STREAM_REC_STATUS_RECEIVING_HEADER</a></div><div class="ttdeci">@ DS_STREAM_REC_STATUS_RECEIVING_HEADER</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00173">driver_super.h:173</a></div></div>
<div class="ttc" id="adriver__super_8c_html_acadaccbff239185ebda242d39d4942bd"><div class="ttname"><a href="driver__super_8c.html#acadaccbff239185ebda242d39d4942bd">DS_receive</a></div><div class="ttdeci">DS_ERR_CODE DS_receive(DriverSuper *p_super)</div><div class="ttdoc">継承先の機器からテレメトリを受信する</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l00164">driver_super.c:164</a></div></div>
<div class="ttc" id="adriver__super_8h_html_a4d856578726e06c124ae25b20f486454af11a171fa4852304ec97b733a61f8d6a"><div class="ttname"><a href="driver__super_8h.html#a4d856578726e06c124ae25b20f486454af11a171fa4852304ec97b733a61f8d6a">DS_STREAM_TLM_DISRUPTION_STATUS_LOST</a></div><div class="ttdeci">@ DS_STREAM_TLM_DISRUPTION_STATUS_LOST</div><div class="ttdoc">テレメ途絶検出</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00197">driver_super.h:197</a></div></div>
<div class="ttc" id="astruct_d_s___config_html_a7a70fd58861ceac15a5ec34396a71fb2"><div class="ttname"><a href="struct_d_s___config.html#a7a70fd58861ceac15a5ec34396a71fb2">DS_Config::rx_count_</a></div><div class="ttdeci">uint32_t rx_count_</div><div class="ttdoc">なにかしらのデータの受信回数</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00227">driver_super.h:227</a></div></div>
<div class="ttc" id="adriver__super_8c_html_a4cb9380be51675ba6a6abe900f48566d"><div class="ttname"><a href="driver__super_8c.html#a4cb9380be51675ba6a6abe900f48566d">DSSC_get_req_tlm_cmd_tx_count</a></div><div class="ttdeci">uint32_t DSSC_get_req_tlm_cmd_tx_count(const DS_StreamConfig *p_stream_config)</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l01471">driver_super.c:1471</a></div></div>
<div class="ttc" id="adriver__super_8c_html_a4f3710a7420c787a611a22095904cb63"><div class="ttname"><a href="driver__super_8c.html#a4f3710a7420c787a611a22095904cb63">DSSC_get_should_monitor_for_tlm_disruption</a></div><div class="ttdeci">uint8_t DSSC_get_should_monitor_for_tlm_disruption(const DS_StreamConfig *p_stream_config)</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l01586">driver_super.c:1586</a></div></div>
<div class="ttc" id="adriver__super_8h_html_a81f032590771b0c11b9190ad7004cd6badeb4df4fb67702ea033f54b2a96acdbd"><div class="ttname"><a href="driver__super_8h.html#a81f032590771b0c11b9190ad7004cd6badeb4df4fb67702ea033f54b2a96acdbd">DS_CMD_ILLEGAL_CONTEXT</a></div><div class="ttdeci">@ DS_CMD_ILLEGAL_CONTEXT</div><div class="ttdoc">CCP_EXEC_ILLEGAL_CONTEXT に対応．DIでみることも多いはず．HW依存部はDriverでみる</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8h_source.html#l00094">driver_super.h:94</a></div></div>
<div class="ttc" id="adriver__super_8c_html_a5048adcd683afb1bb71d4277a0f673d7"><div class="ttname"><a href="driver__super_8c.html#a5048adcd683afb1bb71d4277a0f673d7">DS_analyze_rec_data</a></div><div class="ttdeci">DS_ERR_CODE DS_analyze_rec_data(DriverSuper *p_super, uint8_t stream, void *p_driver)</div><div class="ttdoc">data_analyzer_ を呼び出し，受信データを解析する．</div><div class="ttdef"><b>Definition:</b> <a href="driver__super_8c_source.html#l00293">driver_super.c:293</a></div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_be63cfd930404a85b97e9333ec04cd9e.html">src_core</a></li><li class="navelem"><a class="el" href="dir_5aa36b0b2e2a91a5ba31d755d7179f05.html">Drivers</a></li><li class="navelem"><a class="el" href="dir_ab5bf86cca0ab6d5a740561597b3fd7a.html">Super</a></li><li class="navelem"><a class="el" href="driver__super_8c.html">driver_super.c</a></li>
    <li class="footer">構築:
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
